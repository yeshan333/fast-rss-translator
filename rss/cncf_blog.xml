<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>CNCF - Blog</title>
    <link>http://cloudys-rsshub-ab061133bcab.herokuapp.com/cncf</link>
    <description>CNCF - Blog - Powered by RSSHub</description>
    <managingEditor>contact@rsshub.app (RSSHub)</managingEditor>
    <item>
      <title>【Securing the Node: A Primer on Cilium’s Host Firewall】确保节点：Cilium的主机防火墙上的底漆</title>
      <link>https://www.cncf.io/blog/2025/09/03/securing-the-node-a-primer-on-ciliums-host-firewall/</link>
      <description>【&lt;p&gt;When discussing Kubernetes network security, much of the attention focuses on pod-to-pod traffic, ingress controllers, and service meshes. But what about the underlying nodes themselves, the very foundation on which our workloads run? The attack surface that Kubernetes nodes expose is vast and, if left unprotected, can become a golden ticket for malicious actors.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Cilium host firewall is built to lock down the host network namespace with precision, visibility, and control, extending the same familiar declarative Kubernetes network policy model to the underlying host. In this blog post, we’ll explore what Cilium Host Firewall is, how it works, and why it should be a core part of your Kubernetes security.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;The Node as a Blind Spot&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Kubernetes native network policies don’t apply to host-level traffic. This means any communication that enters or leaves the host directly (for example, SSH, kubelet, or external monitoring agents) is largely invisible to traditional Kubernetes policy enforcement. While some firewalling is possible via firewalld or external systems, managing those rules is brittle and lacks integration with Kubernetes. At its core, this is the problem Cilium Host Firewall solves. Leveraging eBPF, Cilium introduces host firewalling directly into the fabric of the cluster.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;How Cilium’s Host Firewall Works&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Cilium treats the node as a special type of endpoint with the label reserved:host. This lets us apply policies just like we would for pods, except these apply to traffic to and from the node(s) themselves. Cilium host firewall operates at the interface level. You can explicitly set which devices it attaches to (eth0, eth1, etc.), or let Cilium auto-detect them.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-image size-full&#34;&gt;&lt;img loading=&#34;lazy&#34; decoding=&#34;async&#34; width=&#34;1600&#34; height=&#34;998&#34; src=&#34;https://www.cncf.io/wp-content/uploads/2025/08/image-2.jpg&#34; alt=&#34;Kind cluster graphic&#34; class=&#34;wp-image-145310&#34; srcset=&#34;https://www.cncf.io/wp-content/uploads/2025/08/image-2.jpg 1600w, https://www.cncf.io/wp-content/uploads/2025/08/image-2-300x187.jpg 300w, https://www.cncf.io/wp-content/uploads/2025/08/image-2-1024x639.jpg 1024w, https://www.cncf.io/wp-content/uploads/2025/08/image-2-768x479.jpg 768w, https://www.cncf.io/wp-content/uploads/2025/08/image-2-900x561.jpg 900w, https://www.cncf.io/wp-content/uploads/2025/08/image-2-321x200.jpg 321w, https://www.cncf.io/wp-content/uploads/2025/08/image-2-641x400.jpg 641w&#34; sizes=&#34;auto, (max-width: 1600px) 100vw, 1600px&#34; referrerpolicy=&#34;no-referrer&#34;&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Enabling Host Firewall&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The most convenient way to try out Cilium’s host firewall while keeping the user experience close to that of a production cluster is to set up your Kubernetes environment using a tool that spins up virtual machines locally. This makes it easier to test SSH access, simulate real network interfaces, and apply node-level policies. My preferred approaches include &lt;a href=&#34;https://minikube.sigs.k8s.io/docs/&#34;&gt;Minikube&lt;/a&gt; with the V&lt;a href=&#34;https://minikube.sigs.k8s.io/docs/drivers/virtualbox/&#34;&gt;irtualbox driver&lt;/a&gt;, or &lt;a href=&#34;https://k3s.io/&#34;&gt;k3s&lt;/a&gt; combined with &lt;a href=&#34;https://canonical.com/multipass&#34;&gt;Multipass&lt;/a&gt; for lightweight VM-based nodes that you can SSH into. We won’t dive into setting up a cluster for the sake of brevity. That said, you’re free to set up your cluster however you like, as long as it allows you to test Cilium in a way that includes host-level visibility and networking.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;If you are installing Cilium via the Cilium CLI, you can enable host firewall with the flag below.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;cilium install \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--version 1.17.4 \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--set hostFirewall.enabled=true \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--set kubeProxyReplacement=true&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Via Helm, you can also enable the host firewall like below.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;helm install cilium ./cilium \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--namespace kube-system \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--set hostFirewall.enabled=true \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--set devices=&#39;{eth0}&#39;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Once Cilium has been deployed, it starts managing the selected interfaces and the host endpoint. You can verify the status with:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;kubectl exec -n kube-system ds/cilium -- cilium-dbg status | grep&#xA;&#39;Host firewall&#39;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;We can also verify that the Host Firewall feature is activated using the Cilium CLI:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;cilium config view | grep host-firewall&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;To apply policies, first label the target node:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;kubectl label node k8s1 node-access=ssh&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This allows you to scope policies to specific nodes based on purpose or function (e.g., node-access=ssh, type=ingress-worker).&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Audit Mode&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Before enforcing a new host policy, you can enable Policy Audit Mode. This mode logs what would have been dropped without actually enforcing the rules. It’s an essential step to avoid self-inflicted outages such as accidentally cutting off access to the kube-apiserver or SSH.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;&amp;nbsp; &amp;nbsp; kexec cilium-dbg endpoint config $HOST_EP_ID&#xA;PolicyAuditMode=Enabled&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Monitor traffic verdicts with:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;&amp;nbsp; &amp;nbsp; kexec cilium-dbg monitor -t policy-verdict --related-to&#xA;$HOST_EP_ID&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This provides real-time insights into which flows would have been denied, letting you fine-tune policies before flipping the enforcement switch.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Observe Network Traffic with Hubble&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Cilium assigns a special identity of “1” to the nodes in a cluster. We can use this identity to filter and observe the node’s network traffic.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;&amp;nbsp; &amp;nbsp; hubble observe --to-identity 1 --port 22 -f&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Writing Host Network Policies&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Host network policies are defined using the CiliumClusterwideNetworkPolicy (CCNP) custom resource. Anatomically, the major difference between host policies and network policies is that traffic is matched based on the nodeSelector field rather than podSelector or endpointSelector like in Cilium network policies. This essentially means policies are scoped to the node itself, rather than to specific pods or workloads.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This table summarizes the key differences between Cilium host policies and Cilium network policies.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-table&#34;&gt;&lt;table class=&#34;has-fixed-layout&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Feature&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;Cilium Network Policy&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;Cilium Host Policy&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Selector Type&lt;/td&gt;&lt;td&gt;endpointSelector (pod-level)&lt;/td&gt;&lt;td&gt;nodeSelector (node-level)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Namespace Scope&lt;/td&gt;&lt;td&gt;Namespaced or cluster-wide&lt;/td&gt;&lt;td&gt;Always cluster-wide&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Applies To&lt;/td&gt;&lt;td&gt;Pods (in or out of host networking)&lt;/td&gt;&lt;td&gt;Host namespace + host-networked pods&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;L3/L4 Rules&lt;/td&gt;&lt;td&gt;✅&lt;/td&gt;&lt;td&gt;✅&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;L7 Rules&lt;/td&gt;&lt;td&gt;✅&lt;/td&gt;&lt;td&gt;❌&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Here’s an example host network policy that allows only SSH (TCP/22) and ICMP (ping) traffic from outside the cluster, while permitting all internal cluster communications to the host:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;apiVersion: &#39;cilium.io/v2&#39;&#xA;&#xA;kind: CiliumClusterwideNetworkPolicy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: &#39;demo-host-policy&#39;&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;nodeSelector:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;matchLabels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;node-access: ssh&#xA;&#xA;&amp;nbsp;&amp;nbsp;ingress:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- fromEntities:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- cluster&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- toPorts:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- ports:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- port: &#39;22&#39;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: TCP&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- icmps:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- fields:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- type: EchoRequest&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;family: IPv4&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Enforcing the Policy&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Once you’re confident your policy won’t break anything, you can disable audit mode:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;&amp;nbsp; &amp;nbsp; kexec cilium-dbg endpoint config $HOST_EP_ID&#xA;PolicyAuditMode=Disabled&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Immediately, Cilium will begin enforcing the host policy. Any disallowed communication, like a rogue external SSH attempt, will be blocked and logged with a clear verdict:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;&amp;nbsp; &amp;nbsp; Policy verdict log: action deny, match none, 10.0.2.2:49038&#xA;-&amp;gt; 10.0.2.15:21 tcp SYN&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Here’s an example of a real-world production policy that permits just the minimum required ingress traffic to a worker node:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;piVersion: &#39;cilium.io/v2&#39;&#xA;&#xA;kind: CiliumClusterwideNetworkPolicy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: &#39;lock-down-ingress-worker-node&#39;&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;nodeSelector:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;matchLabels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: ingress-worker&#xA;&#xA;&amp;nbsp;&amp;nbsp;ingress:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- fromEntities:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- remote-node&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- health&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- toPorts:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- ports:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- port: &#39;22&#39;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: TCP&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- port: &#39;6443&#39;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: TCP # kube-apiserver&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- port: &#39;2379&#39;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: TCP # etcd&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- port: &#39;4240&#39;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: TCP # health checks&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- port: &#39;8472&#39;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: UDP # VXLAN&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Best Practices and Troubleshooting Tips&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Label Nodes Clearly : Make sure nodeSelector labels in your policy match what’s actually set on the nodes.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Use Audit Mode First : Always test in audit mode to avoid breaking the control plane or SSH access.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Watch Monitor Logs : Use cilium-dbg monitor to get clear visibility into dropped or allowed packets.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Match Devices : If host firewall seems inactive, verify that Cilium is managing the correct interfaces with cilium-dbg status.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Hubble is Your Friend : Flow logs from Hubble come in very handy when writing and debugging policies.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Cilium Host Firewall brings Kubernetes-native, eBPF-powered network security to the host layer, giving operators fine-grained control over traffic to and from the Kubernetes nodes themselves. By using the same familiar Kubernetes network policy declarative model, it’s easier than ever to treat your nodes as first-class citizens.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Additional Resources:&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://isovalent.com/labs/cilium-host-firewall/&#34;&gt;Cilium Host Firewall Lab&lt;/a&gt;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=GLLLcz398K0&amp;amp;t=288s&#34;&gt;eCHO Episode 40: Cilium Host Firewall&lt;/a&gt;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=fLYHG07VdNc&#34;&gt;eCHO Episode 184: Securing Kubernetes Nodes with Cilium Host Firewall&lt;/a&gt;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=-3Fbb3BNjjE&#34;&gt;Kubernetes Node Firewalling from the Inside Out – Jef Spaleta &amp;amp; Justin Garrison&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt;在讨论Kubernetes网络安全性时，大部分注意力集中在吊舱流量，入口控制器和服务网格上。但是，基础节点本身呢？ Kubernetes节点暴露的攻击表面很大，如果没有保护，可能会成为恶意演员的金票。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Cilium Host Firewall旨在锁定主机网络名称空间，可见性和控制，将相同熟悉的声明性Kubernetes网络策略模型扩展到基础主机。在这篇博客文章中，我们将探讨Cilium Host Firewall是什么，其工作原理以及为什么它应该成为您的Kubernetes安全的核心部分。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;节点作为盲点&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; kubernetes本地网络策略不适用于主机级流量。这意味着直接进入或离开主机的任何通信（例如，SSH，kubelet或外部监视剂）对于传统的Kubernetes政策执法基本上都是看不见的。尽管通过防火墙或外部系统可以进行一些防火墙，但管理这些规则是脆弱的，并且缺乏与Kubernetes的集成。从本质上讲，这是Cilium Host Firewall解决的问题。利用EBPF，Cilium将宿主防火墙直接引入集群的结构。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt; cilium的主机防火墙如何工作&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; cilium将节点视为特殊类型的端点，并保留标签：主机。这使我们能够像吊舱一样应用策略，除了适用于节点本身的流量。 Cilium主机防火墙在接口级别运行。您可以显式设置其设备所附到（ETH0，ETH1等）的设备，或者让Cilium自动检测它们。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-image size-full”&gt; &lt;img loading =“ lazy” dexoding =“ async” width =“ 1600” height =“ 998” src =“ https://wwwww.cncf.io/wp-content/wp-content/wp-content/uploads/uploads/uploads/uploads/uploads/2025/2025/08/08/image-clustr = class =“ wp-image-145310” srcset =“ https://www.cncf.io/wp-content/uploads/2025/08/image-2.jpg 1600W， https://www.cncf.io/wp-content/uploads/2025/08/image-2-300x187.jpg 300w，https://wwwwwww.cncf.io/wpf.io/wp-p-content/wp-content/wp-content/uploads/uploads/uploads/uploads/2025/2025/08/08/image-cage-camage-cage-cage-cage-cage-cage-10244w9.jp.-1024w9.jpp. https://www.cncf.io/wp-content/uploads/2025/08/image-2-768x479.jpg 768w, https://www.cncf.io/wp-content/uploads/2025/08/image-2-900x561.jpg 900w, https://www.cncf.io/wp-content/uploads/2025/08/image-2-321x200.jpg 321W，https://www.cncf.io/wp.io/wp-content/wp-content/wploads/uploads/uploads/uploads/2025/2025/2025/08/image-cage-244414.pp644144414414414414414414.pp尺寸=“ auto，（最大宽度：1600px）100VW，1600px” referrerpolicy =“ no-toferrer”&gt; &lt;/fige&gt;&gt; &lt;/fige&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;启用主机防火墙&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;尝试Cilium的主机防火墙的最方便方法，同时使用户体验接近生产群集的使用情况是使用本地启动虚拟机的工具来设置Kubernetes环境。这使它更容易要测试SSH访问，请模拟真实的网络接口并应用节点级策略。我首选的方法包括&lt;a href =“ https://minikube.sigs.k8s.io/docs/”&gt; minikube &lt;/a&gt;与v &lt;a href =“ https://minikube.sig.sigs.k8s.k8s.k8s.k8s.io/docs/docs/drivers/drivers/drivers/virtialbox/”&gt; href =“ https://k3s.io/”&gt; k3s &lt;/a&gt;与&lt;a href =“ https://canonical.com/multipass”&gt; Multipass &lt;/a&gt;用于您可以进入的轻量级节点。为了简洁起见，我们不会潜入建立集群。也就是说，您可以自由地设置群集，只要您允许您以包括主机级可见性和网络的方式测试纤毛。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;如果要通过Cilium CLI安装Cilium，则可以在下面的标志上启用主机防火墙。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; cilium install \&#xA;&#xA;   -  Version 1.17.4 \&#xA;&#xA;  -SET HOSTFIREWALL.ENABLED = TRUE \&#xA;&#xA;  -Set kubeproxyplacement = true &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;通过Helm，您也可以启用如下所示的主机防火墙。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;  -namespace kube-system \&#xA;&#xA;  -SET HOSTFIREWALL.ENABLED = TRUE \&#xA;&#xA;  -set设备=&#39;{eth0}&#39;&lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;一旦部署了纤毛，就会开始管理所选接口和主机端点。您可以通过以下方式验证状态：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; kubectl exec -n kube-system ds/cilium-cilium-dbg状态|格雷普&#xA;“主机防火墙” &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我们还可以使用Cilium Cli激活主机防火墙功能：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;纤毛配置视图| GREP主机壁壁&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;要应用策略，首先标记目标节点：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; kubectl标签节点k8s1 node-access = ssh &lt;/code&gt; &lt;/pre&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这使您可以根据目的或功能将策略范围范围范围（例如node-access = ssh，type = indress-worker）。&lt;/p&gt;）。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;H2 class =“ WP-block-neading”&gt; &lt;strong&gt;审核模式&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在执行新的主机策略之前，您可以启用策略审核模式。此模式在没有实际执行规则的情况下记录了将要删除的内容。这是避免自我造成的停电的重要步骤，例如不小心切断了对Kube-abiserver或SSH的访问。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; kexec cilium-dbg端点config $ host_ep_id&#xA;PolicyAuditMode =启用&lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;用以下方式监视流量判决：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;$ host_ep_id &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这提供了实时见解，将拒绝流动，让您在翻转执行开关之前进行微调策略。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ WP-block-heading”&gt; &lt;strong&gt;使用哈勃&lt;/strong&gt; &lt;/h2&gt;观察网络流量&#xA;&#xA;&#xA;&#xA;&lt;p&gt; cilium在群集中的节点分配了“ 1”的特殊身份。我们可以使用此身份过滤和观察节点的网络流量。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt;使用CiliumClusterWideNetworkPolicy（CCNP）自定义资源定义主机网络策略。从解剖学上讲，主机策略和网络策略之间的主要区别在于，流量是基于NodeSelector字段而不是PodSelector或EndpointSelector匹配的，例如Cilium Network Policies中。从本质上讲，这意味着策略范围范围为节点本身，而不是特定的POD或工作负载。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;该表总结了纤毛主机策略与纤毛网络策略之间的关键差异。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-table”&gt; &lt;table class =“ has-fixed-layout”&gt; &lt;tbody&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt; &lt;td&gt; &lt;strong&gt;功能&lt;/strong&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;strong&gt; cilium网络策略&lt;/strong&gt; &lt;/strong&gt; &lt;/strong&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;strong&gt; cilium cilium cilium host polition &lt;/td&gt; &lt;/td&gt; &lt;/td&gt; &lt;/td&gt; &lt;/td&gt; &lt;/td&gt; &lt;/td&gt; Type&lt;/td&gt;&lt;td&gt;endpointSelector (pod-level)&lt;/td&gt;&lt;td&gt;nodeSelector (node-level)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Namespace Scope&lt;/td&gt;&lt;td&gt;Namespaced or cluster-wide&lt;/td&gt;&lt;td&gt;Always cluster-wide&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Applies To&lt;/td&gt;&lt;td&gt;Pods (in or out of host networking)&lt;/td&gt;&lt;td&gt;Host namespace + host-networked pods&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;L3/L4 Rules&lt;/td&gt;&lt;td&gt;✅&lt;/td&gt;&lt;td&gt;✅&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;L7规则&lt;/td&gt; &lt;td&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/table&gt; &lt;/figie&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这是一个示例主机网络策略，仅允许SSH（TCP/22）和ICMP（PING）流量来自集群外部，同时允许所有内部群集通信到主机：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; apiversion：&#39;cilium.io/v2&#39;&#xA;&#xA;种类：ciliumclusterwidenetworkpolicy&#xA;&#xA;元数据：&#xA;&#xA;  名称：“演示主持人”&#xA;&#xA;规格：&#xA;&#xA;  NodeSelector：&#xA;&#xA;    MatchLabels：&#xA;&#xA;      节点访问：SSH&#xA;&#xA;  入口：&#xA;&#xA;     - 发出：&#xA;&#xA;        - 簇&#xA;&#xA;     - 高额：&#xA;&#xA;         - 端口：&#xA;&#xA;             - 端口：&#39;22&#39;&#xA;&#xA;              协议：TCP&#xA;&#xA;    -ICMP：&#xA;&#xA;         - 字段：&#xA;&#xA;             - 类型：EchoreQuest&#xA;&#xA;              家庭：IPv4 &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;执行策略&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;一旦您确信政策不会破坏任何事情，就可以禁用审计模式：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; kexec cilium-dbg端点config $ host_ep_id&#xA;PolicyAuditMode =禁用&lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;立即，纤毛将开始执行主机政策y。任何不允许的沟通，例如流氓外部SSH的尝试，都将被阻止和记录，以明确的判决：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;在&#xA; - &gt; 10.0.2.15:21 TCP SYN &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这是现实世界中生产政策的一个示例，该策略仅允许最低要求的入学流量到工人节点：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; piversion：&#39;cilium.io/v2&#39;&#xA;&#xA;种类：ciliumclusterwidenetworkpolicy&#xA;&#xA;元数据：&#xA;&#xA;  名称：“锁定 - 吉式工人节点”&#xA;&#xA;规格：&#xA;&#xA;  NodeSelector：&#xA;&#xA;    MatchLabels：&#xA;&#xA;      类型：Ingress-Worker&#xA;&#xA;  入口：&#xA;&#xA;     - 发出：&#xA;&#xA;         - 远程节点&#xA;&#xA;        - 健康&#xA;&#xA;     - 高额：&#xA;&#xA;         - 端口：&#xA;&#xA;             - 端口：&#39;22&#39;&#xA;&#xA;              协议：TCP&#xA;&#xA;             - 端口：&#39;6443&#39;&#xA;&#xA;              协议：TCP＃kube-abiserver&#xA;&#xA;             - 端口：&#39;2379&#39;&#xA;&#xA;              协议：TCP＃etcd&#xA;&#xA;             - 端口：&#39;4240&#39;&#xA;&#xA;              协议：TCP＃健康检查&#xA;&#xA;             - 端口：&#39;8472&#39;&#xA;&#xA;              协议：udp＃vxlan &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;H2 class =“ WP-block-heading”&gt; &lt;strong&gt;最佳实践和故障排除提示&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;标签节点清楚：确保策略中的nodeselector标签匹配节点上实际设置的内容。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;首先使用审核模式：始终在审核模式下测试以避免打破控制平面或SSH访问。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;观看监视器日志：使用Cilium-DBG监视器以清晰可见或允许的数据包。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;匹配设备：如果主机防火墙似乎不活跃，请验证Cilium正在管理具有Cilium-DBG状态的正确接口。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;哈勃是您的朋友：在编写和调试政策时，Hubble的Flow Logs非常方便。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;结论&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; cilium主机防火墙将kubernetes-native，EBPF驱动的网络安全带到主机层，从而使操作员对往返Kubernetes节点本身的流量进行了细粒度的控制。通过使用同一家族iliar kubernetes网络政策声明模型，将您的节点视为一流的公民比以往任何时候都容易。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;附加资源：&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;a href =“ https://isovalent.com/labs/cilium-host-firewall/”&gt; cilium主机防火墙实验室&lt;/a&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://www.youtube.com/watch?v=glllcz398k0&amp;t=288s”&gt; echo第40集：cilium主机firewall &lt;/a&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://www.youtube.com/watch?v=flyhg07vdnc”&gt; Echo第184集：用Cilium Host FireWall &lt;/a&gt; &lt;/a&gt; &lt;/li&gt;确保Kubernetes节点&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://www.youtube.com/watch?v=-3fbbbb3bnjje”&gt; kubernetes节点防火墙从内而外 -  Jef Spaleta＆Justin Garrison &lt;/a&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Tue, 02 Sep 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Beyond Terraform Modules: Infrastructure Design by Contract】超越Terraform模块：合同基础设施设计</title>
      <link>https://www.cncf.io/blog/2025/09/02/beyond-terraform-modules-infrastructure-design-by-contract/</link>
      <description>【&lt;p&gt;It’s 2AM. You’re staring at a failed deployment pipeline, trying to figure out why your EKS cluster can’t find the right subnets. You’ve checked the variables, verified the outputs, and triple-checked your depends_on statements. Everything looks correct, yet it still fails.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This scenario plays out daily across organizations that have adopted Terraform. While modules promised composable, reusable infrastructure, the reality has become a complex web of string-matching, implicit dependencies, and tribal knowledge.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;How much of your team’s time is spent debugging module connections rather than delivering value?&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;The Hidden Tax of Module Stitching&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Every time a team provisions infrastructure for a new service or application, they pay an invisible tax in cognitive overhead:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class=&#34;wp-block-heading&#34;&gt;Hunt &amp;amp; Wire&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;For each input a module needs, someone must make critical decisions: Is this value a hard-coded constant? A data lookup? An output from another module? The answer differs for every project and environment, so this decision tree must be rebuilt from scratch each time.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;A seemingly simple task like connecting a Kubernetes cluster to a VPC becomes a detective exercise in matching string outputs to string inputs, with no verification until runtime, long after the PR is merged.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class=&#34;wp-block-heading&#34;&gt;Re-implement Environment Rules&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Resource naming, tagging strategies, IAM permissions, and security controls must be consistently applied across environments. Yet traditional modules handle environments inconsistently—sometimes a module accepts an environment parameter, sometimes it doesn’t, and nothing enforces correct usage.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The burden of “getting production right” sits squarely on whoever writes the module composition code, with no systematic guardrails.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class=&#34;wp-block-heading&#34;&gt;Maintain a Second Codebase&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The glue code that ties modules together inevitably balloons into a project-sized Terraform configuration:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;# Just a small sample of typical glue code&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;locals {&#xA;&#xA;&amp;nbsp;&amp;nbsp;vpc_name &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = &#34;${var.prefix}-${var.environment}-vpc&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;private_subnets&amp;nbsp; = module.vpc.private_subnet_ids&#xA;&#xA;&amp;nbsp;&amp;nbsp;cluster_name &amp;nbsp; &amp;nbsp; = &#34;${local.vpc_name}-eks&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;# ... dozens more variable mappings&#xA;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This “composition layer” often contains more logic and complexity than the underlying modules themselves.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The result is a silent cost curve: each new service adds marginally less business value but exactly the same cognitive overhead. At scale, that overhead caps delivery speed, security posture, and team morale.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;Four Pillars of Infrastructure Design by Contract&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Software engineers have long used “Design by Contract” to create reliable, modular systems. This approach establishes formal agreements between components about what each provides and requires. Applying these same principles to infrastructure transforms how components interact through four key pillars:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;1. Contract-Led Composition: Explicit Interfaces Between Components&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Traditional Reality:&lt;/strong&gt; Infrastructure integration is a string-matching game of chance. You pray that the VPC module’s outputs match what the EKS module expects, but there’s no guarantee until runtime:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;# Traditional Terraform Approach&#xA;&#xA;# VPC module outputs&#xA;&#xA;output &#34;vpc_id&#34; &amp;nbsp; &amp;nbsp; { value = aws_vpc.this.id }&#xA;&#xA;output &#34;subnet_ids&#34; { value = aws_subnet.private.*.id }&#xA;&#xA;# EKS module variables&#xA;&#xA;variable &#34;vpc_id&#34; &amp;nbsp; &amp;nbsp; { type = string }&#xA;&#xA;variable &#34;subnet_ids&#34; { type = list(string) }&#xA;&#xA;# Manual wiring in root module&#xA;&#xA;module &#34;eks&#34; {&#xA;&#xA;&amp;nbsp;&amp;nbsp;vpc_id&amp;nbsp; &amp;nbsp; &amp;nbsp; = module.vpc.vpc_id&#xA;&#xA;&amp;nbsp;&amp;nbsp;subnet_ids&amp;nbsp; = module.vpc.subnet_ids&#xA;&#xA;&amp;nbsp;&amp;nbsp;# No validation that these are the correct subnets&#xA;&#xA;&amp;nbsp;&amp;nbsp;# No guarantee vpc_id is from a compatible VPC&#xA;&#xA;}&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;With dozens of modules interacting, teams waste significant time debugging issues when these string interfaces don’t align perfectly.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Contract-Based Transformation:&lt;/strong&gt; Modern approaches transform infrastructure composition through explicit type contracts:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;# VPC module declares what it produces&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;outputs:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;default:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: “@output/aws-vpc”&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;# Kubernetes module declares what it requires&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;inputs:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;network:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: “@output/aws-vpc”&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This implements true Design by Contract, where each component makes explicit promises about what it provides and requires. The orchestrator enforces that producers and consumers speak the same language, catching mismatches immediately rather than during production deployment.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Just as software contracts guarantee function behavior, these infrastructure contracts guarantee correct composition and integration.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;2. Environment-Aware by Design: Contracts Across Environments&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Traditional Reality: &lt;/strong&gt;Environment handling is bolted on as an afterthought. Teams create convoluted folder structures, copy-paste config files, or resort to complex variable overrides that inevitably drift out of sync.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Contract-Based Transformation:&lt;/strong&gt; Environment becomes a first-class dimension in each contract, with explicit declarations of what can vary between environments and what must remain consistent:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;vpc_cidr:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;default: “10.0.0.0/16”&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;x-ui-overrides-only: true&amp;nbsp; # Can change per environment&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;enable_dns_hostnames:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;default: true&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;x-ui-override-disable: true&amp;nbsp; # Cannot change per environment&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This extends the contract beyond just interfaces to include environment-specific guarantees. Module authors don’t just hope their code handles environments correctly—they design explicit contracts for multi-environment deployment with orchestrator-enforced invariants.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;3. Progressive Rollouts for Infrastructure: Versioned Contracts&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Traditional Reality:&lt;/strong&gt; Infrastructure updates are all-or-nothing affairs. “Let’s merge this change to all environments and hope nothing breaks” is the unstated strategy. Version control exists primarily in git, with no structured way to progressively roll out changes across environments.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Contract-Based Transformation:&lt;/strong&gt; Users control which contract version is deployed to each resource in each environment:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;wp-block-group is-layout-constrained wp-block-group-is-layout-constrained&#34;&gt;&#xA;&lt;p&gt;# Deploy version 2.0 to dev, 1.5 to staging, 1.0 to prod&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;infrastructure:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;network:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;environments:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dev:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: “2.0”&amp;nbsp; # Testing new features&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;staging:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: “1.5”&amp;nbsp; # Partial upgrade&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;prod:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: “1.0”&amp;nbsp; # Stable version&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This brings software-style contract versioning to infrastructure. Security patches can be rapidly deployed to lower environments, validated, and then incrementally rolled out to production. The versioning system creates a safety net that traditional Terraform lacks, allowing teams to move quickly with the ability to roll back precisely if a contract is broken.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;4. Developer Experience That Preserves Governance: Preconditions and Postconditions&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Traditional Reality:&lt;/strong&gt; Infrastructure teams face an impossible choice: lock everything down and become a bottleneck, or expose raw Terraform and risk security or compliance issues. The common “solution” is complex approval workflows that frustrate everyone and slow down delivery.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Contract-Based Transformation:&lt;/strong&gt; Schema-driven interfaces implement preconditions and postconditions that adapt to context:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;wp-block-group is-layout-constrained wp-block-group-is-layout-constrained&#34;&gt;&#xA;&lt;p&gt;# Schema-driven interfaces enforce conditions&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;database:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;engine:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: string&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;enum: [“postgres”, “mysql”]&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;performance:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: string&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;enum: [“dev”, “standard”, “premium”]&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;x-ui-visible-if:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;environment: [“staging”, “prod”]&amp;nbsp; # Hidden in dev&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Just as Design by Contract uses preconditions and postconditions to ensure correct function behavior, this approach uses them to ensure correct infrastructure behavior. The result is interfaces that adapt to context, showing different options based on environment, user role, or related settings, while maintaining critical governance boundaries.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;From Configuration to Contract-Driven Infrastructure&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The shift from traditional Terraform modules to contract-driven modules isn’t just a technical improvement—it’s a fundamental change in how we think about infrastructure. By applying Design by Contract principles to infrastructure, we create:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Explicit guarantees about how components interact&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Verifiable constraints on what can change between environments&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Clear boundaries between different teams’ responsibilities&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Consistent interfaces that scale across an organization&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Ask yourself:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;How much time does your team spend troubleshooting module integration issues?&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Do you have confidence that your environments differ only in the ways you intend?&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Can you safely roll out infrastructure changes gradually, or are you forced into risky all-or-nothing deployments?&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This contract-driven approach creates a clearer separation of concerns:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Platform engineers focus on building robust modules with explicit contracts&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Developers express their infrastructure needs through verified interfaces&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;The orchestrator handles the complex validation and enforcement&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The future of infrastructure isn’t about writing more configuration—it’s about establishing clear, enforceable contracts between components and letting orchestrators ensure those contracts are honored.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;It’s important to understand that contract-driven infrastructure is not a replacement for Terraform, but rather a framework built on top of it—similar to how Spring Boot relates to Java. Just as Spring Boot provides structure, convention, and higher-level abstractions over Java while leveraging its core capabilities, contract-driven approaches that provide organization guarantees, and higher-level abstractions over Terraform while maintaining all its underlying power and flexibility.&lt;/p&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt;是凌晨2点。您正在盯着部署管道失败，试图弄清楚为什么您的EKS群集找不到正确的子网。您已经检查了变量，验证了输出，并检查了三次检查您的依赖性语句。一切看起来都正确，但仍然失败。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这种情况每天在采用Terraform的组织中每天发挥作用。虽然模块承诺可重复使用的基础架构，但现实已成为弦乐匹配，隐性依赖性和部落知识的复杂网络。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;您团队的时间中有多少时间用于调试模块连接而不是提供价值？&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt;模块缝制的隐藏税&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;每当团队提供新服务或应用程序的基础架构时，他们都会在认知开销中支付无形税：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class =“ wp-block头”&gt;狩猎与电线&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;对于每个输入，模块需要，有人必须做出关键决定：此值是硬编码常数吗？数据查找？来自另一个模块的输出？每个项目和环境的答案都不同，因此必须每次从头开始重建该决策树。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;将Kubernetes群集与VPC连接到VPC的一项看似简单的任务成为将字符串输出与字符串输入匹配的侦探练习，直到合并PR之后很长时间才能进行验证。&lt;/p&gt;。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class =“ wp-block头”&gt;重新实现环境规则&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;资源命名，标记策略，IAM权限和安全控制必须始终在环境中始终应用。然而，传统模块不一致地处理环境 - 有时，模块接受环境参数，有时没有，没有任何强制使用。&lt;/p&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;“正确生产”的负担直接坐在编写模块组成代码的任何人身上，没有系统的护栏。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class =“ wp-block头”&gt;维护第二个代码库&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;将模块不可避免地与项目大小的Terraform配置联系在一起的胶水代码：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;＃只是典型胶代码的一小部分&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt;当地人{&#xA;&#xA;  vpc_name =“ $ {var.prefix}  -  $ {var.environment} -vpc”&#xA;&#xA;  private_subnets = module.vpc.private_subnet_ids&#xA;&#xA;  cluster_name =“ $ {local.vpc_name} -eks”&#xA;&#xA;  ＃...数十个可变映射&#xA;&#xA;} &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这个“组成层”通常包含比基础模块本身更多的逻辑和复杂性。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;结果是一个无声的成本曲线：每项新服务的业务价值较小，但认知开销完全相同。从规模上，高架上限交付速度，安全姿势和团队士气。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;H2 class =“ WP-block-heading”&gt;基础设施设计的四个支柱&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;软件工程师长期以来使用“合同设计”��创建可靠的模块化系统。这种方法建立了关于每个人提供和要求的组件之间的正式协议。将这些相同的原理应用于基础设施可以改变组件如何通过四个关键支柱相互作用：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; 1。合同主导的组成：组件之间的显式接口&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;传统现实：&lt;/strong&gt;基础架构集成是一种竞争机会游戏。您祈祷VPC模块的输出与EKS模块的期望相匹配，但是直到运行时才有保证：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt;＃传统Terraform方法&#xA;&#xA;＃VPC模块输出&#xA;&#xA;输出“ vpc_id” {value = aws_vpc.this.id}&#xA;&#xA;输出“ subnet_ids” {value = aws_subnet.private。*。id}&#xA;&#xA;＃EKS模块变量&#xA;&#xA;变量“ VPC_ID” {type = string}&#xA;&#xA;变量“ subnet_ids” {type = list（string）}&#xA;&#xA;＃根模块中的手动布线&#xA;&#xA;模块“ eks” {&#xA;&#xA;  vpc_id = module.vpc.vpc_id&#xA;&#xA;  subnet_ids = module.vpc.subnet_ids&#xA;&#xA;  ＃没有验证这些是正确的子网&#xA;&#xA;  ＃不保证VPC_ID来自兼容的VPC&#xA;&#xA;} &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;随着数十个模块的交互，当这些字符串接口无法完美对齐时，团队浪费了大量的时间调试问题。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;基于合同的转型：&lt;/strong&gt;现代方法通过明确的类型合同转换基础设施组成：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;＃VPC模块声明其产生的&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;输出：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;默认值：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;类型：“@utput/aws-vpc” &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;＃kubernetes模块声明其要求&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;输入：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;网络：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;类型：“@utput/aws-vpc” &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这通过合同实现了真实的设计，每个组件都会明确承诺其提供和所需的内容。编排者强制执行生产者和消费者说相同的语言，立即捕捉不匹配而不是在生产部署期间。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;就像软件合同保证功能行为一样，这些基础设施合同保证了正确的组成和集成。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; 2。设计：设计：跨环境的合同&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;传统现实：&lt;/strong&gt;环境处理是事后想法的。团队创建复杂的文件夹结构，复制式配置文件或诉诸复杂的变量覆盖不可避免地会从同步中流出。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;基于合同的转型：&lt;/strong&gt;环境成为每个合同中的一流维度，并明确声明环境之间可能会有所不同，并且必须保持一致的内容：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; vpc_cidr：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;默认值：“ 10.0.0.0/16” &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; x-ui-overrides-仅：true＃可以改变每个环境&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; enable_dns_hostnames：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;默认值：true &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; x-ui-override-disable：true＃无法更改每个环境&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这将合同范围扩展到仅仅是界面，以包括特定于环境的保证。模块作者不仅希望他们的代码能够正确处理环境 - 他们设计的明确合同用于与管弦乐队增强的不变性的多种环境部署。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; 3。基础架构的渐进式推广：版本的合同&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;传统现实：&lt;/strong&gt;基础架构更新是全有或全无的事务。 “让我们将这种变化合并到所有环境中，并希望什么都没有破坏”是未知的策略。版本控制主要存在于git中，没有结构化的方式来逐步推出环境的更改。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;基于合同的转换：&lt;/strong&gt;用户控制每个环境中每个资源的合同版本：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class =“ wp-block-group是可能约束的wp-block-group-is-layout-inconted”&gt;&#xA;&lt;p&gt;＃将版本2.0部署到dev，1.5登台，1.0 to prod &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;基础架构：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;网络：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;环境：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; dev：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;版本：“ 2.0”＃测试新功能&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;分期：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;版本：“ 1.5”＃部分升级&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; prod：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;版本：“ 1.0”＃稳定版本&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这将软件式合同版本用于基础架构。安全补丁可以迅速部署到较低的环境中，经过验证，然后逐步推出到生产中。版本控制系统创建了传统Terraform所缺乏的安全网，使团队能够迅速移动，并在合同破损的情况下精确退回。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; 4。维护治理的开发人员经验：先进和后条件&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;传统现实：&lt;/strong&gt;基础设施团队面临不可能的选择：锁定一切并成为瓶颈，或者揭露原始地带和风险安全或合规性问题。常见的“解决方案”是复杂的批准工作流程，使所有人感到沮丧并减慢交付。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;基于合同的转换：&lt;/strong&gt;模式驱动的接口实现适应上下文的前提和后条件：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class =“ wp-block-group是可能约束的wp-block-group-is-layout-inconted”&gt;&#xA;&lt;p&gt;＃模式驱动的接口强制执行条件&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;数据库：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;引擎：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;类型：字符串&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;枚举：[“ postgres”，“ mysql”] &lt;/p&gt;&lt;p&gt;性能：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;类型：字符串&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;枚举：[“ dev”，“标准”，“ premium”] &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; x-ui-visible-if：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;环境：[“阶段”，“ prod”]＃隐藏在dev &lt;/p&gt;中&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;正如通过合同设计使用前提条件和后条件来确保正确的功能行为一样，此方法使用它们来确保正确的基础架构行为。结果是适应上下文的接口，根据环境，用户角色或相关设置显示不同的选项，同时保持关键的治理边界。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt;从配置到合同驱动的基础架构&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;从传统的Terraform模块到合同驱动的模块的转变不仅是技术改进，而且是我们对基础架构的看法的根本变化。通过将合同原则的设计应用于基础架构，我们创建：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;明确保证组件如何互动&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;对环境之间可以改变什么的可验证约束&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;不同团队的职责之间的明确界限&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;一致的界面跨组织扩展&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;问问自己：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;您的团队花费了多少时间来解决模块集成问题？&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;您是否有信心您的环境仅在您打算的方式上有所不同？&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;您可以安全地推出基础架构的更改，还是被迫进行全或全神贯注的部署？&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这种合同驱动的方法创造了更清晰的关注点：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;平台工程师专注于用明确合同构建强大的模块&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;开发人员通过经过验证的接口表达其基础架构需求&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;编排者处理复杂的验证和执行&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;基础架构的未来不是要编写更多的配置，而是建立组件之间的明确，可强制执行的合同，并让整理器确保这些合同得到尊重。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;重要的是要了解，以合同驱动的基础架构不是Terraform的替代，而是建立在其顶部的框架，就像Spring Boot与Java的关系一样。就像春季靴子在利用其核心功能的同时提供结构，惯例和高级抽象，提供组织保证的合同驱动方法以及对Terraform的高级抽象，同时保持其所有基本功能和灵活性。&lt;/p&gt; &lt;/p&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Mon, 01 Sep 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Jaeger at 10: Forged in Community, Reborn in OpenTelemetry】Jaeger 10：在社区中伪造，重生在Opentelemetry中</title>
      <link>https://www.cncf.io/blog/2025/09/01/jaeger-at-10-forged-in-community-reborn-in-opentelemetry/</link>
      <description>【&lt;figure class=&#34;wp-block-image size-full&#34;&gt;&lt;img loading=&#34;lazy&#34; decoding=&#34;async&#34; width=&#34;512&#34; height=&#34;279&#34; src=&#34;https://www.cncf.io/wp-content/uploads/2025/08/image.jpg&#34; alt=&#34;Jaeger 10th Anniversary graphic&#34; class=&#34;wp-image-145250&#34; style=&#34;aspect-ratio:16/9;object-fit:cover&#34; srcset=&#34;https://www.cncf.io/wp-content/uploads/2025/08/image.jpg 512w, https://www.cncf.io/wp-content/uploads/2025/08/image-300x163.jpg 300w, https://www.cncf.io/wp-content/uploads/2025/08/image-367x200.jpg 367w&#34; sizes=&#34;auto, (max-width: 512px) 100vw, 512px&#34; referrerpolicy=&#34;no-referrer&#34;&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;In the fast-paced world of software, reaching 10 years is a testament to a project’s resilience, utility, and community strength. Half a decade ago, we celebrated&lt;a href=&#34;https://medium.com/jaegertracing/jaeger-turns-five-a-tribute-to-project-contributors-8f2f4c15405&#34;&gt; Jaeger’s fifth anniversary&lt;/a&gt;, marveling at its growth from a nascent idea to a critical component in the observability stack. Today, as we mark 10 years, we’re not just celebrating longevity; we’re celebrating a profound evolution. Jaeger has been reborn, embracing a future built on collaboration, standardization, and the incredible momentum of OpenTelemetry.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Most Challenging Part of Tracing&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;For years, the most significant barrier to adopting distributed tracing wasn’t the backend. It was instrumentation. Getting telemetry data out of applications was a complex, often proprietary, and labor-intensive process. Every tracing system had its own SDKs, its own agents, and its own way of doing things. This fragmentation created vendor lock-in and a steep learning curve, hindering widespread adoption.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This is where OpenTelemetry changed everything. It didn’t just offer another SDK; it advanced the entire practice of instrumentation. By providing a single, vendor-neutral standard, OpenTelemetry unified both manual instrumentation (SDKs) and automatic instrumentation (agents). This solved the hardest part of the tracing puzzle. It created a unified language and a consistent methodology for telemetry, allowing developers to instrument their code once — or not at all, in the case of auto-instrumentation — and send the data to any compatible backend.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;For the Jaeger project, the rise of OpenTelemetry was a watershed moment. It presented an opportunity to shed the burden of maintaining its own clients and to focus on what it does best: providing a powerful, scalable, and intuitive tracing product. The decision was made to go all-in on OpenTelemetry, a move that has defined Jaeger’s recent evolution and solidified its place in the modern observability landscape.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Journey to v2&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The journey to Jaeger v2 and the full embrace of OpenTelemetry was a massive undertaking. The culmination of this strategic shift is a fundamental re-architecture of the Jaeger backend. Jaeger v2 is built on the OpenTelemetry Collector, leveraging its flexible, extensible pipeline to process and route telemetry data.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This new architecture brings a host of benefits:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Unified and simplified:&lt;/strong&gt; The multiple binaries of Jaeger v1 have been replaced by a single, streamlined binary. This simplifies deployment and provides a consistent configuration experience.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Native OpenTelemetry support:&lt;/strong&gt; Jaeger v2 natively understands the OpenTelemetry Protocol (OTLP) end to end, eliminating the need for translation layers and improving performance.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Unprecedented flexibility:&lt;/strong&gt; By building on the OpenTelemetry Collector, Jaeger inherits its rich ecosystem of receivers, processors, and exporters. This allows for advanced data manipulation, from tail-based sampling to PII filtering and seamless integration with other observability tools.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Future-proofed:&lt;/strong&gt; The tight alignment with OpenTelemetry ensures that Jaeger will continue to evolve alongside the industry standard, benefiting from the collective innovation of the entire observability community.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Fueling the Future: The Mentorship Pipeline&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This transition was made possible by the dedication of the project’s maintainers and the vibrant community that surrounds it. A special and heartfelt thank you goes to the participants of the &lt;strong&gt;LFX Mentorship program&lt;/strong&gt; and &lt;strong&gt;Google Summer of Code&lt;/strong&gt;. These programs have become a critical pipeline for talent and innovation, directly fueling Jaeger’s evolution.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Major, tangible progress has been driven by&lt;a href=&#34;https://www.jaegertracing.io/mentorship/&#34;&gt; these mentees&lt;/a&gt;. We’ve seen foundational work on Jaeger v2 from&lt;a href=&#34;https://github.com/akagami-harsh&#34;&gt; Harshvir Potpose&lt;/a&gt;,&lt;a href=&#34;https://github.com/james-ryans&#34;&gt; James Ryans&lt;/a&gt;, and&lt;a href=&#34;https://github.com/Pushkarm029&#34;&gt; Pushkar Mishra&lt;/a&gt;. The Jaeger v2 Kubernetes Operator and Helm Chart were advanced by&lt;a href=&#34;https://github.com/Ankit152&#34;&gt; Ankit Kurmi&lt;/a&gt; and&lt;a href=&#34;https://github.com/hellspawn679&#34;&gt; Mehul Gautam&lt;/a&gt;. Key architectural components like the Kafka-based architecture and Service Performance Monitoring were tackled by&lt;a href=&#34;https://github.com/joeyyy09&#34;&gt; Harshith Mente&lt;/a&gt; and&lt;a href=&#34;https://github.com/FlamingSaint&#34;&gt; Raghuram Kannan&lt;/a&gt;. The UI has seen significant upgrades, with&lt;a href=&#34;https://github.com/anshgoyalevil&#34;&gt; Ansh Goyal&lt;/a&gt; and&lt;a href=&#34;https://github.com/vishvamsinh28&#34;&gt; Vishvamsinh Vaghela&lt;/a&gt; updating it to the latest React.js,&lt;a href=&#34;https://github.com/prathamesh-mutkure&#34;&gt; Prathamesh Mutkure&lt;/a&gt; unifying graph views, and&lt;a href=&#34;https://github.com/hari45678&#34;&gt; Hariom Gupta&lt;/a&gt; upgrading charts. We’ve also expanded our backend support, with&lt;a href=&#34;https://github.com/pmuls99&#34;&gt; Yashwanth Reddy&lt;/a&gt; building support for Elasticsearch 8 and&lt;a href=&#34;https://github.com/pipiland2612&#34;&gt; Minh Nguyen&lt;/a&gt; working on native SPM support. This is just a sample of the incredible work done by all our mentees, including&lt;a href=&#34;https://github.com/chahatsagarmain&#34;&gt; Chahat Sagar&lt;/a&gt;,&lt;a href=&#34;https://github.com/Manik2708&#34;&gt; Manik Mehta&lt;/a&gt;,&lt;a href=&#34;https://github.com/Wise-Wizard&#34;&gt; Saransh Shankar&lt;/a&gt;,&lt;a href=&#34;https://github.com/afzal442&#34;&gt; Afzal Ansari&lt;/a&gt;,&lt;a href=&#34;https://github.com/GLVSKiriti&#34;&gt; GLVS Kiriti&lt;/a&gt;, and&lt;a href=&#34;https://github.com/haanhvu&#34;&gt; Ha Anh Vu&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Their fresh perspectives, hard work, and technical contributions have not just been helpful; they have been instrumental. We are immensely proud of what they have accomplished and are excited to see them grow into regular contributors and the future maintainers of the project.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Mature Ecosystem of Tracing&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The move to OpenTelemetry and the release of Jaeger v2 represent a significant maturation of the Jaeger project. The focus has shifted from building a self-contained system to creating a core component within a larger, collaborative ecosystem.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This unification extends to the entire tracing pipeline. With OpenTelemetry handling instrumentation, and the OpenTelemetry Collector providing a standardized data processing layer, Jaeger can now focus on its core mission: providing a robust, scalable, pluggable storage and query engine for traces. The continued support for popular backends like Cassandra and Elasticsearch, along with the upcoming addition of ClickHouse as an official storage backend, underscores this commitment to flexibility and choice.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Recognition of the Community&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;As we look back on 10 years of Jaeger, one thing remains constant: the incredible community that has built, maintained, and championed the project. From the early days at Uber to its graduation within the CNCF and the countless contributions from individuals and organizations around the world, Jaeger is a testament to the power of open source collaboration.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The scale of this collaboration is staggering. Five years ago, the project’s impressive momentum was already clear, with &lt;strong&gt;302 companies&lt;/strong&gt; contributing &lt;strong&gt;4.3K code commits&lt;/strong&gt; and &lt;strong&gt;3.2K pull requests&lt;/strong&gt;. That momentum has not only continued but accelerated. Today, the community has grown to &lt;strong&gt;1,359 contributors&lt;/strong&gt; from &lt;strong&gt;597 companies&lt;/strong&gt;. The core Jaeger repository has surpassed &lt;strong&gt;6.5k commits&lt;/strong&gt; and &lt;strong&gt;5.1k pull requests&lt;/strong&gt;. This incredible growth, with a diverse range of organizations from startups to tech giants investing in Jaeger’s future, is a direct reflection of the project’s importance and the community’s unwavering dedication.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The future of Jaeger is focused on continuing this platform evolution. We will no longer maintain Jaeger v1, which will be fully deprecated in January 2026 following the last v1 release in December 2025. The rest of the roadmap includes supporting even more backends and, most importantly, creating easier ways for new users to demo the project and get value quickly. By lowering the barrier to entry, we can bring the immense power of tracing to an even wider audience. Here’s to the last 10 years, and to a future that is open, unified, and more accessible than ever.&lt;/p&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;figig class =“ wp-block-image size-full”&gt; &lt;img loading =“ lazy”解码=“ async” width =“ 512” height =“ 279” class =“ wp-image-145250” style =“ fack-ratio：16/9; object-fit：cover” srcset =“ https://www.cncf.io/wp-content/wp-content/uploads/2025/2025/08/image.jpg 512w，512w， https://www.cncf.io/wp-content/uploads/2025/08/image-300x163.jpg 300W，https://www.cncf.io/wp-content/wp-content/uploads/uploads/uploads/267 x267x267x267x267x267x267x267x267x267x267x267jjpg = jpg = jpg。 （最大宽度：512px）100VW，512px“ reverrerpolicy =“ no-referrer”&gt; &lt;/fige&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在快节奏的软件世界中，达到10年是一个项目的韧性，公用事业和社区实力的证明。五年前，我们庆祝了&lt;a href =“ https://medium.com/jaegertracing/jaeger-turns-five-a-tribute-to-project-contributors-8f2f4c15405”&gt; jaeger的第五个周期性&lt;/a&gt;，这是一个重要的&lt;/a&gt;，这是从一个重要的&lt;/a&gt;中逐渐成长的，这是一个关键的构成。今天，当我们纪念10年时，我们不仅在庆祝长寿。我们正在庆祝一个深刻的发展。 Jaeger已重生，拥抱建立在协作，标准化和令人难以置信的Opentelemetry的势头上的未来。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;H3 class =“ WP-block-heading”&gt; &lt;strong&gt;跟踪中最具挑战性的部分&lt;/strong&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;多年来，采用分布式跟踪的最重要的障碍不是后端。那是仪器。从应用程序中获取遥测数据是一个复杂的，通常是专有且劳动密集型的过程。每个跟踪系统都有自己的SDK，自己的代理商和自己的做事方式。这种破碎化创造了供应商的锁定和陡峭的学习曲线，阻碍了广泛采用。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这是OpentElemetry改变一切的地方。它不仅提供另一个SDK；它提高了整个仪器的实践。通过提供单个供应商中立的标准，Opentelemetry统一手动仪器（SDK）和自动仪器（代理）。这解决了追踪难题的最难部分。它创建了一种统一的语言和一种一致的遥测方法，使开发人员可以启动其代码一次（或根本没有自动启动仪器），并将数据发送到任何兼容的后端。&lt;/p&gt;。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;对于Jaeger项目，Opentelemetry的兴起是一个分水岭。它提供了一个机会，减轻了维护自己的客户的负担，并专注于最擅长的事情：提供强大，可扩展和直观的追踪产品。该决定是在Opentelemetry上全面融入的，此举定义了Jaeger最近的进化并巩固了其在现代可观察性景观中的地位。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; &lt;strong&gt; v2 &lt;/strong&gt; &lt;/h3&gt;的旅程&#xA;&#xA;&#xA;&#xA;&lt;p&gt;前往Jaeger V2的旅程以及Opentelemetry的全面拥抱是一项巨大的事业。这种战略转变的结晶是Jaeger后端的基本重新结构。 jAEGER V2建立在OpenTelemetry收集器上，利用其灵活的，可扩展的管道来处理和路由遥测数据。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这个新建筑带来了许多好处：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;统一和简化：&lt;/strong&gt; Jaeger V1的多个二进制文件已被一个简化的二进制替代。这简化了部署并提供一致的配置体验。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;本机opentelemetry支持：&lt;/strong&gt; jaeger v2原始理解opentelemetry协议（OTLP）端到头，消除了对翻译层的需求并提高性能。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;空前的灵活性：&lt;/strong&gt;通过在Opentelemetry收集器上构建，Jaeger继承了其丰富的接收器，处理器和出口商的生态系统。这允许进行高级数据操作，从基于尾部的采样到PII过滤和与其他可观察性工具无缝集成。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;未来的范围：&lt;/strong&gt;与OpentElemetry的紧密结合确保Jaeger将继续与行业标准一起发展，从而受益于整个观察性社区的集体创新。&lt;/li&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt;通过项目的维护者和周围的充满活力的社区的奉献精神使这种过渡成为可能。 &lt;strong&gt; lfx指导计划的参与者&lt;/strong&gt;和&lt;strong&gt; Google Summer of Code &lt;/strong&gt;都特别感谢。这些计划已成为人才和创新的关键渠道，直接加剧了Jaeger的进化。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;a href =“ https://www.jaegertracing.io/mentorship/”&gt;这些受训者&lt;/a&gt;。我们已经从&lt;a href =“ https://github.com/akagami-harsh”&gt; harshvir potpose &lt;/a&gt;，&lt;a href =“ https：//github.com.com.com/james-ryans”&gt; Pushkar Mishra &lt;/a&gt;。 Jaeger V2 Kubernetes操作员和Helm Chart由&lt;a href =“ https://github.com/ankit152”&gt; ankit kurmi &lt;/a&gt;和&lt;a href =“ https://github.com/hellspawn679”&gt; mehul gautam &lt;/afam &lt;/a&gt;。 &lt;a href =“ https://github.com/joeyyy09”&gt; Harshith Mente &lt;/a&gt;和&lt;a href =“ https：//github.com/github.com/flamings.com/flamings.com/flamingsaint”&gt; raghuramkannananananananananananananan &lt;/a&gt;。 UI看到了明显的升级，并使用&lt;a href =“ https://github.com/anshgoyalevil”&gt; ansh goyal &lt;/a&gt;和&lt;a href =“ https://github.com/vishub.com/vishvamsinh28”&gt; href =“ https://github.com/prathamesh-mutkure”&gt; prathamesh mutkure &lt;/a&gt;统一图表，&lt;a href =“ https://github.com/hari45678”&gt; hariom gupta &lt;/a&gt; upgrading图表。我们还通过&lt;a href =“ https://github.com/pmuls99”&gt; yashwanth reddy &lt;/a&gt;建立对EL的支持asticsearch 8和&lt;a href =“ https://github.com/pipiland2612”&gt; minh nguyen &lt;/a&gt;致力于本机SPM支持。 This is just a sample of the incredible work done by all our mentees, including&lt;a href=&#34;https://github.com/chahatsagarmain&#34;&gt; Chahat Sagar&lt;/a&gt;,&lt;a href=&#34;https://github.com/Manik2708&#34;&gt; Manik Mehta&lt;/a&gt;,&lt;a href =“ https://github.com/wiss-wizard”&gt; saransh shankar &lt;/a&gt;，&lt;a href =“ https://github.com/afzal442”&gt; afzal ansari &lt;/a&gt; href =“ https://github.com/haanhvu”&gt; ha anh vu &lt;/a&gt;。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;他们的新观点，努力和技术贡献不仅有帮助；他们一直在发挥作用。我们为他们所取得的成就感到非常自豪，并很高兴看到他们成长为定期贡献者和未来的项目维护者。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; &lt;strong&gt; tracing的成熟生态系统&lt;/strong&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;移至Opentelemetry，Jaeger V2的释放代表了Jaeger项目的重要成熟。重点已从建立独立的系统转变为在更大的协作生态系统中创建核心组件。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;此统一扩展到整个跟踪管道。借助OpenTelemetry处理仪器，以及提供标准化数据处理层的OpenTelemetry Collector，Jaeger现在可以专注于其核心任务：提供可靠的，可扩展的，可扩展的，可插入的存储和查询引擎的痕迹。对Cassandra和Elasticsearch等流行后端的持续支持，以及即将增加的Clickhouse作为正式存储后端，强调了灵活性和选择的承诺。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; &lt;strong&gt;识别社区&lt;/strong&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;当我们回顾约10年的Jaeger时，一件事仍然不变：令人难以置信的社区已经建立，维护和倡导了该项目。从Uber的早期到CNCF的毕业以及世界各地个人和组织的无数贡献，Jaeger都是开源协作的力量的证明。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这项合作的规模令人震惊。五年前，该项目令人印象深刻的势头已经很明显，&lt;strong&gt; 302公司&lt;/strong&gt; &lt;strong&gt; 4.3k代码提交&lt;/strong&gt;和&lt;strong&gt; 3.2K拉力请求&lt;/strong&gt;。这种势头不仅在继续，而且加速了。如今，该社区已从&lt;strong&gt; 597公司&lt;/strong&gt; &lt;/strong&gt; &lt;/strong&gt; &lt;/strong&gt; &lt;/strong&gt; &lt;/strong&gt;。核心Jaeger存储库已超过&lt;strong&gt; 6.5k Consits &lt;/strong&gt;和&lt;strong&gt; 5.1K拉的请求&lt;/strong&gt;。这种令人难以置信的增长，从初创企业到高科技巨头投资Jaeger的未来的各种各样的组织，是对该项目的重要性和社区坚定不移的奉献精神的直接反映。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Jaeger的未来专注于继续这一平台发展。我们将不再维护Jaeger V1这将在2025年12月上次发行后，将在2026年1月对其进行完全弃用。该路线图的其余部分包括支持更多的后端，最重要的是，为新用户创造了更轻松的方式来演示项目并迅速获得价值。通过降低进入障碍，我们可以将追踪的巨大力量带给更广泛的观众。这是过去十年，以及一个开放，统一和比以往更容易获得的未来。&lt;/p&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Sun, 31 Aug 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Announcing Kyverno Release 1.15!】宣布kyverno版本1.15！</title>
      <link>https://www.cncf.io/blog/2025/08/30/announcing-kyverno-release-1-15/</link>
      <description>【&lt;p&gt;Kyverno 1.15 makes Kubernetes policy management more powerful, extensible, and user-friendly.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;We are thrilled to announce the release of Kyverno 1.15.0, continuing our mission to make policy management in Kubernetes environments more modular, performant, and user-friendly. This release introduces new capabilities across multiple policy types, enhances testing and CLI functionality, and brings many improvements that a vibrant community has contributed.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;TL;DR&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;New MutatingPolicy for dynamic resource transformation with native Kubernetes integration&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;New GeneratingPolicy for intelligent resource creation and synchronization using CEL expressions&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;New DeletingPolicy resource for controlled cleanup of Kubernetes resources&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Advanced CEL functions and enhanced policy exception support for fine-grained control&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Community milestone: over 850 changes merged from 70+ contributors, including many first-timers!&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;New Policy Types&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Building on the foundation of ValidatingPolicy and ImageValidatingPolicy from previous releases, Kyverno 1.15 introduces three new CEL-based policy types that complete our comprehensive policy ecosystem. While Kyverno, created by Nirmata, maintains its traditional policy engine capabilities, these new policy types provide native Kubernetes integration by automatically converting to Kubernetes admission controllers – MutatingPolicy converts to MutatingAdmissionPolicy (MAP) and ValidatingPolicy converts to ValidatingAdmissionPolicy (VAP). This hybrid approach gives users the flexibility to choose between Kyverno’s rich policy engine features and native Kubernetes performance.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;MutatingPolicy: Flexible Resource Transformation&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The new MutatingPolicy type provides native Kubernetes integration through MutatingAdmissionPolicy, offering:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Full support for all functions that a mutate rule of a traditional policy supports&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Easier for each loop iteration with CEL’s map() and filter() functions&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Full support of advanced custom CEL libraries for complex policy logic&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;CLI support for offline resources mutation in CI/CD pipelines&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Before &amp;amp; After: ClusterPolicy Mutate vs MutatingPolicy&lt;/strong&gt;&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Here is an example of adding default labels to deployments.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Previous ClusterPolicy approach:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;apiVersion: kyverno.io/v1&#xA;&#xA;kind: ClusterPolicy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: add-default-labels&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;rules:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- name: add-labels&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;match:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resources:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;kinds:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Deployment&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mutate:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;patchStrategicMerge:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;labels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;environment: &#34;production&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;managed-by: &#34;kyverno&#34;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;New &lt;code&gt;MutatingPolicy&lt;/code&gt; approach:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;apiVersion: policies.kyverno.io/v1alpha1&#xA;&#xA;kind: MutatingPolicy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: add-default-labels&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;mutations:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- patchType: ApplyConfiguration&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;applyConfiguration:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;expression: &amp;gt;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Object{&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;metadata: Object.metadata{&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;labels: Object.metadata.labels{&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;environment: &#34;production&#34;,&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;managed-by: &#34;kyverno&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&#xA;&#xA;&amp;nbsp;&amp;nbsp;matchConstraints:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resourceRules:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- apiGroups: [&#34;apps&#34;]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;apiVersions: [&#34;v1&#34;]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resources: [&#34;deployments&#34;]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;operations: [&#34;CREATE&#34;, &#34;UPDATE&#34;]&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;MutatingAdmissionPolicy Generation&lt;/strong&gt;&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This release enhances policy flexibility with the ability to automatically generate Kubernetes &lt;code&gt;MutatingAdmissionPolicies&lt;/code&gt; from &lt;code&gt;MutatingPolicies&lt;/code&gt;, enabling mutations to be performed directly by the Kubernetes API server rather than the Kyverno admission controller. This capability improves performance and resilience by leveraging native Kubernetes mutation while maintaining the rich feature set and ease of use provided by Kyverno.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Comparison with MutatingAdmissionPolicy&lt;/strong&gt;&lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The table below compares major features across the Kubernetes &lt;code&gt;MutatingAdmissionPolicy&lt;/code&gt; and Kyverno &lt;code&gt;MutatingPolicy&lt;/code&gt; types.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-table&#34;&gt;&lt;table class=&#34;has-fixed-layout&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Feature&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;MutatingAdmissionPolicy&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;MutatingPolicy&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Enforcement&lt;/td&gt;&lt;td&gt;Admission&lt;/td&gt;&lt;td&gt;Admission, Background, Pipelines, …&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Payloads&lt;/td&gt;&lt;td&gt;Kubernetes&lt;/td&gt;&lt;td&gt;Kubernetes&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Distribution&lt;/td&gt;&lt;td&gt;Kubernetes&lt;/td&gt;&lt;td&gt;Helm, CLI, Web Service, API, SDK&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;CEL Library&lt;/td&gt;&lt;td&gt;Basic&lt;/td&gt;&lt;td&gt;Extended&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Bindings&lt;/td&gt;&lt;td&gt;Manual&lt;/td&gt;&lt;td&gt;Automatic&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Auto-generation&lt;/td&gt;&lt;td&gt;–&lt;/td&gt;&lt;td&gt;Pod Controllers, MutatingAdmissionPolicy&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;External Data&lt;/td&gt;&lt;td&gt;–&lt;/td&gt;&lt;td&gt;Kubernetes resources or API calls&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Caching&lt;/td&gt;&lt;td&gt;–&lt;/td&gt;&lt;td&gt;Global Context, image verification results&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Background scans&lt;/td&gt;&lt;td&gt;–&lt;/td&gt;&lt;td&gt;Periodic, On policy creation or change&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Exceptions&lt;/td&gt;&lt;td&gt;–&lt;/td&gt;&lt;td&gt;Fine-grained exceptions&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Reporting&lt;/td&gt;&lt;td&gt;–&lt;/td&gt;&lt;td&gt;Policy WG Reports API&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Testing&lt;/td&gt;&lt;td&gt;–&lt;/td&gt;&lt;td&gt;Kyverno CLI (unit), Chainsaw (e2e)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Existing Resources&lt;/td&gt;&lt;td&gt;–&lt;/td&gt;&lt;td&gt;Background mutation support&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;GeneratingPolicy: Intelligent Resource Creation&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The new GeneratingPolicy type provides enhanced integration through CEL expressions, offering:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;CEL-First Approach&lt;/strong&gt;: Define generation logic using Common Expression Language for improved flexibility and expressiveness&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Enhanced Expressiveness&lt;/strong&gt;: Leverage CEL’s powerful functions for complex generation scenarios&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Kyverno CEL Libraries&lt;/strong&gt;: Access to Kyverno’s extensive custom CEL libraries for advanced resource manipulation and generation&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Built-in Looping Support: Native CEL looping capabilities for generating resources across multiple namespaces or items&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;For example, the following policy automatically clones an image pull secret from the default namespace into any newly created Namespace:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;apiVersion: policies.kyverno.io/v1alpha1&#xA;&#xA;kind: GeneratingPolicy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: clone-image-pull-secret&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;matchConstraints:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resourceRules:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- apiGroups: &amp;nbsp; [“”]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;apiVersions: [“v1&#34;]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;operations:&amp;nbsp; [“CREATE”]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resources: &amp;nbsp; [“namespaces”]&#xA;&#xA;&amp;nbsp;&amp;nbsp;variables:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- name: targetNs&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;expression: “object.metadata.name”&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- name: sourceSecret&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;expression: resource.Get(“v1&#34;, “secrets”, “default”, “regcred”)&#xA;&#xA;&amp;nbsp;&amp;nbsp;generate:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- expression: generator.Apply(variables.targetNs, [variables.sourceSecret])&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This policy demonstrates how GeneratingPolicy provides the same core functionality as Kyverno’s generate rules, but with a CEL-first approach for improved flexibility and consistency with other Kyverno policy types.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;DeletingPolicy: Controlled Cleanup Made Easy&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;As Kyverno evolves, managing the full lifecycle of Kubernetes resources through policies becomes essential. The new DeletingPolicy CRD empowers administrators to declaratively control how resources are cleaned up or cascaded when no longer needed. This complements existing Mutating and Validating policies by closing the resource lifecycle loop with safe, policy-driven deletion.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The DeletingPolicy provides the same functionality as the CleanupPolicy but it is designed to use CEL expressions for Kubernetes compatibility.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Unlike admission policies that react to API requests, DeletingPolicy:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Runs periodically at scheduled times&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Evaluates existing resources in the cluster&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Deletes resources when matching rules and conditions are satisfied&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Here’s an example that automatically deletes old test pods:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;apiVersion: policies.kyverno.io/v1alpha1&#xA;&#xA;kind: DeletingPolicy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: cleanup-old-test-pods&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;schedule: &#34;0 1 * * *&#34;&amp;nbsp; # Run daily at 1 AM&#xA;&#xA;&amp;nbsp;&amp;nbsp;matchConstraints:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resourceRules:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- apiGroups: [&#34;&#34;]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;apiVersions: [&#34;v1&#34;]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;operations: [&#34;*&#34;]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resources: [&#34;pods&#34;]&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;scope: &#34;Namespaced&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;namespaceSelector:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;matchLabels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;environment: test&#xA;&#xA;&amp;nbsp;&amp;nbsp;conditions:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- name: isOld&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;expression: &#34;now() - object.metadata.creationTimestamp &amp;gt; duration(&#39;72h&#39;)&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;variables:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- name: isEphemeral&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;expression: &#34;has(object.metadata.labels.ephemermal) &amp;amp;&amp;amp; object.metadata.labels.ephemeral == &#39;true&#39;&#34;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This policy automatically deletes pods that are:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Located in namespaces labeled &lt;code&gt;environment: test&lt;/code&gt;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Are older than 72 hours&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Runs daily at 1 AM using a cron schedule&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Pod Security Standard(PSS) Policy Performance: ClusterPolicy vs ValidatingPolicy&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Our performance testing reveals significant improvements when using ValidatingPolicy (vpol) over traditional ClusterPolicy (cpol) for Pod Security Standards (PSS) enforcement.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-table&#34;&gt;&lt;table class=&#34;has-fixed-layout&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;replicas&lt;/td&gt;&lt;td&gt;# policies&lt;/td&gt;&lt;td&gt;Rule Type&lt;/td&gt;&lt;td&gt;Mode&lt;/td&gt;&lt;td&gt;Subject&lt;/td&gt;&lt;td&gt;Virtual Users/Iterations&lt;/td&gt;&lt;td&gt;Latency (avg/max)&lt;/td&gt;&lt;td&gt;Memory (max)&lt;/td&gt;&lt;td&gt;CPU (max)&lt;/td&gt;&lt;td&gt;Memory Limit&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;td&gt;Validate&lt;/td&gt;&lt;td&gt;Enforce&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;100/1,000&lt;/td&gt;&lt;td&gt;37.71ms / 110.53ms&lt;/td&gt;&lt;td&gt;152Mi&lt;/td&gt;&lt;td&gt;548m&lt;/td&gt;&lt;td&gt;384Mi (default)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;td&gt;Validate&lt;/td&gt;&lt;td&gt;Enforce&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;200/5,000&lt;/td&gt;&lt;td&gt;80.74ms / 409.35ms&lt;/td&gt;&lt;td&gt;182Mi&lt;/td&gt;&lt;td&gt;2885m&lt;/td&gt;&lt;td&gt;384Mi (default)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;td&gt;Validate&lt;/td&gt;&lt;td&gt;Enforce&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;500/10,000&lt;/td&gt;&lt;td&gt;92.73ms / 3.15s&lt;/td&gt;&lt;td&gt;143Mi&lt;/td&gt;&lt;td&gt;3033m&lt;/td&gt;&lt;td&gt;512Mi&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;td&gt;Validate&lt;/td&gt;&lt;td&gt;Enforce&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;100/1,000&lt;/td&gt;&lt;td&gt;32.89ms / 121.19ms&lt;/td&gt;&lt;td&gt;104Mi&lt;/td&gt;&lt;td&gt;262m&lt;/td&gt;&lt;td&gt;384Mi (default)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;td&gt;Validate&lt;/td&gt;&lt;td&gt;Enforce&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;200/5,000&lt;/td&gt;&lt;td&gt;60.06ms / 1.01s&lt;/td&gt;&lt;td&gt;117Mi&lt;/td&gt;&lt;td&gt;1067m&lt;/td&gt;&lt;td&gt;384Mi (default)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;td&gt;Validate&lt;/td&gt;&lt;td&gt;Enforce&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;500/10,000&lt;/td&gt;&lt;td&gt;151.97ms / 3.17s&lt;/td&gt;&lt;td&gt;107Mi&lt;/td&gt;&lt;td&gt;1182m&lt;/td&gt;&lt;td&gt;512Mi&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;ValidatingPolicy&lt;/td&gt;&lt;td&gt;Deny&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;100/1,000&lt;/td&gt;&lt;td&gt;28.3ms / 108.36ms&lt;/td&gt;&lt;td&gt;142Mi&lt;/td&gt;&lt;td&gt;108m&lt;/td&gt;&lt;td&gt;384Mi (default)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;ValidatingPolicy&lt;/td&gt;&lt;td&gt;Deny&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;200/5,000&lt;/td&gt;&lt;td&gt;54.87ms / 346.74ms&lt;/td&gt;&lt;td&gt;211Mi&lt;/td&gt;&lt;td&gt;2339m&lt;/td&gt;&lt;td&gt;384Mi (default)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;ValidatingPolicy&lt;/td&gt;&lt;td&gt;Deny&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;500/10,000&lt;/td&gt;&lt;td&gt;133.67ms / 1.63s&lt;/td&gt;&lt;td&gt;163Mi&lt;/td&gt;&lt;td&gt;4123m&lt;/td&gt;&lt;td&gt;512Mi&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;ValidatingPolicy&lt;/td&gt;&lt;td&gt;Deny&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;100/1,000&lt;/td&gt;&lt;td&gt;24.87ms / 59.37ms&lt;/td&gt;&lt;td&gt;129Mi&lt;/td&gt;&lt;td&gt;135m&lt;/td&gt;&lt;td&gt;384Mi (default)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;ValidatingPolicy&lt;/td&gt;&lt;td&gt;Deny&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;200/5,000&lt;/td&gt;&lt;td&gt;45.97ms / 1.12s&lt;/td&gt;&lt;td&gt;159Mi&lt;/td&gt;&lt;td&gt;554m&lt;/td&gt;&lt;td&gt;384Mi (default)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;ValidatingPolicy&lt;/td&gt;&lt;td&gt;Deny&lt;/td&gt;&lt;td&gt;Pods&lt;/td&gt;&lt;td&gt;500/10,000&lt;/td&gt;&lt;td&gt;114.01ms / 3.28s&lt;/td&gt;&lt;td&gt;170Mi&lt;/td&gt;&lt;td&gt;810m&lt;/td&gt;&lt;td&gt;512Mi&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Key Performance Improvements&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Under Heavy Load (500/10,000 iterations):&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;44% faster latency&lt;/strong&gt; in single-replica deployments&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;59% less memory usage&lt;/strong&gt; in multi-replica deployments&amp;nbsp;&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;48% lower CPU consumption&lt;/strong&gt; in medium load scenarios&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Across All Load Conditions:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;25% average latency improvement&lt;/strong&gt;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Up to 80% CPU reduction&lt;/strong&gt; in single-replica deployments&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Consistent performance gains&lt;/strong&gt; under all tested scenarios&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Why It Matters&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;ValidatingPolicy’s native Kubernetes integration delivers superior performance while maintaining the same security posture. The improvements are most pronounced under heavy load conditions, making it ideal for production environments with frequent policy enforcement.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;For standard deployments&lt;/strong&gt;: Even in typical workloads, ValidatingPolicy shows 25% average latency improvement and up to 80% CPU reduction, providing immediate benefits for most Kubernetes environments.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;For large-scale clusters&lt;/strong&gt;: The performance gains scale significantly under heavy load, with 44% faster latency and 59% less memory usage, making it highly valuable for high-traffic production environments.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The performance gains translate directly to reduced infrastructure costs and improved cluster stability, providing a clear upgrade path from traditional ClusterPolicy implementations.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;New OpenReports API Group Support&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Kyverno 1.15 introduces support for the new OpenReports API group (&lt;code&gt;openreports.io&lt;/code&gt;) for PolicyReport resources. This standardization aligns with the broader Kubernetes policy ecosystem and provides a more robust foundation for policy reporting across the community.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;What’s New:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Kyverno: Now generates PolicyReports using the new API group&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Reports Server: Updated to consume and serve reports from the new API group&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Policy Reporter: Enhanced to visualize and manage reports from the new API group&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Migration Path: The legacy API group (wgpolicyk8s.io) will be deprecated in future releases. Users are encouraged to update their tooling and integrations to use the new API group for continued support and enhanced functionality.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Benefits:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Improved integration with the broader Kubernetes policy ecosystem&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Long-term support and community alignment&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Community &amp;amp; Contributions&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This release is a testament to our growing community. We continue to see more changes made by our open source community contributors—many of whom made their first Kyverno contribution in this cycle! We want to thank everyone who shared feedback, bug reports, and code contributions helping Kyverno thrive.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Getting Started&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Upgrade with Helm:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;helm repo update&#xA;&#xA;helm upgrade kyverno kyverno/kyverno -n kyverno --version v1.15.0&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Kyverno 1.15 remains fully backward compatible with existing ClusterPolicy resources. You can adopt new policy types at your own pace while continuing to benefit from your existing policies.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;What’s Next?&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Our roadmap continues with plans to:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Expand cross-cutting features like event logging and metrics&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Support namespaced versions of all CEL-based policy types&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Implement fine-grained policy exceptions for enhanced control&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Publish Kyverno engine API and SDK for broader ecosystem integration&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Kyverno 1.15.0 represents a major milestone in policy management, introducing three consequential new CEL-based policy types that provide enhanced integration while maintaining Kyverno’s rich feature set. With enhanced CLI capabilities, and a thriving contributor community, Kyverno is now more powerful, flexible, and user-friendly than ever before.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Explore the full release notes on GitHub, try the new features, and join our community to help shape the future of policy enforcement! For more details, visit &lt;a href=&#34;https://kyverno.io/&#34;&gt;kyverno.io&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Thank you to everyone who contributed and supported this release. Together, we’re building a safer, more manageable ecosystem.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;— The Kyverno Team&lt;/p&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt; kyverno 1.15使Kubernetes政策管理更强大，可扩展和用户友好。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我们很高兴地宣布发布Kyverno 1.15.0，继续我们的使命，以使Kubernetes环境中的政策管理更加模块化，表演和用户友好。该版本介绍了多种策略类型的新功能，增强了测试和CLI功能，并带来了充满活力的社区贡献的许多改进。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt; tl; dr &lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;与天然Kubernetes Integration的动态资源转换的新型突变体&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;使用CEL表达式创建智能资源创建和同步的新生成物质&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;用于控制Kubernetes资源的可控清理资源的新删除资源&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;高级CEL功能和增强的政策异常支持对细粒度控制&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;社区里程碑：超过850个更改与70多名贡献者合并，包括许多新手！&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;H2 class =“ WP-block-tearing”&gt; &lt;strong&gt;新策略类型&#xA;&#xA;&#xA;&#xA;&lt;p&gt;建立在以前版本的验证集中和图像效率的基础上，Kyverno 1.15介绍了三种新的基于CEL的政策类型，这些类型填写了我们的全面政策生态系统。尽管Nirmata创建的Kyverno保持其传统的策略引擎功能，但这些新政策类型通过自动转换为Kubernetes录取控制器（突变型物质转换为MutatingAdmissionPolicy（MAP）和验证PolicyPolicy PolickationPolicy的验证addaDADPOLICYPOLICY（VAP），这些新政策类型提供了本地Kubernetes集成。这种混合方法使用户可以灵活地在Kyverno丰富的政策引擎功能和本地Kubernetes Performance之间进行选择。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt;新的突变类型类型通过stutatingAdmissionPolicy，提供：&lt;/p&gt;，提供了本地的kubernetes集成。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;对传统政策的突变规则支持的所有功能的全力支持&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;使用CEL的MAP（）和Filter（）功能更容易为每个循环迭代&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;复杂策略逻辑的高级自定义CEL库的全面支持&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; CLI支持CI/CD管道中的离线资源突变&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class =“ wp-block头”&gt; &lt;strong&gt; &lt;strong&gt;：clusterpolicy突变与MutatingPolicy &lt;/strong&gt; &lt;/strong&gt; &lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这是将默认标签添加到部署的示例。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;先前的簇粉方法：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; apiversion：kyverno.io/v1&#xA;&#xA;种类：群集&#xA;&#xA;元数据：&#xA;&#xA;  名称：add-default-labels&#xA;&#xA;规格：&#xA;&#xA;  规则：&#xA;&#xA;     - 名称：添加标签&#xA;&#xA;      匹配：&#xA;&#xA;        资源：&#xA;&#xA;    和NBSP;     种类：&#xA;&#xA;             - 部署&#xA;&#xA;      突变：&#xA;&#xA;        PatchStrategicmerge：&#xA;&#xA;          元数据：&#xA;&#xA;            标签：&#xA;&#xA;              环境：“生产”&#xA;&#xA;              托管：“ kyverno” &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;新的&lt;code&gt;突变policy &lt;/code&gt;方法：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; apiversion：palicies.kyverno.io/v1alpha1&#xA;&#xA;善良：突变型&#xA;&#xA;元数据：&#xA;&#xA;  名称：add-default-labels&#xA;&#xA;规格：&#xA;&#xA;  突变：&#xA;&#xA;     -  PatchType：ApplyConfiguration&#xA;&#xA;      申请配置：&#xA;&#xA;        表达：&gt;&#xA;&#xA;          目的{&#xA;&#xA;            元数据：object.metadata {&#xA;&#xA;              标签：object.metadata.labels {&#xA;&#xA;                环境：“生产”，&#xA;&#xA;                管理：“ kyverno”&#xA;&#xA;              }&#xA;&#xA;            }&#xA;&#xA;          }&#xA;&#xA;  Matchconstraints：&#xA;&#xA;    资源：&#xA;&#xA;      -Apigroups：[“应用程序”]&#xA;&#xA;        apiversions：[“ V1”]&#xA;&#xA;        资源：[“部署”]&#xA;&#xA;        操作：[“创建”，“更新”] &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class =“ wp-block-heading”&gt; &lt;strong&gt; mutatingAdmission-policy oferent &lt;/strong&gt; &lt;/h4&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;此版本可以从&lt;code&gt;突变polations &lt;/code&gt;中自动生成Kubernetes &lt;/code&gt; sutationAdmissionpolicies &lt;/code&gt; &lt;/code&gt;，从而增强了策略灵活性，从而使kubernetes api服务器直接执行突变，而不是养生控制者。这种能力通过利用本地Kubernetes突变来提高性能和韧性，同时保持富裕的功能集和易于使用。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h4 class =“ wp-block头”&gt; &lt;strong&gt;与MutatingAdmissionPolicy &lt;/strong&gt; &lt;/h4&gt;进行比较&#xA;&#xA;&#xA;&#xA;&lt;p&gt;下表比较kubernetes上的主要功能&lt;code&gt; mutatingAdmission -policy &lt;/code&gt;和kyverno &lt;code&gt; mutatingpolicy &lt;/code&gt; types。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figie class =“ wp-block-table“&gt; &lt;表class =“固定的layout”&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt; &lt;td&gt; &lt;strong&gt;功能&lt;/strong&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;stry&gt; mutatingAdmissignAdmatisspolicyPolicy &lt;/strong&gt; &lt;/strong&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;strong&gt; mutatingPolicyPolicyPolicyPolicyPolicyPolicy &lt;/strong&gt;背景，管道，…&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;有效负载&lt;/td&gt; &lt;td&gt; kubernetes &lt;/td&gt; &lt;td&gt; &lt;td&gt; kubernetes &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;/td&gt; SDK &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; cel库&lt;/td&gt; &lt;td&gt;基本&lt;/td&gt; &lt;td&gt;扩展&lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; bindings &lt;/td&gt; &lt;/td&gt; &lt;td&gt;手动&lt;/td&gt; &lt;/td&gt; &lt;td&gt;自动&lt;/td&gt; &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;td&gt; auto-generator突变admissiondermisspolicy &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;外部数据&lt;/td&gt; &lt;td&gt;  -  &lt;/td&gt; &lt;td&gt; &lt;td&gt; kubernetes资源或api调用&lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;tt&gt; caching &lt;/td&gt;扫描&lt;/td&gt; &lt;td&gt;  -  &lt;/td&gt; &lt;td&gt;周期性，在策略创建或更改&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;td&gt;异常Api &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;测试&lt;/td&gt; &lt;td&gt;  -  &lt;/td&gt; &lt;td&gt; &lt;td&gt; kyverno cli（单位），Chainsaw（e2e）&lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;ttd&gt;现有支持&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/figie&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt;新的GeneratingPolicy类型通过CEL表达式提供了增强的集成：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt; cel-first方法&lt;/strong&gt;：使用通用表达语言来定义生成逻辑，以提高灵活性和表现力&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;增强的表现力&lt;/strong&gt;：利用CEL的强大功能用于复杂的生成场景&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt; kyverno cel图书馆&lt;/strong&gt;：访问Kyverno的广泛的自定义CEL图书馆，用于高级资源操纵和一代&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;内置循环支持：本机CEL循环功能，用于在多个名称空间或项目上生成资源&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;例如，以下策略会自动克隆默认名称空间的图像拉动秘密到任何新创建的名称空间：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; apiversion：palicies.kyverno.io/v1alpha1&#xA;&#xA;种类：生成policy&#xA;&#xA;元数据：&#xA;&#xA;  名称：克隆图像扣秘密&#xA;&#xA;规格：&#xA;&#xA;  Matchconstraints：&#xA;&#xA;    资源：&#xA;&#xA;    -Apigroups：[“”]&#xA;&#xA;      apiversions：[“ V1”]&#xA;&#xA;      操作：[“创建”]&#xA;&#xA;      资源：[“名称空间”]&#xA;&#xA;  变量：&#xA;&#xA;     - 名称：目标&#xA;&#xA;      表达式：“ object.metadata.name”&#xA;&#xA;     - 名称：sourcecret&#xA;&#xA;      表达式：resource.get（“ v1”，“ secrets”，“默认”，“ regcred”）&#xA;&#xA;  g活力：&#xA;&#xA;     - 表达式：generator.apply（variables.targetns，[variables.sourcesecret]）&lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;此策略演示了生成物质如何提供与Kyverno生成规则相同的核心功能，但是采用CEL-Instrif的方法来提高灵活性和与其他Kyverno策略类型的一致性。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt;随着Kyverno的发展，通过政策管理Kubernetes资源的完整生命周期变得至关重要。新的DeletingPolicy CRD使管理人员声明地控制了在不再需要时如何清理或级联的资源。通过安全，政策驱动的删除，通过结束资源生命周期循环来补充现有的突变和验证策略。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; deletingpolicy提供了与清洁纯素的功能相同的功能，但旨在将cel表达式用于kubernetes兼容性。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;与对API请求做出反应的录取策略不同，请删除Policy：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;定期在预定时间运行&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;评估集群中的现有资源&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;满足匹配的规则和条件时删除资源&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这是一个自动删除旧测试吊舱的示例：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; apiversion：palicies.kyverno.io/v1alpha1&#xA;&#xA;KIND：DELETINGPOLICY&#xA;&#xA;元数据：&#xA;&#xA;  名称：清理老测试纸&#xA;&#xA;规格：&#xA;&#xA;  时间表：“ 0 1 * * *”＃每天在凌晨1点运行&#xA;&#xA;  Matchconstraints：&#xA;&#xA;    资源：&#xA;&#xA;      -Apigroups：[“”]&#xA;&#xA;        apiversions：[“ V1”]&#xA;&#xA;        运营： [”*”]&#xA;&#xA;        资源：[“ Pods”]&#xA;&#xA;        范围：“名称”&#xA;&#xA;    namespaceselector：&#xA;&#xA;      MatchLabels：&#xA;&#xA;        环境：测试&#xA;&#xA;  状况：&#xA;&#xA;     - 名称：ISOLD&#xA;&#xA;      表达式：“ now（） -  object.metadata.creationtimestamp&gt;持续时间（&#39;72H&#39;）”&#xA;&#xA;  变量：&#xA;&#xA;     - 名称：Isephemeral&#xA;&#xA;      表达式：“ ake object.metadata.labels.ephemermal）&amp;&amp; object.metadata.labels.ephemeral ==&#39;true&#39;” &lt;/code&gt; &lt;/pre&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;此策略会自动删除：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;位于标有&lt;code&gt;环境的名称空间中：test &lt;/code&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;年龄超过72小时&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;使用CRON时间表每天1点运行&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我们的性能测试揭示了显着的进步使用验证台面（VPOL），而不是传统的粉尘层（CPOL）进行POD安全标准（PSS）执行时。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-table”&gt; &lt;table class =“ has-fixed-layout”&gt; &lt;tbody&gt; &lt;ttry&gt; &lt;tr&gt; &lt;td&gt; replicas &lt;/td&gt; &lt;td&gt; &lt;td&gt;＃policies &lt;/td&gt; &lt;td&gt; &lt;td&gt; rule type &lt;/td&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;/td&gt; mode &lt;/td&gt; mode &lt;/td&gt; officce &lt;td&gt; ofject &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; （avg/max）&lt;/td&gt; &lt;td&gt;内存（max）&lt;/td&gt; &lt;td&gt; cpu（max）&lt;/td&gt; &lt;td&gt;内存限制&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 1 &lt;/td&gt; &lt;td&gt; 17 &lt;/td&gt; &lt;td&gt; validate &lt;/td&gt; &lt;td&gt; enforce &lt;/td&gt; emforce &lt;/td&gt; &lt;td&gt; pods &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; 100/1,000/1,000 &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; 37.71mms/ 110.53ms &lt;/td&gt; &lt;td&gt; 152mi &lt;/td&gt; &lt;td&gt; 548m &lt;/td&gt; &lt;td&gt; 384mi （默认）&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 1 &lt;/td&gt; &lt;td&gt; 17 &lt;/td&gt; &lt;td&gt; validate &lt;/td&gt; &lt;td&gt; emforce &lt;/td&gt; 409.35ms &lt;/td&gt; &lt;td&gt; 182mi &lt;/td&gt; &lt;td&gt; 2885m &lt;/td&gt; &lt;td&gt; 384mi （默认）&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 1 &lt;/td&gt; &lt;td&gt; 17 &lt;/td&gt; &lt;td&gt; validate &lt;/td&gt; &lt;td&gt; emforce &lt;/td&gt; 3.15S &lt;/td&gt; &lt;td&gt; 143mi &lt;/td&gt; &lt;td&gt; 3033m &lt;/td&gt; &lt;td&gt; 512mi &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;td&gt; 3 &lt;/td&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; 17 &lt; /td&gt; &lt;td&gt; validate&lt;/td&gt; &lt;td&gt; enforce&lt;/td&gt; &lt;td&gt; pods&lt;/td&gt; &lt;td&gt; &lt;td&gt; 1,000/1,000/&lt;td&gt; &lt;td&gt; &lt;td&gt; 32.89ms /121.19ms &lt;/td&gt; &lt;td&gt; 104mi &lt;/td&gt; &lt;td&gt; 262m &lt;/td&gt; &lt;td&gt; 384mi （默认）&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 3 &lt;/td&gt; &lt;td&gt; 17 &lt;/td&gt; &lt;td&gt; validate &lt;/td&gt; &lt;td&gt; emforce &lt;/td&gt; 1.01S &lt;/td&gt; &lt;td&gt; 117mi &lt;/td&gt; &lt;td&gt; 1067m &lt;/td&gt; &lt;td&gt; 384mi （默认）&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 3 &lt;/td&gt; &lt;td&gt; 17 &lt;/td&gt; &lt;td&gt; validate &lt;/td&gt; &lt;td&gt; emforce &lt;/td&gt; emforce &lt;/td&gt; &lt;td&gt; pods &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; 500/10,000/10,000 &lt;/td&gt; &lt;/td&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; 151.97MS/ 3.17S &lt;/td&gt; &lt;td&gt; 107mi &lt;/td&gt; &lt;td&gt; 1182m &lt;/td&gt; &lt;td&gt; 512mi &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;td&gt; 1 &lt;/td&gt; 1 &lt;/td&gt; &lt;td&gt; &lt;td&gt; 16 &lt;/t d&gt; &lt;td&gt;验证policy &lt;/td&gt; &lt;td&gt; deny &lt;/td&gt; &lt;td&gt; pods &lt;/td&gt; &lt;td&gt; &lt;td&gt; 100/1,000 &lt;/td&gt; &lt;td&gt; &lt;td&gt; 28.3ms /108.36ms &lt;/td&gt; &lt;td&gt; 142mi &lt;/td&gt; &lt;td&gt; 108m &lt;/td&gt; &lt;td&gt; 384mi （默认）&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 1 &lt;/td&gt; &lt;td&gt; 16 &lt;/td&gt; &lt;td&gt; 346.74ms &lt;/td&gt; &lt;td&gt; 211mi &lt;/td&gt; &lt;td&gt; 2339m &lt;/td&gt; &lt;td&gt; 384Mi （默认）&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 1 &lt;/td&gt; &lt;td&gt; 16 &lt;/td&gt; &lt;td&gt;验证policypolicy &lt;/td&gt; &lt;td&gt; deny &lt;/td&gt; &lt;td&gt; &lt;td&gt; pods &lt;/td&gt; pods &lt;/td&gt; &lt;td&gt; &lt;td&gt; 500/td&gt; 500/td&gt; 500/td&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; 133.67mms/ 1.63S &lt;/td&gt; &lt;td&gt; 163mi &lt;/td&gt; &lt;td&gt; 4123M &lt;/td&gt; &lt;td&gt; 512mi &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;tr&gt; &lt;td&gt; 3 &lt;/td&gt; 3 &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; 16 &lt;/td &gt; &lt;td&gt;验证policy &lt;/td&gt; &lt;td&gt; deny &lt;/td&gt; &lt;td&gt; pods &lt;/td&gt; &lt;td&gt; &lt;td&gt; 100/1,000 &lt;/td&gt; &lt;td&gt; &lt;td&gt; 24.87ms /59.37ms &lt;/td&gt; &lt;td&gt; 129mi &lt;/td&gt; &lt;td&gt; 135m &lt;/td&gt; &lt;td&gt; 384mi （默认）&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 3 &lt;/td&gt; &lt;td&gt; 16 &lt;/td&gt; &lt;td&gt; 1.12S &lt;/td&gt; &lt;td&gt; 159mi &lt;/td&gt; &lt;td&gt; 554m &lt;/td&gt; &lt;td&gt; 384mi （默认）&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; 3 &lt;/td&gt; &lt;td&gt; 16 &lt;/td&gt; &lt;td&gt;验证policypolicy &lt;/td&gt; &lt;td&gt; deny &lt;/td&gt; &lt;td&gt; &lt;td&gt; pods &lt;/td&gt; pods &lt;/td&gt; &lt;td&gt; &lt;td&gt; 500/td&gt; 500/td&gt; 500/td&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; 114.01MMS/ 3.28S &lt;/td&gt; &lt;td&gt; 170mi &lt;/td&gt; &lt;td&gt; 810m &lt;/td&gt; &lt;td&gt; 512mi &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/table&gt; &lt;/table&gt; &lt;/figie&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;在重载（500/10,000迭代）下：&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;单重复部署中的44％延迟&lt;/strong&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;少59％的内存使用&lt;/strong&gt;多弹药部署&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;在中等载荷方案中，CPU消耗&lt;/strong&gt; &lt;/li&gt; &lt;/strong&gt; &lt;/strong&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;在所有负载条件下：&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list“&gt;&#xA;&lt;li&gt; &lt;strong&gt;平均延迟改善25％&lt;/strong&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;单重复部署中最多80％的CPU降低&lt;/strong&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;在所有测试的场景下均一稳定的性能提高&lt;/strong&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; &lt;strong&gt;为什么它很重要&lt;/strong&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;验证Policy的本机Kubernetes集成提供了卓越的性能，同时保持相同的安全姿势。在重负荷条件下，这些改进最为明显，非常适合经常执行政策的生产环境。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;对于标准部署&lt;/strong&gt;：即使在典型的工作量中，验证的policy显示了25％的平均延迟提高和最高80％的CPU，为大多数Kubernetes环境提供了直接的好处。&lt;/p&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;对于大型群集&lt;/strong&gt;：在重负荷下，性能显着增长，延迟速度更快44％，记忆使用量降低了59％，这对于高流量生产环境而言非常有价值。&lt;/p&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;性能直接转化为降低的基础架构成本和提高集群稳定性，从传统的群集实现中提供了清晰的升级路径。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;新的OpenReports API组支持&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Kyverno 1.15为策略报告资源提供了对新的OpenReports API组（&lt;code&gt; OpenReports.io &lt;/code&gt;）的支持。该标准化与更广泛的Kubernetes政策生态系统保持一致，并为整个社区的政策报告提供了更强大的基础。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;新事物：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; kyverno：现在使用新的API组生成策略报告&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;报告服务器：更新以消费并提供新API组的报告&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;策略记者：增强以可视化和管理新API组的报告&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;迁移路径：旧版API组（WGPOLICYK8S.IO）将在以后的版本中被弃用。鼓励用户更新其工具和集成，以使用新的API组继续支持和增强功能。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;好处：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;改善了与更广泛的Kubernetes政策生态系统的整合&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;长期支持和社区一致性&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;社区和贡献&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;此版本证明了我们不断增长的社区。我们继续看到开源社区贡献者做出的更多变化 - 许多人在这个周期中做出了第一个kyverno的贡献！我们要感谢所有分享反馈，错误报告和代码贡献帮助Kyverno Thrive Thrive的人。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;入门&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;用掌舵升级：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; helm repo更新&#xA;&#xA;Helm升级kyverno kyverno/kyverno -n kyverno -version v1.15.0 &lt;/code&gt; &lt;/pre&gt; &lt;/pre&gt;&lt;p&gt; kyverno 1.15保持与现有的群集资源完全兼容。您可以按照自己的速度采用新的政策类型，同时继续从现有的政策中受益。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;下一步是什么？&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我们的路线图继续进行：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;扩展横切功能，例如事件记录和指标&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;支持所有基于CEL的策略类型的名称版本&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;实施增强控制的细粒政策例外&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;发布Kyverno Engine API和SDK，以进行更广泛的生态系统集成&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;结论&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Kyverno 1.15.0代表了政策管理中的一个主要里程碑，引入了三种基于CEL的新型政策类型，它们提供了增强的集成，同时保持Kyverno的丰富功能集。 Kyverno具有增强的CLI功能和蓬勃发展的贡献者社区，现在比以往任何时候都更加强大，灵活和用户友好。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;探索Github上的完整发行说明，尝试新功能，并加入我们的社区，以帮助塑造政策执法的未来！有关更多详细信息，请访问&lt;a href =“ https://kyverno.io/”&gt; kyverno.io &lt;/a&gt;。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;感谢所有贡献并支持此版本的人。一起，我们正在建立一个更安全，更可管理的生态系统。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;  -  kyverno团队&lt;/p&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Fri, 29 Aug 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【The Signal in the Storm: Why Chasing More Data Misses the Point】风暴中的信号：为什么追逐更多的数据错过了重点</title>
      <link>https://www.cncf.io/blog/2025/08/29/the-signal-in-the-storm-why-chasing-more-data-misses-the-point/</link>
      <description>【&lt;p&gt;As OpenTelemetry adoption has exploded, so has the volume of telemetry data moving through modern observability pipelines. But despite collecting more logs, metrics, and traces than ever before, teams are still struggling to answer the most basic questions during incidents: &lt;em&gt;What broke? Where? And why?&lt;/em&gt;&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;In my recent talk at OpenTelemetry Community Day, &lt;em&gt;“&lt;/em&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=Gy38gx-7phA&#34;&gt;&lt;em&gt;T&lt;/em&gt;&lt;em&gt;he Signal in the Storm: Practical Strategies for Managing Telemetry Overload&lt;/em&gt;&lt;/a&gt;&lt;em&gt;,”&lt;/em&gt; I laid out a different path forward, one focused not on volume, but on meaning.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;More telemetry doesn’t guarantee more understanding. In many cases, it gives you the illusion of control while silently eroding your ability to reason about the system. That illusion becomes expensive, especially when telemetry pipelines are optimized for ingestion, not insight.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Observability Needs a Better Model&amp;nbsp;&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Traditional observability relies on emitting and aggregating raw signals (spans, logs, and metrics), then querying across that pile post-hoc. That model assumes the data will be useful &lt;em&gt;after&lt;/em&gt; something goes wrong. But today’s distributed, dynamic, multi-tenant AI-driven systems don’t give you that luxury. The&lt;a href=&#34;https://www.causely.ai/blog/be-smarter-about-observability-data&#34;&gt; cost of collecting all raw signals&lt;/a&gt; without semantics and without context is too high.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;We need a shift: from streams of telemetry to structured, semantic representations of how systems behave. That starts by modeling the actual components of the system (entities) and the relationships between them. Not as metadata bolted onto spans, but as first-class signals. This is the work being advanced by the&lt;a href=&#34;https://github.com/open-telemetry/community#special-interest-groups&#34;&gt; OpenTelemetry Entities SIG&lt;/a&gt;, and it’s central to how we think about observability at&lt;a href=&#34;https://www.causely.ai/&#34;&gt; Causely&lt;/a&gt;.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;What It Looks Like in Practice&amp;nbsp;&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;At Causely, we’ve been applying these ideas in production. We observe system behavior, and instead of centralizing all that raw output, we extract anomalies in the context of semantic entities and relationship graphs at the edge. This gives us fine-grained insight without overwhelming the pipeline.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The impact is real:&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Less data, more clarity&lt;/strong&gt;: structured signals replace noisy aggregates&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Better performance and cost-efficiency&lt;/strong&gt;: telemetry becomes lean and targeted&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Stronger privacy&lt;/strong&gt;: raw, user-level data never needs to leave the cluster&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Faster debugging&lt;/strong&gt;: understanding is built-in, not reverse-engineered&amp;nbsp;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The goal isn’t to eliminate data; it’s to &lt;strong&gt;collect with intent&lt;/strong&gt;. To make the system itself understandable, not just observable.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Watch the Talk&lt;/strong&gt;:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;In the session, I go deep into what this looks like technically, including:&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;How teams are adapting their telemetry strategies to manage scale and cost&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;The role of entities, ontologies, and semantic modeling in modern observability&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Why centralized data lakes aren’t a sustainable long-term answer&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;What we’ve learned building systems that can reason about their own behavior&amp;nbsp;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;If you’ve felt the limits of traditional observability, and you’re looking for a more scalable, reliable, and thoughtful path forward, I hope you’ll check it out.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Watch the recording: &lt;/strong&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=Gy38gx-7phA&#34;&gt;https://www.youtube.com/watch?v=Gy38gx-7phA&lt;/a&gt;&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;See the slides:&lt;/strong&gt; &lt;a href=&#34;https://static.sched.com/hosted_files/otelopenobservabilityna25/75/signal-in-storm-observabilitysummit-2025.pptx&#34;&gt;https://static.sched.com/hosted_files/otelopenobservabilityna25/75/signal-in-storm-observabilitysummit-2025.pptx&lt;/a&gt;&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt;随着OpentElemetry的采用率爆炸了，遥测数据的数量也在现代可观察性管道中移动。但是，尽管收集了比以往更多的日志，指标和痕迹，但团队仍在努力回答事件中最基本的问题：&lt;em&gt;什么破裂了？在哪里？为什么？&lt;/em&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在我最近在Opentelemetry社区日的演讲中，&lt;em&gt;“ &lt;/em&gt;”向前，一个专注于音量，而是含义。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;更多的遥测不能保证更多的理解。在许多情况下，它给您控制的幻想，同时默默地侵蚀了您对系统推理的能力。这种幻想变得昂贵，尤其是当遥测管道优化以摄入而不是洞察力时。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;可观察性需要更好的模型&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;传统的可观察性依赖于发射和汇总的原始信号（跨度，日志和指标），然后在事后查询。该模型假设数据将是有用的&lt;em&gt; &lt;/em&gt;出现问题。但是，今天的分布式，动态的，多租户的AI驱动系统并不能为您提供这种奢侈品。 &lt;a href =“ https://www.causely.ai/blog/be-smarter-about-observability-data”&gt;收集所有原始信号的成本&lt;/a&gt;没有语义，没有上下文的情况太高。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我们需要转变：从遥测流到系统行为方式的结构化语义表示。首先要建模系统（实体）的实际组件及其之间的关系。元数据不是螺栓固定在跨度上，而是一流的信号。这是由&lt;a href =“ https://github.com/open-telemetry/community#special-interest-groups”&gt; opentelemetry实体sig &lt;/a&gt;所提出的，这对于我们在&lt;&lt;ahref =“ href =” href =“ href =” href =“ href =” href =“ &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;实践中的外观&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在Causely，我们一直在生产中应用这些想法。我们观察到系统行为，而不是集中所有原始输出，而是在语义实体和边缘的关系图的背景下提取异常。这为我们提供了细粒度的见解，而不会压倒管道。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;影响是真实的：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;较少的数据，更多的清晰度&lt;/strong&gt;：结构化信号替换噪声骨料&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;更好的性能和成本效益&lt;/strong&gt;：遥测变得精益而有针对性&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;更强的隐私&lt;/strong&gt;：RAW，用户级数据不需要离开群集&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;更快的调试&lt;/strong&gt;：理解是内置的，不是反向工程的&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;目标不是消除数据；是&lt;strong&gt;意图&lt;/strong&gt;收集。为了使系统本身可以理解，而不仅仅是可观察到的。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;观看谈话&lt;/strong&gt;：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在会话中，我深入研究了技术的样子，包括：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;团队如何调整其遥测策略来管理规模和成本&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;实体，本体和语义建模在现代可观察性中的作用&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;为什么集中数据湖不是可持续的长期答案&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;我们学到的建筑系统可以推论自己的行为&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;如果您感受到了传统可观察性的限制，并且正在寻找更可扩展，可靠和周到的前进道路，我希望您能检查一下。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;观看录音：&lt;/strong&gt; &lt;a href =“ https://www.youtube.com/watch?v=gy38gx-7pha”&gt; https://www.youtube.com/watch?v=gy38gx-7pha &lt;/a&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;请参阅幻灯片：&lt;/strong&gt; &lt;a href =“ https://static.sched.com/hosted_files/otelopenobservabilityna25/75/signal-in-signal-in-storm-observibalietysummit-2025.pptx”&gt; https://static.sched.com/hosted_files/otelopenobserviabilityna25/75/signal-in-signal-in-storm-observibalietysummit-2025.pptx &lt;/a&gt; &lt;/p&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Thu, 28 Aug 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Building a Scalable, Flexible, Cloud-Native GenAI Platform with Open Source Solutions】使用开源解决方案构建可扩展，灵活的云原生genai平台</title>
      <link>https://www.cncf.io/blog/2025/08/28/building-a-scalable-flexible-cloud-native-genai-platform-with-open-source-solutions/</link>
      <description>【&lt;p&gt;AI workloads are complex, and unmanaged complexity kills velocity. Your architecture is the key to mastering it.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;As generative AI (GenAI) becomes foundational to modern software products, developers face a chaotic new reality, juggling different APIs from various providers while also attempting to deploy self-hosted open-source models. This leads to credential sprawl, inconsistent security policies, runaway costs, and an infrastructure that is difficult to scale and govern.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Your architecture doesn’t have to be this complex.&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Platform engineering teams need a secure, scalable way to serve both internal and external LLMs to their users. That’s where tools such as &lt;a href=&#34;https://aigateway.envoyproxy.io/&#34;&gt;Envoy AI Gateway&lt;/a&gt; come in.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This reference architecture outlines how to build a flexible GenAI platform using the open source solutions Envoy AI Gateway, KServe, and complementary tools. Whether you’re self-hosting models or integrating with model-serving services on cloud providers, such as OpenAI and Anthropic, this architecture enables a unified, governable interface for LLM traffic.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class=&#34;wp-block-separator has-alpha-channel-opacity&#34;&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Core Architecture: Two-Tier Gateway Design&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#core-architecture-two-tier-gateway-design&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The foundation of this platform is a Two-Tier Gateway Architecture:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Tier One Gateway&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#tier-one-gateway&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Deployed in a centralized Gateway Cluster. It serves as the main API traffic entry point for client applications.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Its Job:&lt;/strong&gt; To route traffic to external LLM providers (e.g., OpenAI, Anthropic, Bedrock, Vertex) or to the appropriate internal gateway to access an internal model-serving cluster.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Why It Matters:&lt;/strong&gt; This gateway provides a unified API for all application developers. They don’t need to know or care if a model is hosted by a third party or in-house. It centralizes coarse-grained policies, such as authentication, top-level routing, and global rate limiting, simplifying the developer experience and providing a single control point for platform-wide governance.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Tier Two Gateway&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#tier-two-gateway&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Deployed as part of a self-hosted model serving cluster&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Its Job:&lt;/strong&gt; To handle internal traffic routing, load balancing, and policy enforcement specific to self-hosted models running on platforms like KServe.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Why It Matters:&lt;/strong&gt; This empowers platform teams. They can manage model versions, conduct releases, and apply specific security rules for self-hosted models without needing to make changes to the primary, customer-facing gateway. This separation ensures that internal operational changes don’t impact external clients.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Design Benefits&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#design-benefits&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This design cleanly separates external access from internal implementation, giving teams the autonomy they need to move fast without breaking things, and provides:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Centralized credential management&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Unified API access&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Cost tracking and traffic governance&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-image&#34;&gt;&lt;img decoding=&#34;async&#34; src=&#34;https://lh7-rt.googleusercontent.com/docsz/AD_4nXf04V2__Gj50sGmCHCWMN6ur5NV7Cs8XHPqMn1D4D5I43crRUSixpaaQthIOyx5r6qp5gKmAPe87U4S-jFZVlLklCqycA0CV2FfXzCTwbhtW7Aal5_BXKGaQHrO4Y4X5KlroRDeKw?key=55BEAzL15Do3_AoyMRuJUQ&#34; alt=&#34;Tier 1 Envoy AI Gateway Graphic&#34; referrerpolicy=&#34;no-referrer&#34;&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Routing and Traffic Management&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#routing-and-traffic-management&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Envoy AI Gateway provides a consistent client interface and abstracts the complexity of accessing diverse GenAI backends. It supports:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-table&#34;&gt;&lt;table class=&#34;has-fixed-layout&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Feature&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;Problem&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;Solution&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Upstream Authentication with Credential Injection&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;Application developers must manage, store, and rotate API keys for multiple external LLM providers. This is a security risk and an operational burden that slows down development.&lt;/td&gt;&lt;td&gt;The gateway injects the correct credentials per provider. Developers can make requests to the gateway using a single, internal authentication token, and the gateway handles attaching the appropriate third-party API key. &lt;strong&gt;This decouples applications from external secrets, dramatically improving security and simplifying code.&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Token-Based Rate Limiting and Cost Optimization&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;A single buggy script or a new feature can lead to unexpected spikes in usage, resulting in huge bills from LLM providers or overwhelming your self-hosted infrastructure.&lt;/td&gt;&lt;td&gt;The gateway acts as an intelligent financial and operational circuit breaker. You can enforce policies based on token usage, requests, or estimated cost. &lt;strong&gt;This prevents abuse and ensures that you stay within budget, providing critical protection for the business.&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Observability Hooks for Usage Patterns and Latency&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;When you use multiple model providers, it’s nearly impossible to get a clear picture of usage. Which teams are spending the most? Which models have the highest latency? How many tokens is our new feature consuming?&lt;/td&gt;&lt;td&gt;By routing all traffic through a single point, the gateway provides a unified source of truth and built-in support for metrics, logs, and traces tailored for GenAI workloads. &lt;strong&gt;This enables you to accurately track costs, identify performance bottlenecks, and understand usage patterns across your entire GenAI stack.&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;tip&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Clients simply hit a single endpoint and let the Gateway handle routing to the appropriate backend—self-hosted or third-party.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class=&#34;wp-block-separator has-alpha-channel-opacity&#34;&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Self-Hosted Model Serving with KServe&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#self-hosted-model-serving-with-kserve&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;While many organizations start with external providers, self-hosting models offer advantages in terms of cost, privacy, and customization. If you are self-hosting models, KServe is a powerful addition.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;For many data scientists and ML engineers, turning a trained model into a production-ready API is a major hurdle that requires deep expertise in Kubernetes, networking, and infrastructure. KServe bridges this gap and eliminates the complexity. KServe is a model serving platform that automates the heavy lifting, allowing an engineer to simply provide a configuration file for their model while KServe builds the scalable, resilient API endpoint.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;A few highlights of what KServe provides:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Autoscaling (including token-based autoscaling for LLMs and scale-to-zero for GPUs)&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Multi-node inference (via vLLM)&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Support for OpenAI-compatible APIs and advanced runtime integrations (vLLM)&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Built-in support for model and prompt caching&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Check out the &lt;a href=&#34;https://kserve.github.io/website/latest/&#34;&gt;KServe Documentation&lt;/a&gt; to learn more about all the capabilities.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Use tools like Backstage to simplify model deployment and namespace management for teams.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Info&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Self-hosting is optional. Many adopters will initially rely on external providers and add internal hosting as requirements evolve.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-image&#34;&gt;&lt;img decoding=&#34;async&#34; src=&#34;https://lh7-rt.googleusercontent.com/docsz/AD_4nXcivyEQpovIBsvn0WhCKqRcv7y6BA0JjTFIZ94t_rwRADwOuKV7H7dOxPkBHrPr7Lt8L333FHe0b0aFKIHmZMCKHiny4T20OqoikyRmi-wHpAdFY_026JOuaGypout5E0hyvIKYyA?key=55BEAzL15Do3_AoyMRuJUQ&#34; alt=&#34;Envoy API gateway graphic&#34; referrerpolicy=&#34;no-referrer&#34;&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class=&#34;wp-block-separator has-alpha-channel-opacity&#34;&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Observability, Control, and Optimization for Production Readiness&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#observability-control-and-optimization-for-production-readiness&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;In a production GenAI platform environment, observability, control, and optimization become must-haves. Envoy AI Gateway and KServe offer integrations that cater to these needs.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Observability&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#observability&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Achieving visibility into your system enables the identification of bottlenecks, effective cost management, and ensures model reliability.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Unified Metrics and Tracing:&lt;/strong&gt;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Envoy AI Gateway integrates seamlessly with &lt;strong&gt;OpenTelemetry&lt;/strong&gt;, adhering to the GenAI Semantic Conventions. This delivers a unified view of requests, latency, token usage, and errors across all external and internal models.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Leverage specialized telemetry, like &lt;strong&gt;OpenLLMetry&lt;/strong&gt;, for granular insights into LLM-specific metrics, ensuring you capture essential details like prompt and completion lengths, token throughput, and model-specific performance.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Centralized Logging:&lt;/strong&gt;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Centralize logging across providers through Envoy AI Gateway, facilitating easier debugging, auditing, and compliance.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Control&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#control&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Enforcing policies and controls ensures your platform remains secure, stable, and cost-effective:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Policy Enforcement and Guardrails:&lt;/strong&gt;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Set usage-based guardrails directly in Envoy AI Gateway to prevent cost overruns, enforce compliance, and safeguard against prompt misuse or model hallucination.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Implement safety checks and output validation rules that enable your team to control quality and compliance centrally, rather than embedding these checks individually within applications.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Optimization&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#optimization&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Maximizing the efficiency and responsiveness of your models can significantly enhance user experience and operational efficiency:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Caching Strategies:&lt;/strong&gt;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;KServe’s &lt;strong&gt;model caching&lt;/strong&gt; further optimizes inference, significantly lowering response times and improving model utilization.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Disaggregated Serving:&lt;/strong&gt;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Optimize hardware resources by leveraging KServe’s support for &lt;strong&gt;disaggregated inference&lt;/strong&gt;, which enables the separate management of compute-intensive inference stages and memory-intensive operations, thereby maximizing hardware efficiency and reducing costs.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;info&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Be sure to review the documentation for each project to learn more about preparing your setup for production.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class=&#34;wp-block-separator has-alpha-channel-opacity&#34;&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Pluggable and Flexible&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#pluggable-and-flexible&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This is not a rigid, all-or-nothing platform. It’s a set of foundational components you can adopt and extend to fit your unique environment. This architecture works whether you’re fully committed to Kubernetes or using a hybrid cloud.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;You can:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Start with externally hosted LLMs or self-hosted inference&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Use Envoy AI Gateway with any compatible provider via a unified API&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Add your own authorization logic and/or custom functionality via Envoy’s extension filters&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Deploy your Gateways in different clusters and cloud providers, giving you flexibility of choice in hosting environments&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This is not a rigid platform. It’s a foundational component you can build on and extend.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class=&#34;wp-block-separator has-alpha-channel-opacity&#34;&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Summary&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#summary&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The Envoy AI Gateway reference architecture gives platform teams a guide to:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Centralize access to GenAI models with a unified API&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Enforce consistent traffic and security policies across model providers&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Support both internal and external LLM usage without refactoring client applications&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Scale safely and cost-effectively without reinventing core infrastructure&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Envoy AI Gateway sits at the heart of this design, an intelligent, extensible control point for all your GenAI traffic.&lt;/p&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt; AI工作负载很复杂，不受管理的复杂性杀死了速度。您的体系结构是掌握它的关键。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;作为生成AI（Genai）成为现代软件产品的基础，开发人员将面临混乱的新现实，兼顾各种提供商的不同API，同时也试图部署自托管的开源模型。这导致凭证蔓延，不一致的安全策略，失控成本以及难以扩展和管理的基础架构。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;您的体系结构不必这么复杂。&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;平台工程团队需要一种安全，可扩展的方式，以为其用户提供内部和外部LLM。那就是&lt;a href =“ https://aigateway.envoyproxy.io/”等工具的地方。&#xA;&#xA;&#xA;&#xA;&lt;p&gt;此参考体系结构概述了如何使用开源解决方案Envoy AI Gateway，Kserve和补充工具来构建灵活的Genai平台。无论您是自我托管模型还是与云提供商（例如OpenAI和Anthropic）上的模型服务服务集成，此体系结构可为LLM流量提供一个统一的，可管理的接口。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class =“ wp-block-separator has-alpha-channel-opacity”&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block-heading”&gt; &lt;strong&gt;核心体系结构：两层网关设计&lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#core-achitection-two-two-two-two-tier-tier-tier-tier-tier-gateway-design-design&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;该平台的基础是两层网关体系结构：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block-heading”&gt; &lt;strong&gt;层One Gateway &lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#tier-one-negateway&gt; &lt;strong&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;部署在集中式网关群集中。它是客户端应用程序的主要API流量入口点。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;其工作：&lt;/strong&gt;将流量路由到外部LLM提供商（例如OpenAI，人类，基岩，顶点）或适当的内部网关以访问内部模型服务集群。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;为什么重要的是：&lt;/strong&gt;该网关为所有应用程序开发人员提供统一的API。他们不需要知道或关心模型是由第三方还是内部托管的。它集中了诸如身份验证，顶级路由和全球利率限制之类的粗粒策略，简化了开发人员的体验并为范围范围的治理提供了一个控制点。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block-heading”&gt; &lt;strong&gt; tier tier tier tier tier &lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#tier-two-gateway”&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;部署为服务集群的自托模型的一部分&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;其工作：&lt;/strong&gt;处理内部流量路由，负载平衡以及特定于在Kserve等平台上运行的自托模型的政策执行。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;为什么重要的是：&lt;/strong&gt;这使平台团队能力。他们可以管理模型版本，进行发行并应用特定的安全规则丁，更改针对客户的主要网关。这种分离确保了内部操作变化不会影响外部客户。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block-heading”&gt; &lt;strong&gt;设计好处&lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#design-benefits&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这种设计将外部访问与内部实现分开，为团队提供了他们在不破坏事物的情况下快速移动所需的自主权，并提供：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;集中凭证管理&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;统一的API访问&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;成本跟踪和交通治理&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-image”&gt; &lt;img decoding =“ async” src =“ https://lh7-rt.googleusercontent.com/docsz/ad_4nxf04v2__gj50sgmchcwmn6ur5nv7cs8xhpqmn1d41d4d4d5i43crrusixpaaq thioyx5r6qp5gkmape87u4s-jfzvllklcqyca0cv2ffxzctwbhtw7aal5_bxkgaqhro4y4x5klrordekw？ Alt =“ Tier 1 Envoy AI Gateway Graphic” reverrerPolicy =“ no-treferrer”&gt; &lt;/fige&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Envoy AI网关提供了一个一致的客户界面，并抽象了访问多种Genai后端的复杂性。它支持：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-table”&gt; &lt;table class =“ has-fixed-layout”&gt; &lt;tbody&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt; &lt;td&gt; &lt;strong&gt;功能&lt;/strong&gt; &lt;/strong&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;std&gt; &lt;strong&gt;问题注射&lt;/strong&gt; &lt;/td&gt; &lt;td&gt;应用程序开发人员必须为多个外部LLM提供商管理，存储和旋转API键。这是一个安全风险和运营负担减慢了开发。&lt;/td&gt; &lt;td&gt;网关注入每个提供商的正确凭据。开发人员可以使用单个内部身份验证令牌向网关提出请求，并且网关处理附加了适当的第三方API键。 &lt;strong&gt;这将应用程序与外部秘密脱离，极大地提高了安全性并简化了代码。&lt;/strong&gt; &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; &lt;td&gt; &lt;td&gt; &lt;std&gt; &lt;strong&gt;基于代币的速率限制和成本优化&lt;/strong&gt; &lt;/strong&gt; &lt;/td&gt; &lt;td&gt; &lt;td&gt; &lt;/tdd&gt; &lt;td&gt;单个货运脚本或新功能会导致在用户中出现意外的自我范围或供应范围。基础架构。&lt;/td&gt; &lt;td&gt;网关充当智能财务和运营断路器。您可以根据令牌使用，请求或估计成本执行政策。 &lt;strong&gt;这可以防止滥用，并确保您保持预算范围内，为业务提供关键的保护。&lt;/strong&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; &lt;td&gt; &lt;std&gt; &lt;strong&gt;使用模式的可观察性挂钩和延迟&lt;/strong&gt; &lt;/strong&gt; &lt;/td&gt; &lt;td&gt;当您使用多个模型提供者时，几乎不可能获得清晰的用途图片。哪些团队花费最多？哪些型号的延迟最高？我们的新功能消耗了多少个令牌？&lt;/td&gt; &lt;td&gt;通过路由所有通过单点的流量，网关为指标，日志和针对Genai工作负载量身定制的指标，日志和轨迹提供了统一的真理来源和内置支持。 &lt;strong&gt;这使您能够准确跟踪成本，确定性能瓶颈并了解整个Genai堆栈中的使用模式。&lt;/strong&gt; &lt;/td&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/table&gt; &lt;/figie&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;提示&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;客户只需击中一个端点，然后让网关将路由路由到适当的后端 - 托管或第三方。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class =“ wp-block-separator has-alpha-channel-opacity”&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block-heading”&gt; &lt;strong&gt; kserve &lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#selp-host-host-host-host-model-model-serving-with-with-kserve-with-kserve-&#xA;&#xA;&#xA;&#xA;&lt;p&gt;尽管许多组织从外部提供商开始，但自托管模型在成本，隐私和自定义方面提供了优势。如果您是自我托管模型，Kserve是一个有力的补充。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;对于许多数据科学家和ML工程师而言，将受过训练的模型变成准备生产的API是一个主要障碍，需要在Kubernetes，网络和基础架构方面进行深厚的专业知识。 kserve桥这一差距并消除了复杂性。 Kserve是一个模型服务平台，可自动化繁重的举重，使工程师可以简单地为其模型提供配置文件，而Kserve则构建可扩展的弹性API端点。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt; Kserve提供的一些亮点：&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;自动化（包括基于令牌的LLMS自动化和GPU的比例到零）&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;多节点推理（通过VLLM）&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;支持与OpenAI兼容的API和高级运行时集成（VLLM）&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;内置支持模型和提示缓存&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;查看&lt;a href =“ https://kserve.github.io/website/latest/”&gt; kserve文档&lt;/a&gt;以了解有关所有功能的更多信息。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;使用后台诸如团队的模型部署和命名空间管理。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;信息&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;自我托管是可选的。许多采用者最初将依靠外部提供商并随着需求而添加内部托管。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-image”&gt; &lt;img decoding =“ async” src =“ https://lh7-rt.googleusercontent.com/docsz/ad_4nxcivyeqpovibsvn0wh0whckqrcv7y6ba0jjjtfiz944t_rwradwoukv7h7h7dox PKBHRPR7LT8L333FHE0B0AFKIHMZMCKHINY4T20OQOIKYRMI-WHPADFY_026JOUAGYPOUT5E0HYVIKYYA？ alt =“ Envoy Api Gateway Graphic” reverrerpolicy =“ no-treferrer”&gt; &lt;/fige&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class =“ wp-block-separator has-alpha-channel-opacity”&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Observability, Control, and Optimization for Production Readiness&lt;/strong&gt;&lt;a href=&#34;https://aigateway.envoyproxy.io/blog#observability-control-and-optimization-for-production-readiness&#34;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在生产Genai平台环境中，可观察性，控制和优化离子成为必不可少的。 Envoy AI Gateway和Kserve提供满足这些需求的集成。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block-heading”&gt; &lt;strong&gt;可观察性&lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#observisials”&gt; &lt;strong&gt; &lt;/strong&gt; &lt;/strong&gt; &lt;/a&gt; &lt;/a&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;实现对系统的可见性，可以识别瓶颈，有效的成本管理并确保模型可靠性。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;统一指标和追踪：&lt;/strong&gt;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; Eyboy AI Gateway与&lt;strong&gt; OpentElemetry &lt;/strong&gt;无缝集成，并遵守Genai语义惯例。这为所有外部和内部模型中的请求，延迟，令牌使用和错误提供了统一的视图。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;利用专门的遥测，例如&lt;strong&gt; OpenLlmetry &lt;/strong&gt;，用于对LLM特异性指标的颗粒状见解，确保您捕获基本细节，例如及时和完成长度，代币吞吐量和模型特定的性能。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;集中记录：&lt;/strong&gt;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;通过Envoy AI Gateway集中登录提供商，促进更轻松的调试，审计和合规性。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block-heading”&gt; &lt;strong&gt;控制&lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#control”&gt; &lt;strong&gt; &lt;strong&gt; &lt;/strong&gt; &lt;/a&gt; &lt;/a&gt; &lt;/a&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;执行策略和控件可确保您的平台保持安全，稳定和成本效益：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;政策执行和护栏：&lt;/strong&gt;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;直接在Envoy AI网关中设置基于用法的护栏，以防止成本超支，执行合规性和保护迅速滥用或模型幻觉。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;实施安全检查和输出验证规则，使您的团队能够集中控制质量和合规性，而不是将这些检查分别嵌入应用程序中。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block-heading”&gt; &lt;strong&gt;优化&lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#optimization”&gt; &lt;strong&gt; &lt;/strong&gt; &lt;/strong&gt; &lt;/a&gt; &lt;/a&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;最大化模型的效率和响应能力可以显着提高用户体验和操作效率：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;缓存策略：&lt;/strong&gt;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; kserve的&lt;strong&gt;模型缓存&lt;/strong&gt;进一步优化了推理，大大降低了响应时间并改善了模型利用率。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;分解服务：&lt;/strong&gt;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;通过利用Kserve对&lt;strong&gt;分类推理的支持来优化硬件资源，该推理可以单独管理计算密集型推理阶段和内存密集型操作，从而最大程度地提高硬件效率和降低成本。&lt;/li&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;信息&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;一定要查看每个项目的文档o了解有关准备生产的设置的更多信息。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class =“ wp-block-separator has-alpha-channel-opacity”&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block-heading”&gt; &lt;strong&gt;可插入且灵活&lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#pluggable-and-pluggable-and-flegable-and-flexible--flexible”&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这不是一个僵化的，全或全无的平台。这是您可以采用并扩展以适合您独特环境的一组基础组件。无论您是完全致力于Kubernetes还是使用混合云。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;您可以：&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;从外部托管的LLM或自主推理开始&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;通过统一的API &lt;/li&gt;，将Envoy AI网关与任何兼容的提供商一起使用&#xA;&#xA;&#xA;&#xA;&lt;li&gt;通过Envoy的扩展过滤器添加您自己的授权逻辑和/或自定义功能&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;将网关部署在不同的群集和云提供商中，为您在托管环境中的首选灵活性&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这不是一个僵化的平台。这是您可以建立并扩展的基础组件。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;hr class =“ wp-block-separator has-alpha-channel-opacity”&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block-heading”&gt; &lt;strong&gt;摘要&lt;/strong&gt; &lt;a href =“ https://aigateway.envoyproxy.io/blog#summary”&gt; &lt;strong&gt; &lt;strong&gt; &lt;/strong&gt; &lt;/a&gt; &lt;/a&gt; &lt;/a&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;特使AI网关参考体系结构为平台团队提供了指南：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;以统一的API &lt;/li&gt;集中化对Genai模型的访问&#xA;&#xA;&#xA;&#xA;&lt;li&gt;在模型提供商中执行一致的流量和安全策略&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;支持内部和外部LLM使用情况，而无需重构客户端应用程序&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;安全和成本效益的规模而不重新发明核心基础架构&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Envoy AI网关位于该设计的核心，这是您所有Genai交通的智能，可扩展的控制点。&lt;/p&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Wed, 27 Aug 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【How OCI Artifacts Will Drive Future AI Use Cases】OCI工件将如何推动未来的AI用例</title>
      <link>https://www.cncf.io/blog/2025/08/27/how-oci-artifacts-will-drive-future-ai-use-cases/</link>
      <description>【&lt;p&gt;In recent years, the software industry has seen a strong shift toward enabling and supporting Artificial Intelligence (AI) workloads. While a variety of high level tools like Large Language Models (LLMs) already exist to support generic use cases, many domain specific solutions are either not yet available or come with significant development costs and risks, particularly when targeting more niche problems.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This raises an important challenge: how can we avoid building a fragmented AI tooling landscape with limited real world applicability?&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;To truly support the next wave of AI innovation, especially in cloud native environments, we need to rethink and reinforce our software component foundation. This includes standardizing formats, improving cross platform interoperability, and evolving Kubernetes with AI native features in mind. One of the most promising developments in this space revolves around &lt;a href=&#34;https://opencontainers.org/&#34;&gt;Open Container Initiative (OCI)&lt;/a&gt; artifacts.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;The role of OCI artifacts in the AI ecosystem&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;OCI artifacts enable users to store and distribute arbitrary files and metadata using OCI compliant container registries. While originally used for generic purposes (like &lt;a href=&#34;https://oras.land/&#34;&gt;ORAS&lt;/a&gt; supports them), they’re now finding critical roles in AI/ML workflows, especially with the rise of specifications like the &lt;a href=&#34;https://github.com/modelpack/model-spec&#34;&gt;CNCF ModelPack&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The CNCF ModelPack Specification builds on top of OCI artifacts and aims to standardize the packaging, distribution, and execution of AI models in cloud native environments. By moving away from proprietary formats, ModelPack facilitates reproducibility, portability, and vendor neutrality in machine learning workflows.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This opens the door to several important use cases:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Standardized AI/ML model packaging&lt;/strong&gt;: With OCI artifacts, models can be versioned, distributed, and tracked like container images. This promotes consistency and traceability across environments.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Secure model delivery&lt;/strong&gt;: Well established solutions like &lt;a href=&#34;https://www.sigstore.dev/&#34;&gt;sigstore&lt;/a&gt; signatures offer mechanisms to sign and verify OCI artifacts, improving model integrity and trustworthiness. It also allows to scan artifacts like container images for vulnerabilities or other security issues.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;AI/ML model development&lt;/strong&gt;: For example, it is possible to package ML pipelines as OCI artifacts reuse and sharing across teams. Configuration files can be packaed into artifacts for specific environments.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;How Kubernetes and OCI Artifacts fit together&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Having standards around OCI artifacts are essential for building robust AI features into Kubernetes. For example, the Kubernetes &lt;a href=&#34;https://kubernetes.io/docs/tasks/configure-pod-container/image-volumes&#34;&gt;Image Volume&lt;/a&gt; feature allows pods to mount container image layers as read-only volumes. Image volumes could also support OCI artifacts as a special use case.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-image&#34;&gt;&lt;img decoding=&#34;async&#34; src=&#34;https://lh7-rt.googleusercontent.com/docsz/AD_4nXceJ1srpr1hqfO4ANwF2MQcDQVvfvZmEOA_U7lZ1d1HGnd42-MuLY2qJfPh48YnB4Q-m6qVNig2Lv5OtEe_7yJN_pexy1B_WXisXQZsSbR7pXpY8CCfjFMf02YyRC9pd7O60cf_jGp3-MAyqKnafmERvWfC6w4?key=DKqhJJH3beQjK9fBd8h-9w&#34; alt=&#34;Graphic of Kubernetes Image Volume feature&#34; referrerpolicy=&#34;no-referrer&#34;&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;When combining Image Volumes with OCI artifacts, then this capability enables:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Efficient sharing of large model files across containers.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Network efficient deployment by leveraging unique and deduplicated layers.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Fast development iterations with model variants that can reuse common base layers.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Tools such as &lt;a href=&#34;https://github.com/modelpack/modctl&#34;&gt;modctl&lt;/a&gt;, part of the ModelPack ecosystem, provide a CLI interface to manage these models and layers effectively.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;However, Kubernetes can not do all of this alone, the ecosystem, especially container runtimes like &lt;a href=&#34;https://cri-o.io/&#34;&gt;CRI-O&lt;/a&gt;, have to serve as the bridge between the low level OCI standards and high level Kubernetes features.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;CRI-O and OCI Artifact support&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Recent versions of CRI-O have added native support for OCI artifacts, storing them in a dedicated directory to keep them separate from traditional container image layouts. This enables a range of AI centric features:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Mounting OCI artifacts as image volumes in Kubernetes.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Attaching models, config files, or even assembling full container file systems from a collection of OCI artifacts.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;One particularly compelling benefit is architecture independence. OCI artifacts can be platform agnostic, ideal for configuration files or other cross platform assets. And when architecture specific binaries are required, CRI-O also supports multi-architecture manifests (since v1.33). For example, the release bundle at &lt;a href=&#34;https://explore.ggcr.dev/?image=ghcr.io/cri-o/bundle:v1.33.3&#34;&gt;ghcr.io/cri-o/bundle:v1.33.3&lt;/a&gt; allows the runtime to automatically select the appropriate architecture variant from the multi architecture manifest list.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;CRI-O is also exploring support for &lt;strong&gt;WebAssembly (Wasm)&lt;/strong&gt; binaries stored as OCI artifacts, which is currently supported through the &lt;a href=&#34;https://github.com/containers/crun&#34;&gt;crun&lt;/a&gt; runtime. This could further expand the range of artifact based use cases across lightweight and portable compute platforms.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Despite the progress, OCI artifacts are still catching up in terms of feature parity with traditional container images. For instance:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Signature validation via &lt;a href=&#34;https://www.sigstore.dev/&#34;&gt;sigstore&lt;/a&gt; is not yet fully supported, though it is &lt;a href=&#34;https://github.com/cri-o/cri-o/issues/9135&#34;&gt;on the roadmap&lt;/a&gt;.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Compressed artifact layers, a feature that would benefit workloads dealing with large, compressible files (like datasets or logs), are also &lt;a href=&#34;https://github.com/cri-o/cri-o/issues/9132&#34;&gt;planned for the future&lt;/a&gt;.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Support for &lt;a href=&#34;https://github.com/kubernetes/kubernetes/issues/131557&#34;&gt;read-write image volume mounts&lt;/a&gt; to be less restrictive without compromising runtime security would help to simplify distribution setups.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;As these capabilities mature, OCI artifacts will become an even more essential part of building scalable, secure, and portable AI systems.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;Help to shape an AI native Kubernetes&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The Kubernetes community is actively working to formalize AI support through new working groups (WGs) focused on various aspects of this transformation:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/kubernetes/community/pull/8515&#34;&gt;&lt;strong&gt;WG AI Conformance&lt;/strong&gt;&lt;/a&gt;: Defining what AI support should look like across conformant Kubernetes implementations.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/kubernetes/community/pull/8519&#34;&gt;&lt;strong&gt;WG AI Integration&lt;/strong&gt;&lt;/a&gt;: Focusing on integrating AI/ML components into the broader Kubernetes ecosystem.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/kubernetes/community/pull/8521&#34;&gt;&lt;strong&gt;WG AI Gateway&lt;/strong&gt;&lt;/a&gt;: Exploring service oriented interfaces for model serving and inference workloads.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;These initiatives highlight the growing importance of AI workloads in cloud native environments. If you’re passionate about Kubernetes and AI, now is a great time to get involved.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Thanks for reading! If this topic resonates with you, consider contributing to the discussions, proposing new features or improvements. If you would like to chat about that, feel free to directly reach out to me directly via the &lt;a href=&#34;https://kubernetes.slack.com/team/U53SUDBD4&#34;&gt;Kubernetes Slack&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt;近年来，软件行业已经朝着启用和支持人工智能（AI）工作量方面发生了巨大的转变。尽管已经存在各种高级语言模型（LLM）等各种高级工具来支持通用用例，但许多特定领域的解决方案尚未可用，或者尚无大量开发成本和风险，尤其是在针对更多的利基问题时。&lt;/p&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这引起了一个重要的挑战：我们如何避免建立具有有限现实世界适用性的零散的AI工具景观？&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;为了真正支持下一波AI创新，尤其是在云本地环境中，我们需要重新考虑和加强我们的软件组件基础。这包括标准化格式，改善跨平台互操作性以及具有AI本机功能的Kubernetes。该空间中最有希望的发展之一是围绕&lt;a href =“ https://opencontainers.org/”&gt;打开容器intiative（oci）&lt;/a&gt; tratifacts。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; oci伪像在AI生态系统中的作用&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; OCI伪像使用户能够使用符合OCI的容器注册表来存储和分发任意文件和元数据。虽然最初用于通用目的（例如&lt;a href =“ https://oras.land/”&gt; oras &lt;/a&gt;支持它们），但他们现在正在在AI/ML工作流中找到关键作用，尤其是随着规格的兴起，&lt;a a href =“ https：//github.com.com.com.com.com/modelpack/modelpack/modelpack/modelpack &lt;mmodelpack &lt;mmodelpack &lt;mmodelpack”&#xA;&#xA;&#xA;&#xA;&lt;p&gt; CNCF ModelPack规范构建在OCI工件之上，并旨在标准化云本机环境中AI模型的包装，分发和执行。通过远离专有格式，ModelPack促进了机器学习工作流程中的可重复性，可移植性和供应商中立。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这为几个重要用例打开了门：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;标准化的AI/ML模型包装&lt;/strong&gt;：使用OCI伪像，模型可以像容器图像一样版本，分发和跟踪。这促进了环境之间的一致性和可追溯性。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;安全的模型交付&lt;/strong&gt;：&lt;a href =“ https://www.sigstore.dev/”&gt; sigstore &lt;/a&gt;签名提供机制来签名和验证OCI文物，改善模型完整性和信任度。它还允许扫描诸如容器图像之类的工件是否存在漏洞或其他安全问题。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt; AI/ML模型开发&lt;/strong&gt;：例如，可以包装ML管道，因为OCI工件在跨团队之间进行了重复使用和共享。配置文件可以包装到特定环境的工件中。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block-heading”&gt; kubernetes和oci伪像&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在OCI文物周围拥有标准，对于在Kubernetes中构建强大的AI功能至关重要。为了例如，kubernetes &lt;a href =“ https://kubernetes.io/docs/tasks/configure-pod-container/image-volumes”&gt;图像卷&lt;/a&gt;功能允许Pods允许Pods安装容器层，以读取读数。图像量还可以支持OCI文物作为特殊用例。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-image”&gt; &lt;img decoding =“ async” src =“ https://lh7-rt.googleusercontent.com/docsz/ad_4nxcej1srpr1hqfo4anwf2mqccdqvvvvvvvvvvvvvvvvvvvvvzmeoa_u7lz1d1hgnd1hgnd42-muly242-muly2-muly2qjfph48ynb4 q -M6QVNIG2LV5OTEE_7YJN_PEXY1B_WXISXQZSSSSSBR7PXPY8CCFJFMF02YYRC9PD7O60CF_JGGP3-MAYQP3-MAYQKNAFMERVCKNAFMERVWFC6W4？ alt =“ kubernetes图像卷特征”&#xA;&#xA;&#xA;&#xA;&lt;p&gt;将图像量与OCI伪影组合在一起时，此功能可以：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;有效地共享容器中的大型模型文件。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;通过利用独特和重复的层来有效部署网络有效部署。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;使用模型变体的快速开发迭代，可以重复使用共同的基础层。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;a href =“ https://github.com/modelpack/modctl”&gt; modctl &lt;/a&gt;，ModelPack生态系统的一部分，提供CLI接口来有效地管理这些模型和分层。&lt;/p&gt;&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;然而，kubernetes不能单独完成所有这些，尤其是&lt;a href =“ https://cri-o.io//”&gt; Cri-o &lt;/a&gt;的生态系统，尤其是容器运行时，必须充当低级OCI标准和高级Kubernetes特征之间的桥梁。&lt;/p&gt;。&lt;/p&gt;。&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; cri-o和oci伪像支持&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; CRI-O的最新版本增加了对OCI文物的本机支持，将其存储在专用目录中，以使其与传统的容器图像布局分开。这使得各种以AI为中心的功能：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;将OCI文物安装为Kubernetes中的图像量。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;附加模型，配置文件，甚至从OCI伪像的集合中组装完整的容器文件系统。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;一个特别引人注目的好处是建筑独立性。 OCI工件可以是平台不可知论，是配置文件或其他跨平台资产的理想选择。当需要特定架构的二进制文件时，CRI-O还支持多构造的表现（由于v1.33）。例如，&lt;a href =“ https://explore.ggcr.dev/?image=ghcr.io/cri-o/bundle:v1.33.3”&gt; ghcr.io/cri-o/bundle：v1.33.3 &lt;/a&gt;允许运行时可以自动从适当的架构rentection prectore contrecture &lt;/contrection。&#xA;&#xA;&#xA;&#xA;&lt;p&gt; CRI-O还正在探索对&lt;strong&gt; WebAssembly（WASM）&lt;/strong&gt;二进制文件的支持，该二进制文件存储为OCI文物，目前通过&lt;a a href =“ https://github.com/containers/containers/crun”&gt; crun“&gt; crun”&gt; crun &lt;/a&gt;运行时间。这可以进一步扩大轻巧和便携式计算平台的基于人工的用例的范围。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;尽管取得了进展，但OCI文物仍在与传统容器IMA的特征奇偶校验中赶上Ges。例如：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;Signature validation via &lt;a href=&#34;https://www.sigstore.dev/&#34;&gt;sigstore&lt;/a&gt; is not yet fully supported, though it is &lt;a href=&#34;https://github.com/cri-o/cri-o/issues/9135&#34;&gt;on the roadmap&lt;/a&gt;.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;压缩的伪影层，该功能将受益于处理大型，可压缩文件（例如数据集或日志）的功能，也是&lt;a href =“ https://github.com/cri-o/cri-o/cri-o/issues/91132”&gt;未来计划的&lt;/a&gt;。&lt;/li&gt;。&lt;/li&gt;。&lt;/li&gt;。&lt;/li&gt;。&lt;/li&gt;。&lt;/li&gt;。&#xA;&#xA;&#xA;&#xA;&lt;li&gt;支持&lt;a href =“ https://github.com/kubernetes/kubernetes/kubernetes/issues/131557”&gt; read-write映像卷安装&lt;/a&gt;在不损害运行时安全性的情况下，限制性较低&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;随着这些功能成熟，OCI工件将成为构建可扩展，安全和便携式AI系统的更重要的一部分。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt;有助于塑造AI本机kubernetes &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Kubernetes社区正在积极努力通过专注于这种转变的各个方面的新工作组（WGS）正式化AI支持：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/kubernetes/community/pull/8515”&gt; &lt;strong&gt; &lt;strong&gt; wg ai符合&lt;/strong&gt; &lt;/a&gt;：定义AI支持应该在跨构象的Kubernetes实施中看起来像什么样&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/kubernetes/community/pull/8519”&gt; &lt;strong&gt; wg ai Integnation &lt;/strong&gt; &lt;/a&gt;：专注于将AI/ML组件集成到更广泛的Kubernetes EcoSystem。&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/kubernetes/community/pull/8521”&gt; &lt;strong&gt; &lt;strong&gt; wg ai Gateway &lt;/strong&gt; &lt;/a&gt;：探索用于模型服务和推理服务的面向服务的接口。&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这些举措强调了在云本机环境中AI工作负载的重要性。如果您对Kubernetes和AI充满热情，那么现在是参与的好时机。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;感谢您的阅读！如果此主题引起您的共鸣，请考虑为讨论，提出新功能或改进做出贡献。如果您想谈论这个问题，请随时直接通过&lt;a href =“ https://kubernetes.slack.com/team/u53sudbd4”&gt; kubernetes slack &lt;/a&gt;。&lt;/p&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Tue, 26 Aug 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Metal3.io becomes a CNCF incubating project】Metal3.io成为CNCF孵化项目</title>
      <link>https://www.cncf.io/blog/2025/08/27/metal3-io-becomes-a-cncf-incubating-project/</link>
      <description>【&lt;p&gt;The CNCF &lt;a href=&#34;https://www.cncf.io/people/technical-oversight-committee/&#34;&gt;Technical Oversight Committee&lt;/a&gt; (TOC) has voted to accept &lt;a href=&#34;https://metal3.io/&#34;&gt;Metal3&lt;/a&gt;.io as a CNCF incubating project. Metal3.io joins a growing ecosystem of technologies tackling real-world challenges at the edge of cloud native infrastructure.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;What is Metal3.io?&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The Metal3.io project (pronounced: “Metal Kubed”) provides components for bare metal host management with Kubernetes. You can enroll your bare metal machines, provision operating system images, and then, if you like, deploy Kubernetes clusters to them. From there, operating and upgrading your Kubernetes clusters can be handled by Metal3.io. Moreover, Metal3.io is itself a Kubernetes application, so it runs on Kubernetes and uses Kubernetes resources and APIs as its interface.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Metal3.io is also one of the providers for the Kubernetes subproject &lt;a href=&#34;https://github.com/kubernetes-sigs/cluster-api&#34;&gt;Cluster API&lt;/a&gt;. Cluster API provides infrastructure-agnostic Kubernetes lifecycle management, and Metal3.io brings the bare metal implementation.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;Key Milestones and Ecosystem Growth&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The project was started in 2019 by Red Hat and was quickly joined by Ericsson. Metal3.io then joined the CNCF sandbox in&lt;strong&gt; September 2020.&lt;/strong&gt;&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Metal3.io has steadily matured and grown during the sandbox phase, with:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;57 active contributing organizations&lt;/strong&gt;, led by Ericsson and Red Hat.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;An &lt;strong&gt;active community&lt;/strong&gt; organizing weekly online meetings with working group updates, issue triaging, design discussions, etc.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Organizations such as Fujitsu, Ikea, SUSE, Ericsson, and Red Hat among the &lt;strong&gt;growing list of adopters&lt;/strong&gt;.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;New features and API iterations&lt;/strong&gt;, including IP address management, node reuse, firmware settings, and updates management both in provisioning time and on day 2, as well as remediation for the bare metal hosts.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;A new operator&lt;/strong&gt;, called the Ironic Standalone Operator, has been introduced to replace the shell-based deployment method for Ironic.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Added robust security processes&lt;/strong&gt;, regular scans of dependencies, a vulnerability disclosure process, and automated dependency updates.&amp;nbsp;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;Integrations Across the Cloud Native Landscape&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Metal3.io connects seamlessly with many CNCF projects, including:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Kubernetes&lt;/strong&gt;: Metal3.io builds on the success of Kubernetes and makes use of CustomResourceDefinitions&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Cluster API: &lt;/strong&gt;Turn the bare metal servers into Kubernetes clusters&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Cert-manager:&lt;/strong&gt; Certificates for webhooks, etc.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Ironic:&lt;/strong&gt; Handles the hardware for Metal3.io by interacting with baseboard management controllers&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Prometheus:&lt;/strong&gt; Metal3.io exposes metrics in a format that Prometheus can scrape&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;Technical Components&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Baremetal Operator (BMO)&lt;/strong&gt;: Exposes parts of the Ironic API as a Kubernetes native API&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Cluster API Provider Metal³ (CAPM3):&lt;/strong&gt; Provides integration with Cluster API&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;IP Address Manager (IPAM)&lt;/strong&gt;: Handles IP addresses and pools&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Ironic Standalone Operator (IrSO)&lt;/strong&gt;: Makes it easy to deploy Ironic on Kubernetes&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;Ironic-Image&lt;/strong&gt;: Container image for Ironic&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;Community Highlights&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;1523&lt;/strong&gt; GitHub Stars&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;8368&lt;/strong&gt; merged pull requests&amp;nbsp;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;1434&lt;/strong&gt; issues&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;186&lt;/strong&gt; contributors&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;strong&gt;187&lt;/strong&gt; Releases&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;Maintainer Perspective&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;“As a maintainer of the Metal3.io project, I’m proud of its growth towards becoming one of the leading solutions for running Kubernetes on bare metal. I take pride in how it has evolved beyond provisioning bare metal only to support broader lifecycle needs, ensuring users can sustain and operate their bare metal deployments effectively. Equally rewarding has been seeing the community come together to establish strong processes and governance, positioning Metal3.io for CNCF incubation.”&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;—&lt;strong&gt;Kashif Khan,&lt;/strong&gt; Maintainer, Metal3.io&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;“Metal3.io is a testament to the power of collaboration across open source communities. It marries the battle-tested hardware support of the Ironic project with the Kubernetes API paradigm, using a lightweight Kubernetes-native deployment model. I am delighted to see it begin incubation with CNCF. I have no doubt that the forum the Metal3.io project provides will continue to drive progress in integration between Kubernetes and bare metal.”&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;—&lt;strong&gt;Zane Bitter,&lt;/strong&gt;&amp;nbsp; Maintainer, Metal3.io&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;From the TOC&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;“Metal3.io addresses a critical need for cloud native infrastructure by making bare metal as manageable and Kubernetes-native as any other platform. The project’s steady growth, technical maturity, and strong integration with the Kubernetes ecosystem made it a clear choice for incubation. We’re excited to support Metal3.io as it continues to empower organizations deploying Kubernetes at the edge and beyond.”&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;— &lt;strong&gt;&lt;em&gt;Ricardo Rocha,&lt;/em&gt;&lt;/strong&gt;&lt;em&gt; TOC Sponsor&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;Looking Ahead&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Metal3.io’s roadmap for 2025 includes:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;New API revisions for CAPM3, BMO, and IPAM&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Maturing IPAM as a Cluster API IPAM provider&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Multi-tenancy support&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Support for architectures other than x86_64, i.e., ARM&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Improve DHCP-less provisioning&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Simplifying Ironic deployment with IrSO&amp;nbsp;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;As a CNCF-hosted project, Metal3.io is part of a neutral foundation aligned with its technical interests, as well as the larger Linux Foundation, which provides governance, marketing support, and community outreach. Metal3.io joins incubating technologies ArtifactHUB, Backstage, Buildpacks, Chaos Mesh, Cloud Custodian, Container Network Interface (CNI), Contour, Cortex, Crossplane, Dragonfly, Emissary-Ingress, Flatcar, gRPC, Karmada, Keptn, Keycloak, Knative, Kubeflow, Kubescape, KubeVela, KubeVirt, Kyverno, Litmus, Longhorn, NATS, Notary, OpenCost, OpenFeature, OpenKruise, OpenTelemetry, OpenYurt, Operator Framework, Strimzi, Thanos, Volcano, and wasmCloud. For more information on maturity requirements for each level, please visit the &lt;a href=&#34;https://github.com/cncf/toc/blob/main/process/graduation_criteria.md&#34;&gt;CNCF Graduation Criteria&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;We look forward to seeing how Metal3.io continues to evolve with the backing of the CNCF community.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Learn more: &lt;a href=&#34;https://www.cncf.io/projects/metal%C2%B3/&#34;&gt;https://www.cncf.io/projects/metal%C2%B3/&lt;/a&gt;&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt; cncf &lt;a href =“ https://www.cncf.io/people/people/technical-oversight-committee/”&gt;技术监督委员会&lt;/a&gt;（toc）已投票接受&lt;a href =“ href =” https://metal3.io/ inctibation。 Metal3.io加入了一个不断增长的技术生态系统，以应对云本地基础设施边缘的现实世界挑战。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt;什么是Metal3.io？&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Metal3.io项目（发音：“金属kubed”）提供了用Kubernetes的裸金属宿主管理的组件。您可以注册裸金属机器，配置操作系统图像，然后，如果您愿意，请将Kubernetes簇部署到它们。从那里开始，可以通过Metal3.io处理和升级Kubernetes簇。此外，Metal3.io本身就是Kubernetes应用程序，因此它在Kubernetes上运行，并将Kubernetes资源和API用作其接口。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Metal3.io也是Kubernetes子标记的提供者之一&lt;a href =“ https://github.com/kubernetes-sigs/cluster-api”&gt; clast api api &lt;/a&gt;。群集API提供基础架构 - 静态的Kubernetes生命周期管理，Metal3.io带来了裸机的实现。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;H3 class =“ wp-block-neading”&gt;关键里程碑和生态系统增长&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;该项目是由红帽于2019年启动的，并迅速由爱立信加入。然后，Metal3.io加入了&lt;strong&gt; 2020年9月的CNCF沙盒。&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Metal3.io在沙盒阶段稳步成熟和生长，&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt; 57活跃的贡献组织&lt;/strong&gt;，由爱立信和红帽领导。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;一个&lt;strong&gt;活跃的社区&lt;/strong &lt;/strong&gt;通过工作组更新，发行分盘，设计讨论等组织每周在线会议等。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;在&lt;strong&gt; &lt;strong&gt;中，富士通，宜家，苏斯，爱立信和红帽等组织都在不断增长的采用者&lt;/strong&gt;。&lt;/li&gt;。&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;新功能和API迭代&lt;/strong&gt;，包括IP地址管理，节点重复使用，固件设置以及在配置时间和第2天的更新管理以及对裸金属宿主的补救。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;已引入了一个新的操作员&lt;/strong&gt;，称为讽刺独立运算符，以替换具有讽刺意味的基于壳的部署方法。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;添加了强大的安全过程&lt;/strong&gt;，定期扫描依赖项，漏洞披露过程以及自动化依赖项更新。 &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt;跨云本地景观的集成&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Metal3.IO无缝连接许多CNCF项目，包括：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt; kubernetes &lt;/strong&gt;：Metal3.io建立在Kubernetes的成功基础上，并利用CustomResourcercedefinition &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;集群API：&lt;/strong&gt;将裸金属服务器变成kubernetes簇&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt; cert-manager：&lt;/strong&gt; Webhooks的证书等&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;具有讽刺意味的：&lt;/strong&gt;通过与底板管理控制器互动来处理Metal3.io的硬件&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt; Prometheus：&lt;/strong&gt; Metal3.io以普罗米修斯可以刮擦的格式公开指标&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;H3 class =“ WP-block-neading”&gt;技术组件&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt; Baremetal Operator（BMO）&lt;/strong&gt;：将讽刺性API的一部分视为Kubernetes本机API &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;群集API提供商金属（CAPM3）：&lt;/strong&gt;提供与群集API &lt;/li&gt;的集成&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt; IP地址管理器（IPAM）&lt;/strong&gt;：处理IP地址和池&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;具有讽刺意味的独立操作员（irso）&lt;/strong&gt;：使讽刺在kubernetes &lt;/li&gt;上很容易&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt;讽刺图像&lt;/strong&gt;：具有讽刺意味的容器图像&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt;社区亮点&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt; 1523 &lt;/strong&gt; github星星&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt; 8368 &lt;/strong&gt;合并的拉请请求&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt; 1434 &lt;/strong&gt;问题&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt; 186 &lt;/strong&gt;贡献者&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;strong&gt; 187 &lt;/strong&gt;发行&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt;维护器透视&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;“作为Metal3.io项目的维护者，我为它的发展而自豪地成为在裸机上运行Kubernetes的领先解决方案之一。我为它的发展而自豪。除了提供裸机以提供裸机以支持更广泛的生命周期需求以支持更广泛的生命周期需求，以确保用户能够维持和在裸露的金属中保持良好的态度，以使其与均等的金属融为一体。孵化。” &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;  -  &lt;strong&gt; kashif khan，&lt;/strong&gt;维护器，金属3.io &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;“ Metal3.io是跨开源社区协作的力量的证明。它与讽刺项目的战斗测试硬件支持与Kubernetes API范式相结合，使用轻量级的Kubernetes-native部署模型与Kubernetes API范式结合，我很高兴看到它与CNCF一起启动。和裸金属。” &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;  -  &lt;strong&gt; zane苦，&lt;/strong&gt;维护器，金属3.io &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block-heading”&gt;来自toc &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;“Metal3.io addresses a critical need for cloud native infrastructure by making bare metal as manageable and Kubernetes-native as any other platform. The project’s steady growth, technical maturity, and strong integration with the Kubernetes ecosystem made it a clear choice for incubation. We’re excited to support Metal3.io as it continues to empower organizations deploying Kubernetes at the edge and beyond.”&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;  -  &lt;strong&gt; &lt;em&gt; ricardo rocha，&lt;/em&gt; &lt;/strong&gt; &lt;em&gt; toc发起人&lt;/em&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt;向前看&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Metal3.io的路线图2025包括：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; capm3，b的新API修订MO和IPAM &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;将IPAM作为群集API IPAM提供商&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;多租户支持&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;支持X86_64以外的架构，即ARM &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;改善无DHCP供应&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;用IRSO简化讽刺部署&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;作为一个CNCF主持的项目，Metal3.io是与其技术利益以及更大的Linux基金会相一致的中立基础的一部分，该基金会提供了治理，营销支持和社区外展。 Metal3.io joins incubating technologies ArtifactHUB, Backstage, Buildpacks, Chaos Mesh, Cloud Custodian, Container Network Interface (CNI), Contour, Cortex, Crossplane, Dragonfly, Emissary-Ingress, Flatcar, gRPC, Karmada, Keptn, Keycloak, Knative, Kubeflow, Kubescape, KubeVela, KubeVirt, Kyverno,石英，长角牛，纳特，公证人，opencost，openfeature，openkruise，opentelemetry，opentyurt，operator框架，strimzi，thanos，thanos，Volcano和Wasmcloud。有关每个级别的成熟度要求的更多信息，请访问&lt;a href =“ https://github.com/cncf/cncf/toc/blob/main/main/process/graduation_criteria.md”&gt; cncf毕业标准&lt;/a&gt;。&lt;/a&gt;。&lt;/p&gt;。&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我们期待看到Metal3.io如何继续随着CNCF社区的支持而发展。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;了解更多信息：&lt;a href =“ https://www.cncf.io/projects/metal%c2%B3/”&gt; https://www.cncf.io/projects/metal%C2%B3/ &lt;/a&gt; &lt;/a&gt; &lt;/a&gt; &lt;/a&gt; &lt;/a&gt; &lt;/a&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;/p&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Tue, 26 Aug 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Use Envoy Gateway as the Unified Ingress Gateway and Waypoint Proxy for Ambient Mesh】使用Envoy Gateway作为环境网格的统一入口网关和Waypoint代理</title>
      <link>https://www.cncf.io/blog/2025/08/26/use-envoy-gateway-as-the-unified-ingress-gateway-and-waypoint-proxy-for-ambient-mesh/</link>
      <description>【&lt;p&gt;&lt;a href=&#34;https://www.linkedin.com/in/richincapie/&#34;&gt;&lt;br&gt;&lt;/a&gt;In this article, we’ll look at how you can use &lt;a href=&#34;https://gateway.envoyproxy.io/&#34;&gt;Envoy Gateway&lt;/a&gt;, an Envoy project open source solution, together with Istio when running in Ambient mode. This allows you to easily leverage the power of Envoy’s L7 capabilities for Ingress and east-west traffic in your mesh with easy-to-use CRDs.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;To understand how this integration works, let’s first take a quick look at &lt;strong&gt;Ambient Mesh&lt;/strong&gt; itself. Also known as &lt;a href=&#34;https://istio.io/latest/docs/ambient/overview/&#34;&gt;&lt;strong&gt;Istio Ambient mode&lt;/strong&gt;&lt;/a&gt;, it’s a sidecar-less service mesh architecture that aims to simplify deployments and can boost efficiency for specific use cases. Unlike sidecar-based meshes, Ambient splits the data plane into two key components: the &lt;strong&gt;ztunnel&lt;/strong&gt;, which secures service-to-service communication, and the &lt;strong&gt;Waypoint Proxy&lt;/strong&gt;, which handles Layer 7 traffic routing and policy enforcement.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;On the other side, &lt;strong&gt;Envoy Gateway&lt;/strong&gt; is a Kubernetes-native API gateway built on top of Envoy Proxy. It’s designed to work seamlessly with the Kubernetes Gateway API and takes a batteries-included approach—offering built-in support for authentication, authorization, rate limiting, CORS handling, header manipulation, and more. These capabilities are exposed through familiar Kubernetes-style APIs, letting you fully tap into Envoy’s power without needing complex configurations.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Because both Ambient Mesh and Envoy Gateway are built on top of Envoy, they share a common foundation. This makes integration straightforward and allows &lt;strong&gt;Envoy Gateway to act as both the Ingress Gateway and Waypoint Proxy&lt;/strong&gt;—giving you a consistent and powerful way to manage traffic and apply Layer 7 policies across your mesh.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Why use Envoy Gateway with Ambient Mesh?&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;While Ambient Mesh simplifies service mesh operations by removing sidecars, its feature set doesn’t yet match the maturity of the sidecar-based model&lt;/strong&gt;. Some advanced Layer 7 capabilities are either missing, considered experimental, or require extra complexity to configure in native Ambient mode.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Limited VirtualService Support&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;https://istio.io/latest/docs/ambient/usage/l7-features/&#34;&gt;VirtualService—a key resource for traffic management in classic Istio—is only available at Alpha level in Ambient&lt;/a&gt;. On top of that, it can’t be used in combination with Gateway API resources. That leaves you with the Gateway API as the only supported option. While it handles basic routing just fine, it’s intentionally generic to support many gateway implementations. As a result, you lose access to some of the richer, Envoy-specific functionality — such as global rate limiting, circuit breaking, and OIDC authentication.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;&amp;nbsp;Lack of&amp;nbsp; EnvoyFilter Support&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;In Ambient mode, &lt;a href=&#34;https://github.com/istio/istio/issues/43720&#34;&gt;EnvoyFilters are not supported&lt;/a&gt;. These filters are critical in sidecar deployments when you need to tweak or extend proxy behavior at the xDS level—whether for custom logic, telemetry, or integration with external systems. Without them, your ability to fine-tune proxy behavior is limited, which can be a blocker for advanced or production-grade use cases.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;That’s where &lt;strong&gt;Envoy Gateway&lt;/strong&gt; comes into play. It extends the Gateway API with &lt;a href=&#34;https://gateway.envoyproxy.io/latest/tasks/&#34;&gt;a powerful set of custom policies, including&lt;/a&gt; ClientTrafficPolicy, BackendTrafficPolicy, SecurityPolicy, EnvoyExtensionPolicy, and EnvoyPatchPolicy, to &lt;strong&gt;harness Envoy’s full potential within Ambient&lt;/strong&gt; &lt;strong&gt;Mesh&lt;/strong&gt;. These policies can be applied directly to core Gateway API resources, such as Gateway and HTTPRoute, allowing for detailed traffic management, improved security, pluggable extensions, and even low-level xDS patching—all while maintaining the simplicity of a sidecar-free architecture.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-image&#34;&gt;&lt;img decoding=&#34;async&#34; src=&#34;https://lh7-rt.googleusercontent.com/docsz/AD_4nXcUte5Razx70-v9oPxNwT5e2X-wq8T0A9psMu2rOa5aC9LTXE5tOOYtfPyL3d_8rlrz35_d18zKuDHt1DtefcTbAII7n-nt27GHz_5YpJt9SemHa2djGcTOez5EY3ix4iP1bCNQqQ?key=YPRa9nNd6jZ-mS5fp2vj3g&#34; alt=&#34;Envoy Gateway image&#34; referrerpolicy=&#34;no-referrer&#34;&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Unlocking Envoy’s Full Potential with Envoy Gateway Policies in Ambient Mesh&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;How Envoy Gateway Works in Ambient Mesh?&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;In a default Ambient Mesh deployment, the waypoint proxy handles both terminating the incoming HBONE tunnel and establishing a new one to the destination service. It also applies Layer 7 traffic policies during this process.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-image&#34;&gt;&lt;img decoding=&#34;async&#34; src=&#34;https://lh7-rt.googleusercontent.com/docsz/AD_4nXddjesYPjsW315Y2FDGF56D4qeRCEvNwfF0dmGPhDjLNPUZw4Kt_pKENVMjf2n5pKmJW2YaYVR8B2wEybLwuucv-D5A3QLncqNiHBhnQThTRKpZxaha-D1Usp13UYxhC54DuCBRdw?key=YPRa9nNd6jZ-mS5fp2vj3g&#34; alt=&#34;Graphic of How Envoy Gateway Works in Ambient Mesh?&#34; referrerpolicy=&#34;no-referrer&#34;&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Traffic Flow in a Default Waypoint Proxy Deployment&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;br&gt;However, Ambient also supports a more modular “sandwich” model, where the ztunnel is logically placed before and after the waypoint proxy, much like a sandwich. In this setup, the ztunnel is responsible for managing the HBONE tunnels on both sides, while the waypoint proxy focuses solely on L7 traffic management and policy enforcement.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure class=&#34;wp-block-image&#34;&gt;&lt;img decoding=&#34;async&#34; src=&#34;https://lh7-rt.googleusercontent.com/docsz/AD_4nXdIlPZW-B1QAMBLFDLhQgsWv3Xu3N0TnPdDHGpliFw4MjiAt-hsGyvmbkUFc-j1u8tPOD4jGnPZ4ulJpmEFcxjFG299xUSMmbeKstdBfNPF8BA5xk4K0hFhj4oKGLxOmFsr0AJWSw?key=YPRa9nNd6jZ-mS5fp2vj3g&#34; alt=&#34;Graphic of how Ambient supports a more modular “sandwich” model&#34; referrerpolicy=&#34;no-referrer&#34;&gt;&lt;/figure&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Traffic Flow in a Sandwiched Waypoint Proxy Deployment&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Note: This diagram illustrates how traffic flows through various components in Ambient Mesh. While it appears that there are two zTunnels placed before and after Envoy Gateway, they’re actually the same instance—let’s gloss over that detail for simplicity.&lt;br&gt;&lt;br&gt;This separation of responsibilities enables the replacement of the default waypoint proxy and Ingress Gateway with Envoy Gateway. By doing so, you can leverage Envoy Gateway’s advanced Gateway API capabilities without giving up the simplicity of Ambient Mesh.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;br&gt;This also enables the use of Envoy Gateway as the Ingress Gateway for Ambient Mesh. The only difference is that the ztunnel needs to be placed only after Envoy Gateway (not in front), since incoming traffic originates outside the mesh and doesn’t arrive over an HBONE tunnel.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;Setting Up Envoy Gateway as the Ingress Gateway&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Let’s walk through an example, creating an Envoy Gateway as Ingress, routing to a backend service and defining a global rate limiting for a specific service. Then, you will deploy an Envoy Gateway as a waypoint proxy.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;To begin with, you need to have a Kubernetes cluster with Istio Ambient mode installed, like:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;&lt;code&gt;istioctl install --set profile=ambient&lt;/code&gt;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Then, install the Envoy Gateway with:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;helm install eg oci://docker.io/envoyproxy/gateway-helm \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--version v0.0.0-latest \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--set config.envoyGateway.provider.kubernetes.deploy.type=GatewayNamespace \&#xA;&#xA;&amp;nbsp;&amp;nbsp;-n envoy-gateway-system \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--create-namespace&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Notice the flag for the deploy type. With this you make sure the Gateway is deployed where the Gateway resource is created and not in the envoy-gateway-system namespace, which is the default behavior.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Label the default namespace for ambient onboarding:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;kubectl label namespace default istio.io/dataplane-mode=ambient&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Last but not least, deploy a backend service you wish to call. In this case, we use Istio’s classic &lt;a href=&#34;https://raw.githubusercontent.com/istio/istio/refs/heads/master/samples/bookinfo/platform/kube/bookinfo.yaml&#34;&gt;Bookinfo&lt;/a&gt; in the default namespace.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;kubectl apply -f https://raw.githubusercontent.com/istio/istio/refs/heads/master/samples/bookinfo/platform/kube/bookinfo.yaml&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;With the canvas in place, it’s time to take the brushes. You need a GatewayClass as the Ingress template, a Gateway instantiating this class and the HTTPRoute establishing the data path bridge. Apply them:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;cat &amp;lt;&amp;lt;EOF | kubectl apply -f -&#xA;apiVersion: gateway.networking.k8s.io/v1&#xA;&#xA;kind: GatewayClass&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: eg-ingress&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;controllerName: gateway.envoyproxy.io/gatewayclass-controller&#xA;&#xA;EOF&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;In Gateway, notice the gatewayClassName referencing eg-ingress above as well as the onboarding to the Ambient mesh:&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;cat &amp;lt;&amp;lt;EOF | kubectl apply -f -&#xA;apiVersion: gateway.networking.k8s.io/v1&#xA;&#xA;kind: Gateway&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;labels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;istio.io/dataplane-mode: ambient&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: bookinfo-ingress&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;gatewayClassName: eg-ingress&#xA;&#xA;&amp;nbsp;&amp;nbsp;listeners:&#xA;&#xA;&amp;nbsp;&amp;nbsp;- allowedRoutes:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;namespaces:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;from: Same&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: ingress&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;port: 80&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: HTTP&#xA;EOF&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;cat &amp;lt;&amp;lt;EOF | kubectl apply -f -&#xA;apiVersion: gateway.networking.k8s.io/v1&#xA;&#xA;kind: HTTPRoute&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: ingress-bookinfo&#xA;&#xA;spec:&#xA;&#xA; parentRefs:&#xA;  - group: gateway.networking.k8s.io&#xA;    kind: Gateway&#xA;    name: bookinfo-ingress&#xA;  rules:&#xA;  - backendRefs:&#xA;    - group: &#34;&#34;&#xA;      kind: Service&#xA;      name: productpage&#xA;      port: 9080&#xA;EOF&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&amp;nbsp;&amp;nbsp;Now, onto some validations. Attention, as this step will help you get Envoy Gateway and Ambient basic debugging skills. First, check the Gateway is created and that its traffic is intercepted by ztunnel:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;$ kubectl get pod -l app.kubernetes.io/name=envoy&#xA;&#xA;NAME &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; READY &amp;nbsp; STATUS&amp;nbsp; &amp;nbsp; RESTARTS &amp;nbsp; AGE&#xA;&#xA;bookinfo-ingress-bcc6457b8-qfhcv &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 2/2 &amp;nbsp; &amp;nbsp; Running &amp;nbsp; 0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 3h11m&#xA;&#xA;$ istioctl ztunnel-config connections --node &amp;lt;NODE_NAME&amp;gt; -o yaml | yq &#39;.[].info | select(.name | test(&#34;^envoy*&#34;))&#39;&#xA;&#xA;name: bookinfo-ingress-bcc6457b8-qfhcv&#xA;&#xA;namespace: default&#xA;&#xA;serviceAccount: bookinfo-ingress-bcc6457b8-qfhcv&#xA;&#xA;trustDomain: &#34;&#34;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Then, inspect the HTTPRoute was effectively attached to the Gateway and it could find the backend service:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;$ kubectl get httproute ingress-bookinfo -oyaml | yq &#39;.status.parents&#39;&#xA;&#xA;- conditions:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- lastTransitionTime: &#34;2025-07-18T03:20:14Z&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;message: Route is accepted&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;observedGeneration: 1&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;reason: Accepted&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;status: &#34;True&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: Accepted&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- lastTransitionTime: &#34;2025-07-18T03:20:14Z&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;message: Resolved all the Object references for the Route&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;observedGeneration: 1&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;reason: ResolvedRefs&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;status: &#34;True&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: ResolvedRefs&#xA;&#xA;&amp;nbsp;&amp;nbsp;controllerName: gateway.envoyproxy.io/gatewayclass-controller&#xA;&#xA;&amp;nbsp;&amp;nbsp;parentRef:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group: gateway.networking.k8s.io&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;kind: Gateway&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: bookinfo-ingress&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Seems like everything’s in order. Time to make the requests:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;$ export ENVOY_SERVICE=$(kubectl get svc --selector=gateway.envoyproxy.io/owning-gateway-name=bookinfo-ingress -o jsonpath=&#39;{.items[0].metadata.name}&#39;)&#xA;&#xA;$ kubectl port-forward service/${ENVOY_SERVICE} 8080:80 &amp;amp;&#xA;&#xA;$ curl localhost:8080/productpage -w &#39;%{http_code}\n&#39; -o /dev/null -s&#xA;&#xA;200&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Ztunnel logs the following:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;2025-07-18T03:33:20.718599Z info access connection complete src.addr=10.244.1.70:45168 src.workload=&#34;envoy-default-bookinfo-ingress-15c0d731-57b6bb576c-8ltvl&#34; src.namespace=&#34;default&#34; src.identity=&#34;spiffe://cluster.local/ns/default/sa/envoy-default-bookinfo-ingress-15c0d731&#34; dst.addr=10.244.1.68:15008 dst.hbone_addr=10.244.1.68:9080 dst.workload=&#34;productpage-v1-54bb874995-kzpnw&#34; dst.namespace=&#34;default&#34; dst.identity=&#34;spiffe://cluster.local/ns/default/sa/bookinfo-productpage&#34; direction=&#34;outbound&#34; bytes_sent=232 bytes_recv=15245 duration=&#34;2022ms&#34;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;That’s Envoy Gateway sandwiched by ztunnel working as an Ingress for Istio Ambient Mesh!&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Hold on. This Ingress needs rate limiting. This is achieved by using a new Redis backend, referencing it in the EG configuration, and applying a BackendTrafficPolicy. We’re deploying a demo Redis instance here for demo purposes. In a production setup, you’ll want to provide your own Redis service—properly secured and scaled to meet your traffic demands.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;cat &amp;lt;&amp;lt;EOF | kubectl apply -f -&#xA;kind: Namespace&#xA;&#xA;apiVersion: v1&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: redis-system&amp;nbsp;&#xA;&#xA;---&#xA;&#xA;apiVersion: apps/v1&#xA;&#xA;kind: Deployment&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: redis&#xA;&#xA;&amp;nbsp;&amp;nbsp;namespace: redis-system&#xA;&#xA;&amp;nbsp;&amp;nbsp;labels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;app: redis&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;replicas: 1&#xA;&#xA;&amp;nbsp;&amp;nbsp;selector:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;matchLabels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;app: redis&#xA;&#xA;&amp;nbsp;&amp;nbsp;template:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;labels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;app: redis&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;containers:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- image: redis:6.0.6&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;imagePullPolicy: IfNotPresent&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: redis&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resources:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;limits:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cpu: 1500m&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;memory: 512Mi&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;requests:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;cpu: 200m&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;memory: 256Mi&#xA;&#xA;---&#xA;&#xA;apiVersion: v1&#xA;&#xA;kind: Service&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: redis&#xA;&#xA;&amp;nbsp;&amp;nbsp;namespace: redis-system&amp;nbsp;&#xA;&#xA;&amp;nbsp;&amp;nbsp;labels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;app: redis&#xA;&#xA;&amp;nbsp;&amp;nbsp;annotations:&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;ports:&#xA;&#xA;&amp;nbsp;&amp;nbsp;- name: redis&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;port: 6379&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: TCP&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;targetPort: 6379&#xA;&#xA;&amp;nbsp;&amp;nbsp;selector:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;app: redis&#xA;EOF&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Once the Redis DB is ready, go ahead and upgrade the eg helm release’s values, adding a rate limit backend:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;helm upgrade eg oci://docker.io/envoyproxy/gateway-helm \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--set config.envoyGateway.rateLimit.backend.type=Redis \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--set config.envoyGateway.rateLimit.backend.redis.url=&#34;redis.redis-system.svc.cluster.local:6379&#34; \&#xA;&#xA;&amp;nbsp;&amp;nbsp;--reuse-values \&#xA;&#xA;&amp;nbsp;&amp;nbsp;-n envoy-gateway-system&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Then, create a BackendTrafficPolicy that enforces a limit of 3 requests per hour for non-admin users.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;cat &amp;lt;&amp;lt;EOF | kubectl apply -f -&#xA;apiVersion: gateway.envoyproxy.io/v1alpha1&#xA;&#xA;kind: BackendTrafficPolicy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: productpage-rate-limiting&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;targetRefs:&#xA;&#xA;&amp;nbsp;&amp;nbsp;- group: gateway.networking.k8s.io&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;kind: HTTPRoute&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: ingress-bookinfo&#xA;&#xA;&amp;nbsp;&amp;nbsp;rateLimit:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: Global&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;global:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;rules:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- clientSelectors:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- headers:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- type: Distinct&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: x-user-id&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- name: x-user-id&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;value: admin&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;invert: true&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;limit:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;requests: 3&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;unit: Hour&#xA;EOF&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;And test it:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;$ while true; do curl localhost:8080/productpage -H &#34;x-user-id: john&#34; -w &#39;%{http_code}\n&#39; -o /dev/null -s; sleep 1; done&#xA;&#xA;Handling connection for 8080&#xA;&#xA;200&#xA;&#xA;Handling connection for 8080&#xA;&#xA;200&#xA;&#xA;Handling connection for 8080&#xA;&#xA;200&#xA;&#xA;Handling connection for 8080&#xA;&#xA;429&#xA;&#xA;Handling connection for 8080&#xA;&#xA;429&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;Enabling Envoy Gateway as the Waypoint Proxy&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;For the waypoint proxy, many steps remain the same; you still create a GatewayClass, a Gateway, and HTTPRoutes. However, you define a separate GatewayClass for the waypoint, as its configuration differs from that of the ingress gateway.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;cat &amp;lt;&amp;lt;EOF | kubectl apply -f -&#xA;apiVersion: gateway.networking.k8s.io/v1&#xA;&#xA;kind: GatewayClass&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: eg-waypoint&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;controllerName: gateway.envoyproxy.io/gatewayclass-controller&#xA;&#xA;&amp;nbsp;&amp;nbsp;parametersRef:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;group: gateway.envoyproxy.io&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;kind: EnvoyProxy&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: waypoint&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;namespace: default&#xA;&#xA;---&#xA;&#xA;apiVersion: gateway.envoyproxy.io/v1alpha1&#xA;&#xA;kind: EnvoyProxy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: waypoint&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;provider:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;kubernetes:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;envoyService:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: ClusterIP&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;patch:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: StrategicMerge&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;value:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ports:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# HACK:ztunnel currently expects the HBONE port to always be on the Waypoint&#39;s Service&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# This will be fixed in future PRs to both istio and ztunnel.&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- name: fake-hbone-port&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;port: 15008&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: TCP&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;targetPort: 15008&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type: Kubernetes&#xA;&#xA;---&#xA;&#xA;apiVersion: gateway.networking.k8s.io/v1&#xA;&#xA;kind: Gateway&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;labels:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;istio.io/dataplane-mode: ambient&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: waypoint&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;gatewayClassName: eg-waypoint&#xA;&#xA;&amp;nbsp;&amp;nbsp;listeners:&#xA;&#xA;&amp;nbsp;&amp;nbsp;- allowedRoutes:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;namespaces:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;from: Same&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: ratings&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;port: 9080&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: HTTP&#xA;&#xA;&amp;nbsp;&amp;nbsp;- allowedRoutes:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;namespaces:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;from: Same&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: fake-hbone&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;port: 15008&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protocol: TCP&#xA;&#xA;---&#xA;&#xA;apiVersion: gateway.networking.k8s.io/v1&#xA;&#xA;kind: HTTPRoute&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: ratings&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;hostnames:&#xA;&#xA;&amp;nbsp;&amp;nbsp;- ratings&#xA;&#xA;&amp;nbsp;&amp;nbsp;- ratings.default&#xA;&#xA;&amp;nbsp;&amp;nbsp;- ratings.default.svc.cluster.local&#xA;&#xA;&amp;nbsp;&amp;nbsp;parentRefs:&#xA;&#xA;&amp;nbsp;&amp;nbsp;- group: gateway.networking.k8s.io&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;kind: Gateway&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: waypoint&#xA;&#xA;&amp;nbsp;&amp;nbsp;rules:&#xA;&#xA;&amp;nbsp;&amp;nbsp;- backendRefs:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- group: &#34;&#34;&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;kind: Service&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: ratings&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;port: 9080&#xA;EOF&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Label the ratings service so it uses the already deployed waypoint. You could also label the namespace for all services to use it:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;$ kubectl label svc ratings istio.io/use-waypoint=waypoint&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;After making the same request as before, check the waypoint’s logs:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;{&#34;:authority&#34;:&#34;ratings:9080&#34;,&#34;bytes_received&#34;:0,&#34;bytes_sent&#34;:358,&#34;connection_termination_details&#34;:null,&#34;downstream_local_address&#34;:&#34;10.244.1.73:9080&#34;,&#34;downstream_remote_address&#34;:&#34;10.244.1.68:38315&#34;,&#34;duration&#34;:3,&#34;method&#34;:&#34;GET&#34;,&#34;protocol&#34;:&#34;HTTP/1.1&#34;,&#34;requested_server_name&#34;:null,&#34;response_code&#34;:200,&#34;response_code_details&#34;:&#34;via_upstream&#34;,&#34;response_flags&#34;:&#34;-&#34;,&#34;route_name&#34;:&#34;httproute/default/ratings/rule/0/match/0/ratings&#34;,&#34;start_time&#34;:&#34;2025-07-18T05:16:36.829Z&#34;,&#34;upstream_cluster&#34;:&#34;httproute/default/ratings/rule/0&#34;,&#34;upstream_host&#34;:&#34;10.244.1.65:9080&#34;,&#34;upstream_local_address&#34;:&#34;10.244.1.73:33244&#34;,&#34;upstream_transport_failure_reason&#34;:null,&#34;user-agent&#34;:&#34;curl/8.7.1&#34;,&#34;x-envoy-origin-path&#34;:&#34;/ratings/0&#34;,&#34;x-envoy-upstream-service-time&#34;:null,&#34;x-forwarded-for&#34;:&#34;10.244.1.68&#34;,&#34;x-request-id&#34;:&#34;839bb7b2-af76-496c-9760-b90f118f191c&#34;}&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Now let’s look at a more advanced scenario—using features in Envoy Gateway that aren’t yet available in Ambient L7. Circuit breaking is a great example, enabling your service to fail fast and avoid cascading failures when upstreams become unhealthy.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;For this, we need a failing service. Luckily, ratings has a delayed mode to simulate it. Add to it this env variable:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;kubectl set env deployment/ratings-v1 SERVICE_VERSION=v-delayed&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;For testing, you can use the &lt;a href=&#34;https://github.com/rakyll/hey&#34;&gt;hey load testing tool&lt;/a&gt; to send traffic directly to the ratings service from within the cluster.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;kubectl run hey --rm -i &amp;nbsp; --image=williamyeh/hey &amp;nbsp; http://ratings:9080/ratings/0&#xA;&#xA;If you don&#39;t see a command prompt, try pressing enter.&#xA;&#xA;Summary:&#xA;&#xA;&amp;nbsp;&amp;nbsp;Total: 28.5228 secs&#xA;&#xA;&amp;nbsp;&amp;nbsp;Slowest: 7.5211 secs&#xA;&#xA;&amp;nbsp;&amp;nbsp;Fastest: 0.0005 secs&#xA;&#xA;&amp;nbsp;&amp;nbsp;Average: 3.6650 secs&#xA;&#xA;&amp;nbsp;&amp;nbsp;Requests/sec: 7.0119&#xA;&#xA;Response time histogram:&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.000 [1] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.753 [98] |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■&#xA;&#xA;&amp;nbsp;&amp;nbsp;1.505 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;2.257 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;3.009 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;3.761 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;4.513 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;5.265 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;6.017 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;6.769 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;7.521 [101] |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The ratings service adds a 7-second delay to half of the responses, which you can observe in the output from the hey command.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Next, create a new BackendTrafficPolicy with a deliberately aggressive circuit breaker configuration—just enough to make it easy to trip during testing.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;apiVersion: gateway.envoyproxy.io/v1alpha1&#xA;&#xA;kind: BackendTrafficPolicy&#xA;&#xA;metadata:&#xA;&#xA;&amp;nbsp;&amp;nbsp;name: circuit-breaker-btp&#xA;&#xA;spec:&#xA;&#xA;&amp;nbsp;&amp;nbsp;targetRefs:&#xA;&#xA;&amp;nbsp;&amp;nbsp;- group: gateway.networking.k8s.io&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;kind: HTTPRoute&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;name: ratings&#xA;&#xA;&amp;nbsp;&amp;nbsp;circuitBreaker:&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;maxPendingRequests: 0&#xA;&#xA;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;maxParallelRequests: 10&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Make sure it has been accepted:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;$ kubectl get backendtrafficpolicy circuit-breaker-btp -ojsonpath=&#39;{.status.ancestors[0].conditions}&#39;&#xA;&#xA;[{&#34;lastTransitionTime&#34;:&#34;2025-07-22T08:53:59Z&#34;,&#34;message&#34;:&#34;Policy has been accepted.&#34;,&#34;observedGeneration&#34;:2,&#34;reason&#34;:&#34;Accepted&#34;,&#34;status&#34;:&#34;True&#34;,&#34;type&#34;:&#34;Accepted&#34;}]%&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Now, run the hey test again to check if the circuit breaker is kicking in as expected:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;$ kubectl run hey --rm -i --image=williamyeh/hey http://ratings:9080/ratings/0&#xA;&#xA;If you don&#39;t see a command prompt, try pressing enter.&#xA;&#xA;Summary:&#xA;&#xA;&amp;nbsp;&amp;nbsp;Total: 0.7135 secs&#xA;&#xA;&amp;nbsp;&amp;nbsp;Slowest: 0.6990 secs&#xA;&#xA;&amp;nbsp;&amp;nbsp;Fastest: 0.0007 secs&#xA;&#xA;&amp;nbsp;&amp;nbsp;Average: 0.1720 secs&#xA;&#xA;&amp;nbsp;&amp;nbsp;Requests/sec: 280.3131&#xA;&#xA;&amp;nbsp;&amp;nbsp;Total data: 16200 bytes&#xA;&#xA;&amp;nbsp;&amp;nbsp;Size/request: 81 bytes&#xA;&#xA;Response time histogram:&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.001 [1] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.071 [149] |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.140 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.210 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.280 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.350 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.420 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.490 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.559 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.629 [0] |&#xA;&#xA;&amp;nbsp;&amp;nbsp;0.699 [50] |■■■■■■■■■■■■■&#xA;&#xA;(trimmed)&#xA;&#xA;Status code distribution:&#xA;&#xA;&amp;nbsp;&amp;nbsp;[503] 200 responses&#xA;&#xA;pod &#34;hey&#34; deleted&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Notice how most of the requests failed in under 100ms—this indicates that the circuit breaker kicked in and started rejecting traffic quickly.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;If you check the waypoint logs, you’ll see clear signs of this in action: the UO response flag and response_code_details set to overflow show that the circuit breaker was triggered. Envoy Gateway dropped the excess requests without forwarding them to the ratings service, just as expected.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt;$ kubectl logs waypoint-7cc857d87b-8kv2z&#xA;&#xA;Defaulted container &#34;envoy&#34; out of: envoy, shutdown-manager&#xA;&#xA;{&#34;:authority&#34;:&#34;ratings:9080&#34;,&#34;bytes_received&#34;:0,&#34;bytes_sent&#34;:81,&#34;connection_termination_details&#34;:null,&#34;downstream_local_address&#34;:&#34;10.244.1.36:9080&#34;,&#34;downstream_remote_address&#34;:&#34;10.244.1.41:40909&#34;,&#34;duration&#34;:0,&#34;method&#34;:&#34;GET&#34;,&#34;protocol&#34;:&#34;HTTP/1.1&#34;,&#34;requested_server_name&#34;:null,&#34;response_code&#34;:503,&#34;response_code_details&#34;:&#34;upstream_reset_before_response_started{overflow}&#34;,&#34;response_flags&#34;:&#34;UO&#34;,&#34;route_name&#34;:&#34;httproute/default/ratings/rule/0/match/0/ratings&#34;,&#34;start_time&#34;:&#34;2025-07-22T09:14:19.407Z&#34;,&#34;upstream_cluster&#34;:&#34;httproute/default/ratings/rule/0&#34;,&#34;upstream_host&#34;:&#34;10.244.1.37:9080&#34;,&#34;upstream_local_address&#34;:null,&#34;upstream_transport_failure_reason&#34;:null,&#34;user-agent&#34;:&#34;hey/0.0.1&#34;,&#34;x-envoy-origin-path&#34;:&#34;/ratings/0&#34;,&#34;x-envoy-upstream-service-time&#34;:null,&#34;x-forwarded-for&#34;:&#34;10.244.1.41&#34;,&#34;x-request-id&#34;:&#34;f611fd0a-8b7f-4c7d-ad18-6f0f8812ac6b&#34;}&#xA;...&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Now, it’s time for you to try it out!&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;Should You Use Envoy Gateway with Ambient Mesh?&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Envoy Gateway offers comprehensive Layer 7 capabilities, including rate limiting, OIDC and JWT authentication, API key checks, CORS support, and detailed observability. All of these features are integrated into Ambient’s simple, sidecar-free design. Combining a lightweight ambient mesh with powerful Layer 7 ingress features.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Of course, there are tradeoffs. You’ll need to run a separate control plane to configure Envoy Gateway and manage configuration in addition to your Istio setup.&amp;nbsp;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;If the built-in ingress and waypoint proxies already meet your needs, there’s no pressure to switch. However, suppose you’re seeking greater control, enhanced security, and increased flexibility at Layer 7. In that case, Envoy Gateway is a powerful way to elevate your Ambient Mesh setup while sticking to fully open-source solutions.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;✅ When to Use Envoy Gateway with Ambient&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Consider using Envoy Gateway if you:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Need advanced Layer 7 features like:&lt;br&gt;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Rate limiting&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;JWT/OIDC authentication&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;API key validation&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;CORS handling&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Wasm or ext_proc extensions&lt;br&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Want Gateway API compatibility with more powerful, opinionated policies (e.g., SecurityPolicy, ClientTrafficPolicy)&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Prefer a unified control plane to manage both ingress and internal Layer 7 traffic&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Appreciate a batteries-included gateway that works out of the box—without needing to write custom Envoy filters (unless you really want to)&lt;br&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;❌ When You Might Hold Off (For Now)&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;You might want to skip Envoy Gateway—at least for now—if you:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Are still experimenting with Ambient Mesh and don’t need advanced Layer 7 features&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Are fine with the current limitations of Ambient’s built-in Gateway support (e.g., no VirtualService, limited routing options)&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Want to keep your control plane as lightweight and simple as possible, avoiding extra CRDs or configuration overhead&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;What’s Next?&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Envoy Gateway and Ambient are a duo that will optimize some of your workloads, so we encourage you to try it out. It unblocks the migration as your organization doesn’t have to wait for the Istio API to include for Ambient the powerful Envoy features you’ve already experienced in this demo.&lt;br&gt;&lt;br&gt;Curious to see what else Envoy Gateway can do in an Ambient Mesh? Check out the&lt;a href=&#34;https://gateway.envoyproxy.io/latest/tasks/&#34;&gt; official tasks&lt;/a&gt; to explore its full feature set.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Still, keep in mind that Ambient is not a one-size-fits-all solution, and its usage should be addressed workload by workload.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;References&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://mesh-advisor.tetr8.io/&#34;&gt;Istio Ambient Assessment Advisor&lt;/a&gt;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://istio.io/latest/docs/ambient/usage/l7-features/&#34;&gt;Istio Ambient mode layer 7 features&lt;/a&gt;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/istio/istio/issues/43720&#34;&gt;Add EnvoyFilter support for waypoint proxies&lt;/a&gt;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://gateway.envoyproxy.io/latest/tasks/&#34;&gt;Envoy Gateway traffic policies&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt;&lt;a href=&#34;https://www.linkedin.com/in/richincapie/&#34;&gt;&lt;br&gt;&lt;/a&gt;In this article, we’ll look at how you can use &lt;a href=&#34;https://gateway.envoyproxy.io/&#34;&gt;Envoy Gateway&lt;/a&gt;, an Envoy project open source solution, together with Istio when running in Ambient mode.这使您可以轻松利用Envoy的L7功能的功能，并借助易于使用的CRD在网格中进出。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;要了解这种集成的工作原理，让我们首先快速查看&lt;strong&gt;环境网格&lt;/strong&gt;本身。也称为&lt;a href =“ https://istio.io.io/latest/docs/ambient/overview/”&gt; &lt;strong&gt; iStio环境模式&lt;/strong&gt; &lt;/a&gt;，这是Sidecar-less服务网格网格结构，旨在简化部署并可以提高特定用例的效率。与基于SIDECAR的网眼不同，环境将数据平面分为两个关键组成部分：&lt;strong&gt; Ztunnel &lt;/strong&gt;，它可以确保服务到服务通信，以及&lt;strong&gt; Waypoint代理&lt;/strong &lt;/strong&gt;，该&lt;/strong&gt;处理7层流量路由和策略执行。&lt;/p&gt;。&lt;/p&gt;。&lt;/p&gt;。&lt;/p&gt;。&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在另一侧，&lt;strong&gt;特使门户&lt;/strong&gt;是一个kubernetes-native api网关，建在特使代理的顶部。它的设计旨在与Kubernetes Gateway API无缝合作，并采用包括电池的方法 - 为身份验证，授权，费率限制，CORS处理，标头操纵等提供内置支持。这些功能通过熟悉的Kubernetes风格的API暴露，使您无需复杂的配置即可完全利用Envoy的功能。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;由于环境网格和特使门户都建在特使之上，因此它们共同基础。这使集成变得直接，并允许&lt;strong&gt;特使网关充当入口网关和Waypoint代理&lt;/strong&gt;  - 为您提供一种一致而有力的方式来管理流量，并在网眼上应用第7层政策。&lt;/p&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ WP-block-heading”&gt; &lt;strong&gt;为什么要使用Envoy Gateway与环境网格？&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;虽然环境网格通过删除壁炉架简化了服务网格操作，但其功能集尚不匹配基于边缘的模型的成熟&lt;/strong&gt;。一些高级第7层功能要么缺少，被认为是实验性的，要么需要额外的复杂性才能在本机环境模式下配置。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;有限的虚拟服务支持&lt;/strong&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;a href =“ https://istio.io/latest/docs/ambient/usage/l7-features/”&gt; VirtualService，这是经典ISTIO中流量管理的关键资源 - 仅在Alpient的Alpha级别可用&lt;/a&gt;。最重要的是，它不能与网关API资源结合使用。这使您拥有网关API，这是唯一的支持选项。尽管它可以很好地处理基本路由，但有意支持许多网关实现。结果，您将无法访问某些富裕，特定特定的功能，例如全球速率限制，电路BReaking和OIDC身份验证。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;缺乏EnvoyFilter支持&lt;/strong&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在环境模式下，&lt;a href =“ https://github.com/istio/istio/issues/43720”&gt;不支持EnvoyFilters &lt;/a&gt;。当您需要在XDS级别进行调整或扩展代理行为时，这些过滤器对于边防部署至关重要 - 无论是自定义逻辑，遥测还是与外部系统集成。没有它们，您的微调代理行为的能力是有限的，这可能是高级或生产级用例的阻滞剂。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;那是&lt;strong&gt; Engoy Gateway &lt;/strong&gt;发挥作用的地方。它通过&lt;a href =“ https://gateway.envoyproxy.io/latest/tasks/”&gt;一组强大的自定义策略，包括&lt;/a&gt; Client trafficpolicy，backendtrafficpolicy，SecurityPolicy，SecurityPolicy，EnvoyextiensionPolicy，Envoypolticy eveloypatchpathpathpolicy，&lt; &lt;strong&gt;网格&lt;/strong&gt;。这些策略可以直接应用于核心网关API资源，例如Gateway和Httproute，允许详细的流量管理，改进的安全性，可插入的扩展，甚至低级XDS修补程序，同时保持无侧架构的简单性。&lt;/p&gt;。&lt;/p&gt;。&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-image”&gt; &lt;img decoding =“ async” src =“ https://lh7-rt.googleusercontent.com/docsz/ad_4nxcute5razx70-v9opxnwt5e2x-wq8t0a9psmu2roa5ac9ltxe5txe5tooytf pyl3d_8rlrz35_d18zkudht1dtefctbaii7n-nt27ghz_5ypjt9semha2djgctoez5ey3ey3ix4ip1bcnqqq？ alt =“ Envoy Gateway Image” referrerpolicy =“ no-treferrer”&gt; &lt;/fige&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;解锁特使在环境网格中的特使网关政策的全部潜力&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;H2 class =“ WP-block-heading”&gt; Envoy Gateway如何在环境网中工作？&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在默认的环境网格部署中，WayPoint代理处理终止传入的HBONE隧道并将新的隧道建立到目标服务。在此过程中，它还适用7层流量策略。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-image”&gt; &lt;img decoding =“ async” src =“ https://lh7-rt.googleusercontent.com/docsz/ad_4nxdjesypjspjspjspjspjspjspjspjspjspjspjspjsypjspf56d4qercevnwff0dmgphdmgphdjlnpuzw4kt_pken VMJF2N5PKMJW2YAYVR8B2WEYBLWUUCV-DA3QLNCQNIHBHNBHNQTRKPZXAHA-D1USP13UYXHC54DUCBRDW？ Alt =“ Envoy Gateway在环境网格中的工作方式？” referrerpolicy =“ no-the Referrer”&gt; &lt;/figie&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在默认Waypoint代理部署中的流量流&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;br&gt;然而，环境还支持一个更模块化的“三明治”模型，在该模型上，Ztunnel在Waypoint代理前后的逻辑上放置在逻辑上，就像三明治一样。在此设置中，Ztunnel负责管理双方的HBONE隧道，而Waypoint代理仅着眼于L7交通管理和政策执行。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;figig class =“ wp-block-image”&gt; &lt;img decoding =“ async” src=&#34;https://lh7-rt.googleusercontent.com/docsz/AD_4nXdIlPZW-B1QAMBLFDLhQgsWv3Xu3N0TnPdDHGpliFw4MjiAt-hsGyvmbkUFc-j1u8tPOD4jGnPZ4ulJpmEFcxjFG299xUSMMBEKSTDBFNPF8BA5XK4K0HFHJ4OKGLXOMFSR0AJWSW？key = ypra9nnd6jz-ms5fp2vj3g“ alt =” Alt =“ Alt =” Altic图形图形，说明了更模块化的“ Sandwich”模型“ sandwich” noteRerpolicy =“ not-refigul”&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在夹杂的Waypoint代理部署中的交通流量&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;注意：此图说明了流量如何流过环境网格中的各个组件。尽管似乎有两个Ztunnels在Envoy Gateway之前和之后放置了两个Ztunnels，但它们实际上是同一实例 -  LET在该细节上的掩盖效果。&lt;br&gt; &lt;br&gt; &lt;br&gt;这种责任的分离使得可以更换默认的Waypoint代理，并用Envoy Gateway替换Invress Gateway。通过这样做，您可以利用Envoy Gateway的高级Gateway API功能，而无需放弃周围网格的简单性。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;br&gt;这也使Envoy Gateway用作环境网格的入口网关。唯一的区别是，仅在Envoy Gateway（不在前面）之后，需要放置Ztunnel，因为传入的交通源于网格外，并且不会到达HBONE隧道。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;H2 class =“ WP-block-heading”&gt;设置Envoy Gateway作为入口网关&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;让我们浏览一个示例，创建一个特使网关作为入口，路由到后端服务并定义特定服务的全球速率限制。然后，您将部署一个特使网关作为Waypoint代理。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;首先，您需要安装具有ISTIO环境模式的Kubernetes群集，例如：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; &lt;code&gt; istioctl install-set profile = abirt &lt;/code &lt;/code&gt; &lt;/code&gt; &lt;/code&gt; &lt;/pre&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;然后，使用：&lt;/p&gt;安装特使网关&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; helm install eg oci：//docker.io/envoyproxy/gatewayway-helm \&#xA;&#xA;   -  version v0.0.0-latest \&#xA;&#xA;  -set config.envoygateway.provider.kubernetes.deploy.type = gatewaynamespace \ type \ type \ type \ type \&#xA;&#xA;  -n特使门道系统\&#xA;&#xA;   -  create-namespace &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;注意部署类型的标志。通过此，您可以确保在创建网关资源而不是在Envoy-Gateway-System名称空间（默认行为）中部署网关。&lt;/p&gt;。&#xA;&#xA;&#xA;&#xA;&lt;p&gt;标记用于环境入门的默认名称空间：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; kubectl标签命名空间默认iStio.io/dataplane-mode = ambient&lt;/code&gt; &lt;/pre&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;最后但并非最不重要的一点是，要部署您要致电的后端服务。在这种情况下，我们使用istio的经典&lt;a href =“ https://raw.githubusercontent.com/istio/istio/istio/refs/refs/refs/master/master/samples/bookinfo/bookinfo/platform/platform/kube/bookinfo.yaml”&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; kubectl应用-f https：//raw.githubusercontent.com/istio/istio/istio/istio/refs/refs/refs/heads/master/master/samples/bookinfo/bookinfo/platform/platform/kube/kbook/bookinfo.yaml.yaml &lt;/pre&gt; &lt;/pre&gt; &lt;/pre&gt; &lt;/pre&gt; &lt;/pre&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;有了画布，是时候拿起刷子了。您需要一个GatewayClass作为Ingress模板，网关实例化此类和Httproute e稳定数据路径桥。应用它们：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; cat &lt;&lt; eof | kubectl应用-f-&#xA;apiversion：gateway.networking.k8s.io/v1&#xA;&#xA;善良：GatewayClass&#xA;&#xA;元数据：&#xA;&#xA;  名称：EG-Ingress&#xA;&#xA;规格：&#xA;&#xA;  ControllerName：gateway.envoyproxy.io/gatewayclass-controller&#xA;&#xA;eof &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在网关中，请注意上面的GatewayClassName引用EG-Inginress以及对环境网格的登机：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; cat &lt;&lt; eof | kubectl应用-f-&#xA;apiversion：gateway.networking.k8s.io/v1&#xA;&#xA;善良：网关&#xA;&#xA;元数据：&#xA;&#xA;  标签：&#xA;&#xA;    istio.io/dataplane-mode：环境&#xA;&#xA;  姓名：bookinfo-ingress&#xA;&#xA;规格：&#xA;&#xA;  GatewayClassName：EG-Ingress&#xA;&#xA;  听众：&#xA;&#xA;   - 允许流程：&#xA;&#xA;      名称空间：&#xA;&#xA;        来自：同样&#xA;&#xA;    名称：入口&#xA;&#xA;    港口：80&#xA;&#xA;    协议：http&#xA;eof &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; cat &lt;&lt; eof | kubectl应用-f-&#xA;apiversion：gateway.networking.k8s.io/v1&#xA;&#xA;类型：httproute&#xA;&#xA;元数据：&#xA;&#xA;  名称：Ingress-BookInfo&#xA;&#xA;规格：&#xA;&#xA; parentrefs：&#xA;   - 组：gateway.networking.k8s.io&#xA;    善良：网关&#xA;    姓名：bookinfo-ingress&#xA;  规则：&#xA;   -  Backendrefs：&#xA;    - 团体： ””&#xA;      善良：服务&#xA;      名称：产品页面&#xA;      端口：9080&#xA;eof &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;现在，对一些验证。注意，因为这一步将帮助您获得Envoy Gateway和Ambient基本调试技能。首先，检查网关的创建，其流量被Ztunnel截获：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; $ kubectl获取pod -l app.kubernetes.io/name = envoy&#xA;&#xA;名称准备状态重新开始年龄&#xA;&#xA;BookInfo-Ingress-BCC6457B8-QFHCV 2/2运行0 3H11M&#xA;&#xA;$ istioctl ztunnel -config连接-Node &lt;Node_name&gt; -o yaml | yq&#39;。[]。信息|选择（.Name | test（“^Envoy*”））&#39;&#xA;&#xA;名称：bookinfo-ingress-bcc6457b8-qfhcv&#xA;&#xA;名称空间：默认值&#xA;&#xA;ServiceAccount：BookInfo-Ingress-BCC6457B8-QFHCV&#xA;&#xA;TrustDomain：“” &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;然后，检查httproute已有效地附加到网关上，它可以找到后端服务：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; $ kubectl获取httproute indress-bookinfo -oyaml | yq&#39;.status.parents&#39;&#xA;&#xA;- 状况：&#xA;&#xA;     -  LastTransitionTime：“ 2025-07-18T03：20：14Z”&#xA;&#xA;      消息：路线被接受&#xA;&#xA;      观察代表：1&#xA;&#xA;      原因：cecceed&#xA;&#xA;      状态：“ True”&#xA;&#xA;      类型：接受&#xA;&#xA;     -  LastTransitionTime：“ 2025-07-18T03：20：14Z”&#xA;&#xA;      消息：解决路由的所有对象引用&#xA;&#xA;      观察代表：1&#xA;&#xA;      原因：ResolvedRefs&#xA;&#xA;      状态：“ True”&#xA;&#xA;      类型：ResolvedRefs&#xA;&#xA;  ControllerName：gateway.envoyproxy.io/gatewayclass-controller&#xA;&#xA;  parentref：&#xA;&#xA;    组：Gateway.networking.k8s.io&#xA;&#xA;    善良：网关&#xA;&#xA;    名称：bookinfo-ingress &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;似乎一切都在井井有条。是时候提出请求了：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; $ export envoy_service = $（kubectl get svc -selector = gateway.envoyproxy.io/owning-gateway-name = bookinfo-ingress-&#xA;&#xA;$ kubectl port-forward服务/$ {Envoy_Service} 8080：80＆&#xA;&#xA;$ curl localhost：8080/productpage -w&#39;％{http_code} \ n&#39;-o/dev/null -s&#xA;&#xA;200 &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; ztunnel记录以下内容：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; 2025-07-18T03：33：20.718599Z信息访问连接完整src.addr = 10.244.1.70：45168 src.workload = src.namespace =“默认” dst.workload =“ productPage-v1-54bb874995-kzpnw” dst.namespace =“ default” dst.Identity =“ spiffe：//cluster.local/ns/ns/ns/defeault/sa/sa/bookinfo-productoductpage”持续时间=“ 2022ms” &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;那是由Ztunnel夹在iStio环境网格中的Ztunnel夹在夹具上的门户！&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;坚持。此入口需要限制速率。这是通过使用新的Redis后端，在EG配置中引用它并应用后端Trafficpolicy来实现的。我们正在此处部署一个演示实例，以进行演示。在制作设置中，您需要提供自己的Redis服务 - 易于确保和扩展以满足您的交通需求。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; cat &lt;&lt; eof | kubectl应用-f-&#xA;善：名称空间&#xA;&#xA;apiversion：v1&#xA;&#xA;元数据：&#xA;&#xA;  名称：重新系统 &#xA;&#xA;---&#xA;&#xA;apiversion：应用程序/V1&#xA;&#xA;类型：部署&#xA;&#xA;元数据：&#xA;&#xA;  名称：redis&#xA;&#xA;  名称空间：重新系统&#xA;&#xA;  标签：&#xA;&#xA;    应用：redis&#xA;&#xA;规格：&#xA;&#xA;  复制品：1&#xA;&#xA;  选择器：&#xA;&#xA;    MatchLabels：&#xA;&#xA;      应用：redis&#xA;&#xA;  模板：&#xA;&#xA;    元数据：&#xA;&#xA;      标签：&#xA;&#xA;        应用：redis&#xA;&#xA;    规格：&#xA;&#xA;    ＆nbsp; 容器：&#xA;&#xA;       - 图像：redis：6.0.6&#xA;&#xA;        ImagePullPolicy：ifontresent&#xA;&#xA;        名称：redis&#xA;&#xA;        资源：&#xA;&#xA;          限制：&#xA;&#xA;            CPU：1500m&#xA;&#xA;            内存：512mi&#xA;&#xA;          请求：&#xA;&#xA;            CPU：200m&#xA;&#xA;            内存：256mi&#xA;&#xA;---&#xA;&#xA;apiversion：v1&#xA;&#xA;善良：服务&#xA;&#xA;元数据：&#xA;&#xA;  名称：redis&#xA;&#xA;  名称空间：重新系统 &#xA;&#xA;  标签：&#xA;&#xA;    应用：redis&#xA;&#xA;  注释：&#xA;&#xA;规格：&#xA;&#xA;  端口：&#xA;&#xA;   - 名称：redis&#xA;&#xA;    港口：6379&#xA;&#xA;    协议：TCP&#xA;&#xA;    TargetPort：6379&#xA;&#xA;  选择器：&#xA;&#xA;    应用：redis&#xA;eof &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;一旦Redis DB准备就绪，请继续升级EG Helm版本的值，并添加了一个限制后端：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt;掌舵升级，例如oci：//docker.io/envoyproxy/gateway-helm \&#xA;&#xA;  -set config.envoygateway.ratelimit.backend.type = redis \&#xA;&#xA;  -set config.envoygateway.ratelimit.backend.redis.url =“ redis.redis-system.svc.cluster.local：6379” \ \&#xA;&#xA;   -  reuse-values \&#xA;&#xA;  -n Envoy-Gateway-System &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;然后，创建一个后端交通型物质，该后端限制为非Admin用户每小时3个请求。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; cat &lt;&lt; eof | kubectl应用-f-&#xA;apiversion：gateway.envoyproxy.io/v1alpha1&#xA;&#xA;KIND：后端交通质体&#xA;&#xA;元数据：&#xA;&#xA;  名称：限制产品页面&#xA;&#xA;规格：&#xA;&#xA;  TargetRefs：&#xA;&#xA;   - 组：gateway.networking.k8s.io&#xA;&#xA;    类型：httproute&#xA;&#xA;    名称：Ingress-BookInfo&#xA;&#xA;  ratelimit：&#xA;&#xA;    类型：全局&#xA;&#xA;    全球的：&#xA;&#xA;      规则：&#xA;&#xA;       - 客户电机：&#xA;&#xA;         - 标题：&#xA;&#xA;           - 类型：独特&#xA;&#xA;            名称：X-user-id&#xA;&#xA;           - 名称：X-user-id&#xA;&#xA;            价值：管理员&#xA;&#xA;            倒置：是的&#xA;&#xA;        限制：&#xA;&#xA;          请求：3&#xA;&#xA;  ＆nbsp;       单位：小时&#xA;eof &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;并测试它：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; $ while true; DO curl localhost：8080/productPage -h“ x -user -id：john” -w&#39;％{http_code} \ n&#39;-o/dev/null -s;睡眠1;完毕&#xA;&#xA;8080的处理连接&#xA;&#xA;200&#xA;&#xA;8080的处理连接&#xA;&#xA;200&#xA;&#xA;8080的处理连接&#xA;&#xA;200&#xA;&#xA;8080的处理连接&#xA;&#xA;429&#xA;&#xA;8080的处理连接&#xA;&#xA;429 &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;&#xA;&#xA;&lt;p&gt;对于Waypoint代理，许多步骤保持不变；您仍然可以创建一个网关频道，一个网关和HTTPROUTES。但是，随着其配置与Ingress Gateway的配置不同，您为航点定义了一个单独的网关频道。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; cat &lt;&lt; eof | kubectl应用-f-&#xA;apiversion：gateway.networking.k8s.io/v1&#xA;&#xA;善良：GatewayClass&#xA;&#xA;元数据：&#xA;&#xA;  名称：EG-Waypoint&#xA;&#xA;规格：&#xA;&#xA;  ControllerName：gateway.envoyproxy.io/gatewayclass-controller&#xA;&#xA;  parametersref：&#xA;&#xA;    组：Gateway.envoyproxy.io&#xA;&#xA;    善良：Envoyproxy&#xA;&#xA;    名称：航向&#xA;&#xA;    名称空间：默认值&#xA;&#xA;---&#xA;&#xA;apiversion：gateway.envoyproxy.io/v1alpha1&#xA;&#xA;善良：Envoyproxy&#xA;&#xA;元数据：&#xA;&#xA;  名称：航向&#xA;&#xA;规格：&#xA;&#xA;  提供者：&#xA;&#xA;    Kubernetes：&#xA;&#xA;      EnvoyService：&#xA;&#xA;        类型：clusterip&#xA;&#xA;        修补：&#xA;&#xA;          类型：策略精神&#xA;&#xA;          价值：&#xA;&#xA;            规格：&#xA;&#xA;              端口：&#xA;&#xA;                ＃hack：Ztunnel当前期望HBONE端口始终在Waypoint的服务上&#xA;&#xA;                ＃这将在ISTIO和Ztunnel的未来PR中固定。&#xA;&#xA;                 - 名称：假hbone-port&#xA;&#xA;                  港口：15008&#xA;&#xA;                  协议：TCP&#xA;&#xA;                  TargetPort：15008&#xA;&#xA;    类型：Kubernetes&#xA;&#xA;---&#xA;&#xA;apiversion：gateway.networking.k8s.io/v1&#xA;&#xA;善良：网关&#xA;&#xA;元数据：&#xA;&#xA;  标签：&#xA;&#xA;    istio.io/dataplane-mode：环境&#xA;&#xA;  名称：航向&#xA;&#xA;规格：&#xA;&#xA;  网格AYCLASSNAME：EG-Waypoint&#xA;&#xA;  听众：&#xA;&#xA;   - 允许流程：&#xA;&#xA;      名称空间：&#xA;&#xA;        来自：同样&#xA;&#xA;    名称：评分&#xA;&#xA;    端口：9080&#xA;&#xA;    协议：http&#xA;&#xA;   - 允许流程：&#xA;&#xA;      名称空间：&#xA;&#xA;        来自：同样&#xA;&#xA;    名称：假hbone&#xA;&#xA;    港口：15008&#xA;&#xA;    协议：TCP&#xA;&#xA;---&#xA;&#xA;apiversion：gateway.networking.k8s.io/v1&#xA;&#xA;类型：httproute&#xA;&#xA;元数据：&#xA;&#xA;  名称：评分&#xA;&#xA;规格：&#xA;&#xA;  主机名：&#xA;&#xA;   - 评分&#xA;&#xA;  -Ratings.default&#xA;&#xA;  -ratings.default.svc.cluster.local&#xA;&#xA;  parentrefs：&#xA;&#xA;   - 组：gateway.networking.k8s.io&#xA;&#xA;    善良：网关&#xA;&#xA;    名称：航向&#xA;&#xA;  规则：&#xA;&#xA;   -  Backendrefs：&#xA;&#xA;    - 团体： ””&#xA;&#xA;      善良：服务&#xA;&#xA;      名称：评分&#xA;&#xA;      端口：9080&#xA;eof &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;标记评级服务，因此它使用已部署的Waypoint。您还可以标记所有服务的命名空间：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; $ kubectl标签svc评级istio.io.io.io/use-waypoint = waypoint = wayerpoint&lt;/code&gt; &lt;/pre&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;提出与以前相同的请求后，请检查Waypoint的日志：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;代码class =“”&gt; {“：权威”：“评分：9080”，“ bytes_received”：0，“ bytes_sent”：358：connection_termination_details “：null，“ downstream_local_address”：“ 10.244.1.73:9080“，”downdownstream_remote_address&#34;:&#34;10.244.1.68:38315“，”ddownderem_arddress“remote_remote_address”：&#34;10.244.1.68:38315&#34;，“ddur ation“：3，“方法”：“ get”，“协议”：“ http/1.1”，“请求_server_name”：null，“ wendespy_code”：200，“ response_code_details”：“ via_upstream”，“评分“，” start_time”：“ 2025-07-18T05：16：36.829Z”，“ upstream_cluster”：“ httprute/default/default/ratings/rule/0”，“ u PSTREAM_HOST”：“ 10.244.1.65:9080“，&#34;upstream_local_address&#34;:&#34;10.244.1.73:33244”，&#34;upstream_transport_failure _REASON“：null，“用户代理”：“ curl/8.7.1”，“ X-Envoy-Origin-Path”：“/ratings/0”，“ X-Envoy-UpStream-Service-Service-Service Time “：null，” x-forwarded-for“：” 10.244.1.68“，” X-REQUEST-ID“：” 839bb7b2-AF76-AF76-AF76C-9760-B90F118F191C“} &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;现在让我们看一个更高级的方案 - 在Envoy Gateway中使用Enkient L7中尚不可用的功能。断路是一个很好的例子，使您的服务能够快速失败，并在上游不健康时避免级联失败。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;为此，我们需要一个失败的服务。幸运的是，评分具有模拟它的延迟模式。添加此ENV变量：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; kubectl设置env exployment/ratings-v1 service_version = v-delayed &lt;/code&gt; &lt;/pre&gt; &lt;/pre&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;用于测试，您可以使用&lt;a href =“ https://github.com/rakyll/hey“&gt;嘿加载测试工具&lt;/a&gt;从集群中直接将流量发送到评级服务。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; kubectl run hey -rm -i -image = williamyeh/hey http：//评分：9080/ratings/0&#xA;&#xA;如果您看不到命令​​提示符，请尝试按Enter。&#xA;&#xA;概括：&#xA;&#xA;  总计：28.5228秒&#xA;&#xA;  最慢：7.5211秒&#xA;&#xA;  最快：0.0005秒&#xA;&#xA;  平均：3.6650秒&#xA;&#xA;  请求/秒：7.0119&#xA;&#xA;响应时间直方图：&#xA;&#xA;  0.000 [1] |&#xA;&#xA;  0.753 [98] |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■.。&#xA;&#xA;  1.505 [0] |&#xA;&#xA;  2.257 [0] |&#xA;&#xA;  3.009 [0] |&#xA;&#xA;  3.761 [0] |&#xA;&#xA;  4.513 [0] |&#xA;&#xA;  5.265 [0] |&#xA;&#xA;  6.017 [0] |&#xA;&#xA;  6.769 [0] |&#xA;&#xA;  7.521 [101] |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■。/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;评级服务将响应的一半延迟增加了7秒，您可以在HEY命令的输出中观察到。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;接下来，创建一个带有故意攻击性断路器配置的新的后端浮力 - 足以使其在测试过程中易于绊倒。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; apiversion：gateway.envoyproxy.io/v1alpha1&#xA;&#xA;KIND：后端交通质体&#xA;&#xA;元数据：&#xA;&#xA;  名称：断路器-BTP&#xA;&#xA;规格：&#xA;&#xA;  TargetRefs：&#xA;&#xA;   - 组：gateway.networking.k8s.io&#xA;&#xA;    类型：httproute&#xA;&#xA;    名称：评分&#xA;&#xA;  断路器：&#xA;&#xA;      MaxPendingRequests：0&#xA;&#xA;      maxparallelleRequests：10 &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;确保已被接受：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; $ kubectl获取backendentrafficpolicy ciruct-breaker-btp-ojsonpath =&#39;{。status.ancestors.ancestors [0] .conditions}&#39;&#xA;&#xA;[{“ last TransitionTime”：“ 2025-07-22T08：53：59Z”，“消息”：“策略已被接受。”，“观察代理”：2，“原因”：“接纳”，“状态”：“ true”：“ true”：“ true”，“ type”，“类型”：&#xA;&#xA;&#xA;&#xA;&lt;p&gt;现在，再次运行HEY测试以检查断路器是否按预期启动：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class =“ wp-block-code”&gt; &lt;code class =“”&gt; $ kubectl运行hey -rm -i -image = williamyeh/hey http：//评分：9080/ratings/0&#xA;&#xA;如果您看不到命令​​提示符，请尝试按Enter。&#xA;&#xA;概括：&#xA;&#xA;  总计：0.7135秒&#xA;&#xA;  最慢：0.6990秒&#xA;&#xA;  最快：0.0007秒&#xA;&#xA;  平均：0.1720秒&#xA;&#xA;  请求/秒：280.3131&#xA;&#xA;  总数据：16200字节&#xA;&#xA;  尺寸/请求：81个字节&#xA;&#xA;响应时间直方图：&#xA;&#xA;  0.001 [1] |&#xA;&#xA;  0.071 [149] |■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■.。&#xA;&#xA;  0.140 [0] |&#xA;&#xA;  0.210 [0] |&#xA;&#xA;  0.280 [0] |&#xA;&#xA;＆nbsp; 0.350 [0] |&#xA;&#xA;  0.420 [0] |&#xA;&#xA;  0.490 [0] |&#xA;&#xA;  0.559 [0] |&#xA;&#xA;  0.629 [0] |&#xA;&#xA;  0.699 [50] |■■■■■■■■■■■■■&#xA;&#xA;（修剪）&#xA;&#xA;状态代码分布：&#xA;&#xA;  [503] 200回应&#xA;&#xA;pod“ hey”删除&lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;请注意，大多数请求在100毫秒以下是如何失败的 - 这表明断路器启动并开始迅速拒绝流量。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;如果您检查了路点日志，则会看到此操作中的明确符号：设置为溢出的UO响应标志和响应_CODE_DETAILS显示了断路器是触发的。 Envoy Gateway丢弃了多余的请求，而无需将其转发到评级服务，就像预期的那样。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&#xA;默认容器“ Envoy”删除：Envoy，Shutdown-Manager&#xA;&#xA;{“：权威”：“评分：9080”，“ bytes_received”：0，“ bytes_sent”：81，“ connection_termination_details”：null，“ d ownstream_local_address”：“ 10.244.1.36:9080&#34;，“downdownstream_remote_address&#34;:&#34;10.244.1.41：40909”，“dration&#34;：0， “方法”：“获取”，“协议”：“ http/1.1”，“请求_server_name”：null，``response_code&#39;&#39;：503，“ response_code_details”：“ upstream_reset_before_before_before_response_started_started {vellflof} ault/ratings/rule/0/gation/0/ratings“，” start_time“：” 2025-07-22T09：14：19.407Z“，” upstream_cluster“：” httprout e/default/ratings/rule/0“，“ upstream_host”：“ 10.244.1.37:9080“，”upstream_local_address&#34;:null.null.count：null.dupstream_tran sport_failure_reason”：null，“用户代理”：“ hey/0.0.1”，“ X-Envoy-Origin-Path”：“/ratings/0”，“ X-Envoy-opstream-服务时间“：null，” X-Forwarded-For“：” 10.244.1.41“，” X-Request-id“：” F611FD0A-8B7F-4C7D-AD18-AD18-6F0F88812AC6B“}&#xA;... &lt;/code&gt; &lt;/pre&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;现在是时候尝试了！&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block-heading”&gt;您是否应该使用环境网格的特使网关？&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; Engoy Gateway提供了全面的第7层功能，包括限制费率，OIDC和JWT身份验证，API键检查，CORS支持和详细的可观察性。所有这些功能都集成到环境简单，无边的设计中。将轻巧的环境网格与强大的第7层入口功能相结合。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;当然，有权衡。您需要运行一个单独的控制平面，以配置Envoy Gateway并管理ISTIO设置之外的配置。 &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;如果内置的入口和Waypoint代理已经满足您的需求，则没有切换的压力。但是，假设您正在寻求更大的控制权，增强的安全性和提高的灵活性。在这种情况下，Envoy Gateway是提升周围网格设置的强大方法，同时坚持使用完全开源的解决方案。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;✅何时将特使网关与环境使用&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;如果您：&lt;/p&gt;，请考虑使用Envoy Gateway&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;需要高级第7层功能，例如：&lt;br&gt;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;利率limiTing &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; JWT/OIDC身份验证&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; API密钥验证&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; CORS处理&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; WASM或EXT_PROC扩展&lt;br&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;想要网关API兼容性与更强大，有用的政策（例如SecurityPolicy，Client Trafficpolicy）&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;更喜欢统一的控制平面来管理入口和内部第7层流量&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;欣赏包装盒中包括电池的门户 - 不需要编写自定义特使滤波器（除非您真的想）&lt;br&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;strong&gt;❌何时（暂时）&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;您可能想跳过特使网关 - 至少现在 - 如果您：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;仍在尝试环境网格，不需要高级第7层功能&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;对环境内置网关支持的当前局限性很好（例如，没有虚拟服务，有限的路由选项）&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;想要保持控制平面尽可能轻巧和简单，避免额外的CRD或配置开销&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt;下一步是什么？&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;特使网关和环境是一个二人组，可以优化您的某些工作量，因此我们鼓励您尝试一下。它揭开了迁移的阻止，因为您的组织不必等待ISTIO API为环境包括您在此演示中已经遇到的强大的特使功能。&lt;br&gt; &lt;br&gt; &lt;br&gt;好奇地看到Envoy Gateway在环境网格中可以做什么？查看&lt;a href =“ https://gateway.envoyproxy.io/latest/tasks/”&gt;官方任务&lt;/a&gt; &lt;/a&gt;探索其完整功能集。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;仍然要记住，环境不是一个尺寸的全部解决方案，应通过工作量来解决其用法。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt;参考&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;a href =“ https://mesh-advisor.tetr8.io/”&gt; istio环境评估顾问&lt;/a&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://istio.io/latest/docs/ambient/usage/l7-features/”&gt; istio环境模式7层7功能&lt;/a&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/istio/istio/issues/43720”&gt;添加EnvoyFilter对Waypoint Proxies &lt;/a&gt; &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://gateway.envoyproxy.io/latest/tasks/”&gt; Envoy Gateway交通策略&lt;/a&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Mon, 25 Aug 2025 16:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【How Should Prometheus Handle OpenTelemetry Resource Attributes? – A UX Research Report】Prometheus应该如何处理OpenTelemetry资源属性？ -  UX研究报告</title>
      <link>https://www.cncf.io/blog/2025/08/25/how-should-prometheus-handle-opentelemetry-resource-attributes-a-ux-research-report/</link>
      <description>【&lt;p&gt;On May 29th, 2025, I wrapped up my mentorship with Prometheus through the &lt;a href=&#34;https://mentorship.lfx.linuxfoundation.org/project/36e3f336-ce78-4074-b833-012015eb59be&#34;&gt;Linux Foundation Mentorship Program&lt;/a&gt;. My project focused on understanding how Prometheus handles OpenTelemetry resource attributes and how that experience could be improved for users. My job was to conduct user research to get the user perspective on this challenge. In three months, I conducted user and stakeholder interviews, ran a survey, and analyzed the findings.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;In this article, I’ll share how I conducted the research, what I uncovered and where the communities involved could go from here.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Project background&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;OpenTelemetry (OTel) has something called a &lt;a href=&#34;https://opentelemetry.io/docs/concepts/resources/&#34;&gt;resource&lt;/a&gt; attribute, which is extra information about the source of a metric, like the service, host, or environment that generated it. Prometheus, a time-series database, uses labels to identify and query metrics. If resource attributes are converted to labels, they can cause what’s known as “a cardinality explosion”, essentially creating too many unique combinations that overwhelm the system. This usually happens if the attributes change often or include a lot of unique values, like user IDs or pod names.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Currently, there are three main approaches to handling this challenge:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Map all resource attributes to labels: This creates cardinality explosion problems, especially for applications with large numbers of attributes or frequently changing attribute values.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Selective promotion: Users manually choose which resource attributes are important enough to be converted to labels in Prometheus.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Target info pattern: Put all resource attributes in a separate metric called target_info. When users need to query metrics involving specific resource attributes, they have to perform a “join” between the target info and their actual metrics.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;These aren’t bad solutions technically, but they don’t provide the best user experience. So, I conducted this research to understand what the Prometheus maintainers might be missing about the user experience.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The research objectives were:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Understand how engineers currently use OpenTelemetry resource attributes with Prometheus&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Identify pain points in the current integration&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Discover user expectations for how resource attributes should be represented&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Research approach&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;My research approach was a mix of qualitative and quantitative research. I started with stakeholder interviews to understand the historical context and assess how open stakeholders were to changes that might result from my research. The stakeholders I spoke to represented a range of roles, from project founders and co-founders, to long-time maintainers with historical context, and others more directly involved in the ongoing challenges around resource attribute handling.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Next, I conducted user interviews to hear directly from people actually using these tools. Finally, I followed up with a survey to reach a broader audience and validate what I heard in interviews.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Stakeholder interviews insights&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;I spoke to 6 stakeholders—3 from each project:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Prometheus stakeholders:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/juliusv&#34;&gt;Julius Volz&lt;/a&gt; – Prometheus Co-founder&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/beorn7&#34;&gt;Beorn Rabenstein&lt;/a&gt; – Prometheus long-time maintainer&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/RichiH&#34;&gt;Richard Hartmann&lt;/a&gt; – OpenMetrics co-founder and Prometheus maintainer&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;OpenTelemetry stakeholders:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/jpkrohling&#34;&gt;Juraci Paixão Kröhling&lt;/a&gt; – OpenTelemetry Governance Committee member&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/jsuereth&#34;&gt;Josh Suereth&lt;/a&gt; – OpenTelemetry Technical Committee member&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/austinlparker&#34;&gt;Austin Parker&lt;/a&gt; – OpenTelemetry co-founder and Governance Committee member&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;My conversations with stakeholders brought several interesting discoveries to light:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;The Prometheus and OpenTelemetry communities hadn’t always communicated well and that prevented them from collaborating early on.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Much of the interoperability issues that exist now stem from the different philosophical and technical foundations on which each of the projects is built.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;em&gt;“If we think about exploratory situations or use cases, then we can justify a lot of the design decisions behind OpenTelemetry. And if we think about metrics and scaling, monitoring, for huge infra, then the design decisions for Prometheus are justified as well. So both have very good arguments.” — Juraci Paixão Kröhling&lt;/em&gt;&lt;br&gt;&lt;em&gt;“I think one of the biggest [interoperability issues] is the difference between push and pull.” — Julius Volz&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Julius later elaborated that his concern goes beyond the delivery mechanism itself. In his words:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;em&gt;“One of the biggest downsides of using OTLP to push metrics to Prometheus is that you end up throwing away one of the core features of Prometheus as a monitoring system: its pull-based metrics collection model that is based on dynamic service discovery information (so Prometheus always knows which targets should currently exist), and the resulting automatic target health monitoring via the synthetic ‘up’ metric that is generated for each target scrape.”&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;There’s a shared recognition of the importance of putting user needs first, even while maintaining some non-negotiables (for example, Prometheus keeping its pull model and not alienating existing users).&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;One key takeaway from the interviews for me was realizing that the current interoperability problems are not failures, but natural consequences of different communities solving different problems at different times. And it’s good to see both projects are working together now to make user experience better.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;User interviews insights&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The user interviews were equally revealing as the stakeholder conversations. I aimed to speak with about 10 users (admittedly ambitious) but managed to interview 7, and they all shared incredibly helpful perspectives.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The most prominent pain point users shared was the complexity of performing joins with the current integration. Another issue mentioned was the mismatch in metric names caused by character set limitations, but I understand that has since been addressed, as recent Prometheus releases now support UTF-8 characters (though this introduces the need for the more cumbersome quoted selector syntax in PromQL).&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Regarding mental models, many users (both interviewees and survey respondents) don’t distinguish between resource attributes and Prometheus labels. They tend to think of them as the same thing.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;em&gt;“I would expect resource attributes as a rule to be treated exactly the same way as the attributes attached to the tracer, the metric… I wouldn’t draw a boundary between them.” — Interview Participant 1&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;I also learned about the various workarounds people use to handle resource attribute issues in their specific use cases. Some promote selected resource attributes to labels, others handle the conversion at the OpenTelemetry-Collector level to avoid dealing with it in Prometheus, and a few convert all attributes, though usually only when the number of attributes is small.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Survey insights&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The survey helped me quantify what I was hearing in interviews and reach a broader audience. At the time of writing, we’ve had 134 responses, with 61 from our target group—people who use OTel and Prometheus together.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Here are the key findings:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;Users don’t conceptualize resource attributes as different from regular labels, yet current implementation treats them as separate metadata.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Complex join syntax is a big barrier to adoption, with average developers unable to write basic queries accessing resource attributes.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;Manual attribute promotion creates operational overhead that scales poorly with team size and complexity.&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;78% of respondents find documentation gaps a challenge in their use of resource attributes.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;The survey patterns were consistent with what emerged from my qualitative research. For detailed results, see the &lt;a href=&#34;https://github.com/prometheus-community/ux-research/blob/main/prom-otel-research/survey-results.csv&#34;&gt;anonymized survey responses&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;What I didn’t expect to learn (but did)&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;I began this research to understand user pain points with resource attribute handling, but I uncovered some unexpected and important findings.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;One of the most surprising was the realization that &lt;a href=&#34;https://opentelemetry.io/docs/specs/otel/resource/#telescoping&#34;&gt;OpenTelemetry’s Resource Detection feature&lt;/a&gt; allows users to selectively retain or drop resource attributes based on relevance using a conceptual pattern sometimes referred to as “telescoping.” Despite its potential, many users and even some members of the Prometheus community seem unaware of it. This lack of awareness may have contributed to the adoption of the “join” pattern, which has since proven to be problematic.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This highlights a broader issue: documentation and education gaps are a major barrier. In our survey, 78% of respondents cited documentation gaps as a challenge.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Another key realization is that earlier integration decisions, like the reliance on joins, were made without a full understanding of each tool’s capabilities, an unavoidable consequence of the lack of early collaboration and communication between the Prometheus and OpenTelemetry communities.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Recommended solutions&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Based on conversations with stakeholders and end users, here are some of the proposed solutions, grouped by what’s feasible in the short term vs. what’s part of a longer-term vision:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Short-term solutions&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Improved documentation for attribute handling&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Since users find it easier to promote attributes than to join on target info, it may be worth de-emphasizing (or even phasing out) documentation around joins, while making &lt;a href=&#34;https://prometheus.io/docs/guides/opentelemetry/#promoting-resource-attributes&#34;&gt;attribute promotion docs&lt;/a&gt; more prominent for those not yet aware of the option. The telescoping pattern of resource detection in OpenTelemetry also deserves more visibility and proper documentation. Additionally, users have suggested creating consolidated Prometheus–OpenTelemetry documentation that clearly explains how both systems handle resource attributes.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Long-term vision&lt;/strong&gt;&lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Entity framework&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;OpenTelemetry’s developing concept of entities could help Prometheus distinguish between identifying vs. descriptive attributes. This would guide which attributes become labels, and which are stored or filtered out.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Metadata storage&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Stakeholders also discussed the idea of adding first-class metadata support to Prometheus itself. This would allow certain resource attributes to be stored as metadata (not labels), avoiding cardinality costs while keeping the information available for queries or joins.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Expanding for exploratory telemetry&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This might be a stretch, but Prometheus could consider expanding its scope to better support exploratory telemetry use cases. Stakeholders showed openness to change, as long as Prometheus’s core architecture remains intact and existing users aren’t alienated. That suggests there may be room for evolution, especially if new capabilities can complement, rather than replace, current behavior.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;em&gt;I see OTel and Prometheus as coming from very different assumptions of how telemetry should work in general. So, while Prometheus is very opinionated on time series storage…OTel, on the other hand, comes from a tracing background, meaning it’s more explorative than Prometheus. So [with] Prometheus, I kinda know upfront what I need. [With] OpenTelemetry, I don’t know what I might need, so I store everything. — Juraci Paixão Kröhling&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class=&#34;wp-block-list&#34;&gt;&#xA;&lt;li&gt;&lt;strong&gt;Cross-signal correlation&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Users mention using platforms that can ingest all telemetry types and correlate metrics, traces, and logs within a single system. While Prometheus will likely remain focused on just metrics, it could enable tooling that correlates metrics with telemetry stored in other databases. Prometheus currently supports &lt;a href=&#34;https://prometheus.io/docs/specs/om/open_metrics_spec/#exemplars&#34;&gt;exemplars&lt;/a&gt;, which allow linking metrics to traces, but that’s about the extent of their scope. They rely on tracing being present, which makes them less useful in environments where traces aren’t available or instrumented.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;&lt;em&gt;“One of the key innovative things in OpenCensus was… you could divide CPU usage by which requests were using CPU and get a metric that would say, ‘here’s CPU usage by request.’ That’s a thing you could accomplish in OpenCensus because it was all contextual-based metrics.” — Josh Suereth&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;There’s still work to be done. The communities will need time to develop and test solutions. But I’m proud that this research has provided a user-centered foundation for that work.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;If you’re interested in the ongoing discussions, proposals, and feedback around these ideas, you can check out the GitHub repository where everything is being documented: &lt;a href=&#34;https://github.com/prometheus-community/ux-research/tree/main/prom-otel-research&#34;&gt;OpenTelemetry Resource Attributes in Prometheus UX Research&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;Acknowledgments&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;This post would be incomplete without acknowledging my incredible mentors: &lt;a href=&#34;https://github.com/amy-super&#34;&gt;Amy Super&lt;/a&gt;, &lt;a href=&#34;https://github.com/AndrejKiri&#34;&gt;Andrej Kiripolsky&lt;/a&gt;, and &lt;a href=&#34;https://github.com/ArthurSens&#34;&gt;Arthur Silva Sens&lt;/a&gt; – thank you for trusting me with this challenging project and caring so deeply about my professional journey. You are the real superstars.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;To all the stakeholders and users who gave their time: thank you for engaging with this work and trusting me with your honest feedback. Your insights made this research meaningful.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class=&#34;wp-block-heading&#34;&gt;&lt;strong&gt;What’s next for me&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;I’m excited to keep working at the intersection of UX and cloud native systems. If you know of opportunities similar to this mentorship, I’d love to hear from you! I’m a hard worker—just ask my mentors.&lt;/p&gt;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;&lt;div style=&#34;height:80px&#34; aria-hidden=&#34;true&#34; class=&#34;wp-block-spacer is-style-80-120&#34;&gt;&#xA;&lt;/div&gt;】&lt;p&gt;在2025年5月29日，我通过&lt;a a href =“ https://mentorshim.lfx.linuxfoundation.org/project/36e3f336-ce78-ce78-4074-b833-b833-b833-b833-byb833-33-33-33-byb5eb59be”我的项目专注于了解Prometheus如何处理OpenTelemetry资源属性以及如何改善用户的体验。我的工作是进行用户研究，以了解用户对此挑战的看法。在三个月内，我进行了用户和利益相关者访谈，进行了调查，并分析了调查结果。&lt;/p&gt;。&#xA;&#xA;&#xA;&#xA;&lt;p&gt;在本文中，我将分享我如何进行研究，发现的内容以及所涉及的社区可以从这里去的地方。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;项目背景&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; OpentElemetry（Otel）具有称为a &lt;a href =“ https://opentelemetry.io/docs/conepts/conepts/resources/”&gt; resource &lt;/a&gt;属性，这是有关指标，服务，主机或生成它的环境的额外信息。 Prometheus是一个时间序列数据库，使用标签来识别和查询指标。如果将资源属性转换为标签，它们可能会引起所谓的“基数爆炸”，从本质上产生了太多的独特组合，使系统不堪重负。如果属性经常更改或包含许多唯一值，例如用户ID或POD名称，通常会发生这种情况。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;目前，处理这一挑战的主要方法：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;将所有资源属性映射到标签：这会创建基数爆炸问题，尤其是对于具有大量属性或经常更改属性值的应用程序。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;选择性促销：用户手动选择哪些资源属性很重要，可以转换为Prometheus中的标签。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;目标信息模式：将所有资源属性放在称为target_info的单独度量标准中。当用户需要查询涉及特定资源属性的指标时，他们必须在目标信息和实际指标之间执行“加入”。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;从技术上讲，这些解决方案不是不良的解决方案，但是它们没有提供最佳的用户体验。因此，我进行了这项研究，以了解Prometheus维护者在用户体验上可能缺少什么。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;研究目标是：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;了解工程师当前如何使用Prometheus &lt;/li&gt;使用OpenTelemetry资源属性&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;确定当前整合中的疼痛点&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;发现用户对应如何表示资源属性的期望&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;H2 class =“ WP-block-tearing”&gt; &lt;strong&gt;研究方法&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我的研究方法是定性和定量研究的结合。我从利益相关者的访谈开始，以了解历史环境，并评估利益相关者对我研究可能导致的变化的开放式。我说的利益相关者o代表了一系列角色，从项目创始人和联合创始人到具有历史背景的长期维护者，以及其他更直接参与围绕资源属性处理的挑战。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;接下来，我进行了用户访谈，直接听取实际使用这些工具的人的意见。最后，我跟进了一项调查，以吸引更广泛的受众并验证我在采访中听到的信息。&lt;/p&gt;。&#xA;&#xA;&#xA;&#xA;&lt;p&gt;利益相关者采访见解&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我与6个利益相关者进行了交谈-3每个项目：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;普罗米修斯利益相关者：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/juliusv”&gt; Julius Volz &lt;/a&gt;  -  Prometheus Co-Founder &lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/beorn7”&gt; Beorn Rabenstein &lt;/a&gt;  -  Prometheus长期维护者&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/richih”&gt;理查德·哈特曼（Richard Hartmann）&lt;/a&gt;  -  OpenMetrics联合Founder和Prometheus Verenter &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; opentelemetry利益相关者：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/jpkrohling”&gt;JuraciPaixãoKröhling&lt;/a&gt;  -  Opentelemetry治理委员会成员&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/jsuereth”&gt; Josh Suereth &lt;/a&gt;  -  Opentelemetry技术委员会成员&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; &lt;a href =“ https://github.com/austinlparker”&gt;奥斯汀·帕克（Austin Parker）&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我与利益相关者的对话带来了一些有趣的发现：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; Prometheus和Opentelemetry社区并不总是很好地交流，这阻止了他们早期合作。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;现在存在的许多互操作性问题源于构建每个项目的不同哲学和技术基础。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;em&gt;“如果我们考虑探索性情况或用例，那么我们可以证明Opentelemetry背后的许多设计决策是合理的。而且，如果我们考虑度量和扩展，监控，对大型下属进行监控，那么Prometheus的设计决策也是合理的。 - JuraciPaixãoKröhling&lt;/em&gt; &lt;br&gt; &lt;em&gt;“我认为最大的（互操作性问题）之一是推动和拉力之间的差异。” - 朱利叶斯·沃尔兹（Julius Volz）&lt;/em&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;朱利叶斯后来阐述了他的关注超出了交付机制本身。用他的话：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;em&gt;“使用OTLP将指标推向Prometheus的最大弊端之一是，您最终将Prometheus作为监控系统的核心特征之一丢弃：其基于拉动的指标收集模型基于动态服务发现信息，因此，Prometheus始终知道当前的目标是自动监控的目标，并且可以通过“自动监控”目标来启动，并通过“启用”目标，并且可以通过“合成”来指示。刮擦。” &lt;/em&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;即使在维护的同时，也可以共同认识到将用户放在首位的重要性进行一些非商品（例如，Prometheus保持其拉模型而不疏远现有用户）。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;对我的采访中的一个关键要点是，意识到当前的互操作性问题不是失败，而是在不同时间解决不同社区的自然后果。很高兴看到这两个项目现在正在共同努力以使用户体验更好。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;用户访谈洞察&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;用户访谈同样与利益相关者的对话相同。我的目的是与大约10位用户交谈（肯定是雄心勃勃），但设法采访了7，他们都分享了令人难以置信的有用观点。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;用户分享的最突出的疼痛点是与当前集成一起执行连接的复杂性。提到的另一个问题是由字符集限制引起的指标名称的不匹配，但我知道此后已经解决了这一点，因为最近的Prometheus版本现在支持UTF-8字符（尽管这引入了对Promql中更繁琐的引用选择器的概述的需求。&lt;/p&gt;）。&lt;/p&gt;）。&lt;/p&gt;）。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;关于心理模型，许多用户（受访者和调查受访者）都没有区分资源属性和普罗米修斯标签。他们倾向于将它们视为同一件事。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;em&gt;“我希望将资源属性通常与示踪剂，度量标准的属性完全相同的方式进行处理。我不会在它们之间划界。” - 面试参与者1 &lt;/em&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我还了解了人们用来处理特定用例中资源属性问题的各种解决方法。有些将选定的资源属性促进标签，而另一些则在OpenTelemetry-Collector级别处理转换，以避免在Prometheus中处理它，而一些转换所有属性，尽管通常仅在属性数很小时才。&lt;/p&gt;。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;调查见解&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这项调查帮助我量化了在采访中听到的内容，并吸引了更广泛的受众。在撰写本文时，我们有134个回复，我们的目标人群有61个 - 将Otel和Prometheus一起使用的人。&lt;/p&gt;。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这是关键发现：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt;用户不会将资源属性概念化为与常规标签不同，但是当前的实现将它们视为单独的元数据。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;复杂的加入语法是采用的巨大障碍，普通的开发人员无法编写基本查询来访问资源属性。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt;手动属性促销创建的操作开销，随着团队规模和复杂性的缩小范围很差。&lt;/li&gt;&#xA;&#xA;&#xA;&#xA;&lt;li&gt; 78％的受访者发现文档差距是他们使用资源属性的挑战。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;调查模式与我的定性研究中出现的结果一致。有关详细结果，请参见&lt;a href =“ https://github.com/prometheus-community/ux-research/blob/main/main/main/prom-otel-research/survey-results.csv”&gt;匿名调查响应&lt;/a&gt; &lt;/a&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;我没想到（但做过）&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我开始了这项研究，以通过资源属性处理来了解用户痛点，但是我发现了一些意外而重要的发现。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;最令人惊讶的之一是意识到&lt;a href =“ https://opentelemetry.io/docs/docs/specs/specs/otel/resource/#telescoping”&gt; opentelemetry的资源检测功能&lt;/a&gt;允许用户基于相关模式选择性地或删除使用概念的模式来选择或删除资源属性。尽管具有潜力，但许多用户甚至是普罗米修斯社区的某些成员似乎都没有意识到这一点。缺乏意识可能有助于采用“联接”模式，此后事实证明这是有问题的。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这突出了一个更广泛的问题：文档和教育差距是一个主要障碍。在我们的调查中，有78％的受访者将文件差距作为挑战。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;另一个关键的认识是，像依赖加入的依赖一样，早期的集成决策是对每个工具能力的全面理解，这是普罗米修斯和欧普特群岛之间缺乏早期协作和交流的不可避免的结果。&lt;/p&gt;。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;推荐的解决方案&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;基于与利益相关者和最终用户的对话，以下是一些提议的解决方案，由短期中可行的与长期愿景的部分相分组：&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;H3 class =“ WP-block-tearing”&gt; &lt;strong&gt;短期解决方案&lt;/strong&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;改进了属性处理的文档&lt;/strong&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;Since users find it easier to promote attributes than to join on target info, it may be worth de-emphasizing (or even phasing out) documentation around joins, while making &lt;a href=&#34;https://prometheus.io/docs/guides/opentelemetry/#promoting-resource-attributes&#34;&gt;attribute promotion docs&lt;/a&gt; more prominent for those not yet aware of the 选项。 Opentelemetry中资源检测的望远镜模式也值得更多可见性和适当的文档。此外，用户建议创建合并的Prometheus -opentelemetry文档，该文档清楚地说明了两个系统如何处理资源属性。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h3 class =“ wp-block头”&gt; &lt;strong&gt;长期视觉&lt;/strong&gt; &lt;/h3&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;实体框架&lt;/strong&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; OpenTelemetry的发展概念可以帮助Prometheus区分识别与描述性属性。这将指导哪些属性成为标签，然后将其存储或过滤出来。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;元数据存储&lt;/strong&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; stAkeholders还讨论了将一流的元数据支持添加到Prometheus本身的想法。这将允许某些资源属性作为元数据（而非标签）存储，避免了基数成本，同时保持信息可用于查询或加入。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;扩展探索性遥测&lt;/strong&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;这可能是一个范围，但是普罗米修斯可以考虑扩大其范围以更好地支持探索性遥测用例。只要普罗米修斯的核心架构保持完好无损并且现有用户没有疏远，利益相关者就会表现出开放的变化。这表明可能有进化的空间，尤其是如果新功能可以补充而不是替换当前行为。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;em&gt;我认为奥特尔和普罗米修斯是关于遥测应该如何运作的截然不同的假设。因此，尽管Prometheus在时间序列存储中非常有用……另一方面，Otel来自追踪背景，这意味着它比Prometheus更具探索性。因此，有了Prometheus，我有点知道我需要什么。 [使用] opentelemetry，我不知道我可能需要什么，所以我存储了所有内容。 - JuraciPaixãoKröhling&lt;/em&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;ul class =“ wp-block-list”&gt;&#xA;&lt;li&gt; &lt;strong&gt;交叉信号相关&lt;/strong&gt; &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;用户提到的是使用可以摄入所有遥测类型并在单个系统中关联的指标，迹线和日志的平台。尽管Prometheus可能只关注度量标准，但它可以实现将指标与存储在其他数据库中的遥测相关的工具。 Prometheus当前支持&lt;a href =“ https://prometheus.io/docs/specs/open_metrics_spec/#exemplars”&gt; exemplars &lt;/a&gt;，它允许链接指标追溯到追踪，但这与其范围的程度有关。他们依靠跟踪存在，这使得它们在没有痕迹或仪器的环境中降低了有用。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt; &lt;em&gt;“ OpenCensus中的关键创新性事物之一是……您可以通过请求使用CPU并获得一个指标的CPU用法，并获得‘这是‘这是通过请求使用的CPU用法。’这是您可以在OpenCensus中完成的事情，因为这都是基于上下文的基于上下文的指标。” - 乔什（Josh）起诉&lt;/em&gt; &lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;仍然有工作要做。社区将需要时间来开发和测试解决方案。但是我为这项研究提供了以用户为中心的基础，我感到自豪。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;If you’re interested in the ongoing discussions, proposals, and feedback around these ideas, you can check out the GitHub repository where everything is being documented: &lt;a href=&#34;https://github.com/prometheus-community/ux-research/tree/main/prom-otel-research&#34;&gt;OpenTelemetry Resource Attributes in Prometheus UX Research&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;确认&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;如果不承认我令人难以置信的导师，这篇文章将是不完整的：&lt;a href =“ https://github.com/amy-super“&gt;艾米超级&lt;/a&gt;，&lt;a href =” https://github.com/andrejkiri“&gt; andrej kiripolsky &lt;/a&gt; &lt;/a&gt;和&lt;a href =” https：//github.com.com.com.com.com.com/arthursens“超级巨星。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;给所有花点时间的利益相关者和用户：感谢您参与这项工作，并以诚实的反馈信任我。您的见解使这项研究有意义。&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;h2 class =“ wp-block头”&gt; &lt;strong&gt;我接下来是什么&lt;/strong&gt; &lt;/h2&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;我很高兴继续在UX和Cloud Native Systems的交集。如果您知道与此指导类似的机会，我很想听听您的来信！我是一个勤奋的人 - 只是问我的导师。&lt;/p&gt;&#xA;&#xA;在&#xA;&lt;/div&gt;&#xA;&#xA;&#xA;&#xA;在&#xA;&lt;/div&gt;</description>
      <pubDate>Sun, 24 Aug 2025 16:00:00 +0000</pubDate>
    </item>
  </channel>
</rss>