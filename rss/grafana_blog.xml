<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Grafana Labs blog on Grafana Labs</title>
    <link>/blog/index.xml</link>
    <description>Recent content in Grafana Labs blog on Grafana Labs</description>
    <item>
      <title>【ObservabilityCON on the Road: What to expect】ObservabilityCON 路上：会发生什么</title>
      <link>https://grafana.com/blog/2024/10/01/observabilitycon-on-the-road-what-to-expect/</link>
      <description>【&lt;p&gt;Last week, we hosted &lt;a href=&#34;/events/observabilitycon/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;ObservabilityCON 2024&lt;/a&gt; in New York City. As in previous years, our flagship observability conference was a great opportunity for our community members to hear about &lt;a href=&#34;/blog/2024/09/24/observabilitycon-2024-announcements/&#34;&gt;all the latest updates&lt;/a&gt; to Grafana Cloud and the Grafana LGTM Stack (&lt;a href=&#34;/docs/loki/latest/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Loki&lt;/a&gt; for logs, &lt;a href=&#34;/docs/grafana/latest/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana&lt;/a&gt; for visualization, &lt;a href=&#34;/docs/tempo/latest/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Tempo&lt;/a&gt; for traces, and &lt;a href=&#34;/docs/mimir/latest/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Mimir&lt;/a&gt; for metrics), attend technical deep-dive sessions, learn from user success stories, and more.&lt;/p&gt;&#xA;&lt;p&gt;Not to mention, it was a whole lot of fun. (Photos below.)&lt;/p&gt;&#xA;&lt;div class=&#34;slideshow&#34;&gt;&#xA;&lt;h3 class=&#34;slideshow-title&#34;&gt;&lt;/h3&gt;&#xA;&lt;div class=&#34;d-flex justify-content-center maxw-800&#34;&gt;&#xA;&lt;div&#xA;class=&#34;slider w-100 maxw-800 d-flex flex-direction-row align-items-center&#34;&#xA;x-data=&#34;app_slider(7)&#34;&#xA;&gt;&#xA;&lt;div class=&#34;slideshow-left&#34;&gt;&#xA;&lt;button x-on:click=&#34;previous()&#34; x-on:keydown.arrow-left.window=&#34;previous()&#34; aria-label=&#34;Previous&#34;&gt;&#xA;&lt;svg width=&#34;45&#34; height=&#34;45&#34; viewBox=&#34;0 0 45 45&#34; fill=&#34;none&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;&#xA;&lt;g filter=&#34;url(#filter0_d_14436_4792)&#34;&gt;&#xA;&lt;ellipse cx=&#34;22.2157&#34; cy=&#34;19.5&#34; rx=&#34;16.2159&#34; ry=&#34;16.5&#34; transform=&#34;rotate(180 22.2157 19.5)&#34; fill=&#34;black&#34;/&gt;&#xA;&lt;/g&gt;&#xA;&lt;rect width=&#34;11.8972&#34; height=&#34;1.98286&#34; transform=&#34;matrix(0.700941 -0.71322 0.700941 0.71322 15.8574 19.5137)&#34; fill=&#34;white&#34;/&gt;&#xA;&lt;rect width=&#34;11.8972&#34; height=&#34;1.98286&#34; transform=&#34;matrix(0.700941 0.713219 -0.700941 0.71322 17.2461 18.0996)&#34; fill=&#34;white&#34;/&gt;&#xA;&lt;defs&gt;&#xA;&lt;filter id=&#34;filter0_d_14436_4792&#34; x=&#34;0&#34; y=&#34;0&#34; width=&#34;44.4316&#34; height=&#34;45&#34; filterUnits=&#34;userSpaceOnUse&#34; color-interpolation-filters=&#34;sRGB&#34;&gt;&#xA;&lt;feFlood flood-opacity=&#34;0&#34; result=&#34;BackgroundImageFix&#34;/&gt;&#xA;&lt;feColorMatrix in=&#34;SourceAlpha&#34; type=&#34;matrix&#34; values=&#34;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&#34; result=&#34;hardAlpha&#34;/&gt;&#xA;&lt;feOffset dy=&#34;3&#34;/&gt;&#xA;&lt;feGaussianBlur stdDeviation=&#34;3&#34;/&gt;&#xA;&lt;feColorMatrix type=&#34;matrix&#34; values=&#34;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0&#34;/&gt;&#xA;&lt;feBlend mode=&#34;normal&#34; in2=&#34;BackgroundImageFix&#34; result=&#34;effect1_dropShadow_14436_4792&#34;/&gt;&#xA;&lt;feBlend mode=&#34;normal&#34; in=&#34;SourceGraphic&#34; in2=&#34;effect1_dropShadow_14436_4792&#34; result=&#34;shape&#34;/&gt;&#xA;&lt;/filter&gt;&#xA;&lt;/defs&gt;&#xA;&lt;/svg&gt;&#xA;&lt;/button&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;slider-content d-flex flex-direction-column justify-content-center bg-white br-5 box-shadow-light p-1 m-0&#34;&gt;&#xA;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 0&#34;&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox maxw-100p&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;a&#xA;class=&#34;slideshow__slide-link&#34;&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-2.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-2.jpg&#34;&#xA;alt=&#34;A photo of ObservabilityCON 2024 attendees&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;m-0&#34;&#xA;loading=&#34;eager&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-2.jpg&#34;&#xA;alt=&#34;&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;br-5 box-shadow-light m-0&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;/noscript&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 1&#34;&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox maxw-100p&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;a&#xA;class=&#34;slideshow__slide-link&#34;&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-3.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-3.jpg&#34;&#xA;alt=&#34;A photo of a shoe with the Grafana logo&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;m-0&#34;&#xA;loading=&#34;eager&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-3.jpg&#34;&#xA;alt=&#34;&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;br-5 box-shadow-light m-0&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;/noscript&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 2&#34;&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox maxw-100p&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;a&#xA;class=&#34;slideshow__slide-link&#34;&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-1.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-1.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 keynote&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;m-0&#34;&#xA;loading=&#34;eager&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-1.jpg&#34;&#xA;alt=&#34;&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;br-5 box-shadow-light m-0&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;/noscript&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 3&#34;&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox maxw-100p&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;a&#xA;class=&#34;slideshow__slide-link&#34;&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-6.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-6.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 keynote attendees&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;m-0&#34;&#xA;loading=&#34;eager&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-6.jpg&#34;&#xA;alt=&#34;&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;br-5 box-shadow-light m-0&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;/noscript&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 4&#34;&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox maxw-100p&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;a&#xA;class=&#34;slideshow__slide-link&#34;&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-8.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-8.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 attendees&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;m-0&#34;&#xA;loading=&#34;eager&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-8.jpg&#34;&#xA;alt=&#34;&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;br-5 box-shadow-light m-0&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;/noscript&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 5&#34;&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox maxw-100p&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;a&#xA;class=&#34;slideshow__slide-link&#34;&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-5.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-5.jpg&#34;&#xA;alt=&#34;A 3D printing station ObservabilityCON 2024&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;m-0&#34;&#xA;loading=&#34;eager&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-5.jpg&#34;&#xA;alt=&#34;&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;br-5 box-shadow-light m-0&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;/noscript&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 6&#34;&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox maxw-100p&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;a&#xA;class=&#34;slideshow__slide-link&#34;&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-2024-stickers-5.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-2024-stickers-5.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 stickers&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;m-0&#34;&#xA;loading=&#34;eager&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-2024-stickers-5.jpg&#34;&#xA;alt=&#34;&#34;&#xA;width=&#34;100%&#34;&#xA;height=&#34;auto&#34;&#xA;class=&#34;br-5 box-shadow-light m-0&#34;&#xA;aria-hide: true&#xA;/&gt;&#xA;&lt;/noscript&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;slider-indicators d-flex justify-content-center&#34;&gt;&#xA;&lt;template x-for=&#34;i in 7&#34;&gt;&#xA;&lt;button&#xA;class=&#34;slider-indicator&#34;&#xA;:class=&#34;{ &#39;slider-indicator__active&#39;: active === (i - 1) }&#34;&#xA;x-on:click=&#34;active = (i - 1)&#34;&#xA;&gt;&#xA;&lt;template x-if=&#34;active === (i - 1)&#34;&gt;&#xA;&lt;div class=&#34;slider-indicator__icon-active-black&#34;&gt;&#xA;&lt;i class=&#34;fa fa-circle-o&#34;&gt;&lt;/i&gt;&#xA;&lt;/div&gt;&#xA;&lt;/template&gt;&#xA;&lt;template x-if=&#34;active !== (i - 1)&#34;&gt;&#xA;&lt;div class=&#34;slider-indicator__icon-inactive-black&#34;&gt;&#xA;&amp;#8226;&#xA;&lt;/div&gt;&#xA;&lt;/template&gt;&#xA;&lt;/button&gt;&#xA;&lt;/template&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;slideshow-right&#34;&gt;&#xA;&lt;button x-on:click=&#34;next()&#34; x-on:keydown.arrow-right.window=&#34;next()&#34; aria-label=&#34;Next&#34;&gt;&#xA;&lt;svg width=&#34;45&#34; height=&#34;45&#34; viewBox=&#34;0 0 45 45&#34; fill=&#34;none&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;&#xA;&lt;g filter=&#34;url(#filter0_d_14436_4797)&#34;&gt;&#xA;&lt;ellipse cx=&#34;22.6476&#34; cy=&#34;19.5&#34; rx=&#34;16.2159&#34; ry=&#34;16.5&#34; fill=&#34;black&#34;/&gt;&#xA;&lt;/g&gt;&#xA;&lt;rect width=&#34;11.8972&#34; height=&#34;1.98286&#34; transform=&#34;matrix(-0.700941 0.71322 -0.700941 -0.71322 29.0059 19.4863)&#34; fill=&#34;white&#34;/&gt;&#xA;&lt;rect width=&#34;11.8972&#34; height=&#34;1.98286&#34; transform=&#34;matrix(-0.700941 -0.71322 0.700941 -0.71322 27.6172 20.9004)&#34; fill=&#34;white&#34;/&gt;&#xA;&lt;defs&gt;&#xA;&lt;filter id=&#34;filter0_d_14436_4797&#34; x=&#34;0.431641&#34; y=&#34;0&#34; width=&#34;44.4316&#34; height=&#34;45&#34; filterUnits=&#34;userSpaceOnUse&#34; color-interpolation-filters=&#34;sRGB&#34;&gt;&#xA;&lt;feFlood flood-opacity=&#34;0&#34; result=&#34;BackgroundImageFix&#34;/&gt;&#xA;&lt;feColorMatrix in=&#34;SourceAlpha&#34; type=&#34;matrix&#34; values=&#34;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&#34; result=&#34;hardAlpha&#34;/&gt;&#xA;&lt;feOffset dy=&#34;3&#34;/&gt;&#xA;&lt;feGaussianBlur stdDeviation=&#34;3&#34;/&gt;&#xA;&lt;feColorMatrix type=&#34;matrix&#34; values=&#34;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0&#34;/&gt;&#xA;&lt;feBlend mode=&#34;normal&#34; in2=&#34;BackgroundImageFix&#34; result=&#34;effect1_dropShadow_14436_4797&#34;/&gt;&#xA;&lt;feBlend mode=&#34;normal&#34; in=&#34;SourceGraphic&#34; in2=&#34;effect1_dropShadow_14436_4797&#34; result=&#34;shape&#34;/&gt;&#xA;&lt;/filter&gt;&#xA;&lt;/defs&gt;&#xA;&lt;/svg&gt;&#xA;&lt;/button&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;But we realize some of our users weren’t able to join us in the Big Apple. We missed you, and we also have good news: you can get all the goodness of ObservabilityCON 2024 with our &lt;a href=&#34;/events/observabilitycon-on-the-road/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;ObservabilityCON on the Road events&lt;/a&gt;, coming to the following cities this fall:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Berlin on Oct. 8 (&lt;a href=&#34;/events/observabilitycon-on-the-road/2024/berlin/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Register now&lt;/a&gt;)&lt;/li&gt;&#xA;&lt;li&gt;London on Oct. 22 (&lt;a href=&#34;/events/observabilitycon-on-the-road/2024/london/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Register now&lt;/a&gt;)&lt;/li&gt;&#xA;&lt;li&gt;São Paulo on Nov. 6, presented in Portuguese (&lt;a href=&#34;/pt-br/events/observabilitycon-on-the-road/2024/sao-paulo/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Register now&lt;/a&gt;)&lt;/li&gt;&#xA;&lt;li&gt;Paris on Nov. 21, presented in French (&lt;a href=&#34;/fr/events/observabilitycon-on-the-road/2024/paris/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Register now&lt;/a&gt;)&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;btn-row &#34;&gt;&lt;a class=&#34;btn btn--primary &#34; href=&#34;https://grafana.com/events/observabilitycon-on-the-road/?pg=blog&amp;amp;plcmt=body-txt&#34; rel=&#34;noopener noreferrer&#34;&gt;Register for your city&lt;/a&gt;&lt;/div&gt;&#xA;&lt;p&gt;Don’t see your postal code? Stay tuned — more cities and dates in North America and Australia will be announced later this year.&lt;/p&gt;&#xA;&lt;h2 id=&#34;a-peek-at-the-observabilitycon-on-the-road-agendas&#34;&gt;A peek at the ObservabilityCON on the Road agendas&lt;/h2&gt;&#xA;&lt;p&gt;All of the things &lt;a href=&#34;/blog/2023/02/09/inside-observabilitycon-i-picked-up-so-much-practical-information/&#34;&gt;the community loves about ObservabilityCON&lt;/a&gt; — Technical deep dives! Live demos! Ask the Experts booth! — will be included in these special one-day events happening around the world.&lt;/p&gt;&#xA;&lt;p&gt;Grafana Labs experts will present the original technical sessions from ObservabilityCON 2024, including:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Instrumentation and ingestion in an instant: Demo of Grafana Alloy, Grafana Beyla, and OpenTelemetry&lt;/li&gt;&#xA;&lt;li&gt;Troubleshoot faster with unified application and infrastructure observability in Grafana Cloud&lt;/li&gt;&#xA;&lt;li&gt;AI/ML in Grafana Cloud: Saving toil, time, and money&lt;/li&gt;&#xA;&lt;li&gt;A user&amp;rsquo;s guide to Grafana Cloud&amp;rsquo;s end-to-end IRM solution&lt;/li&gt;&#xA;&lt;li&gt;Best practices for faster insights from your metrics, logs, traces, and profiles&lt;/li&gt;&#xA;&lt;li&gt;How to use synthetics, load testing, and real user monitoring to understand your end users&amp;rsquo; experience&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;In each city, local observability pros will also walk through their real-world success stories and lessons learned along the way.&lt;/p&gt;&#xA;&lt;p&gt;Overall, the &lt;a href=&#34;/events/observabilitycon-on-the-road/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;ObservabilityCON on the Road events&lt;/a&gt; are a great way to deepen your technical expertise, connect with Grafana Labs experts and fellow community members, and get actionable advice to advance your observability strategy — all in a city near you.&lt;/p&gt;&#xA;&lt;p&gt;We hope to see you later this year!&lt;br /&gt;&#xA;&lt;br /&gt;&#xA;&lt;em&gt;Please note: The ObservabilityCON on the Road event in Paris will be presented in French and the event in São Paulo will be presented in Portuguese.&lt;/em&gt;&lt;/p&gt;】&lt;p&gt;上周，我们在纽约举办了&lt;a href=&#34;/events/observabilitycon/?pg=blog&amp;plcmt=body-txt&#34;&gt;ObservabilityCON 2024&lt;/a&gt;。与往年一样，我们的旗舰可观测性会议为我们的社区成员提供了了解&lt;a href=&#34;/blog/2024/09/24/observabilitycon-2024-announcements/&#34;&gt;所有最新动态&lt;/a&gt;的绝佳机会到 Grafana Cloud 和 Grafana LGTM Stack（&lt;a href=&#34;/docs/loki/latest/?pg=blog&amp;plcmt=body-txt&#34;&gt;Loki&lt;/a&gt; 获取日志，&lt;a href=&#34;/docs/grafana/latest /?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana&lt;/a&gt; 用于可视化，&lt;a href=&#34;/docs/tempo/latest/?pg=blog&amp;plcmt=body-txt&#34;&gt;Tempo&lt;/a&gt; 用于跟踪，以及&lt;a href=&#34;/docs/mimir/latest/?pg=blog&amp;plcmt=body-txt&#34;&gt;Mimir&lt;/a&gt; 了解指标）、参加技术深入讨论会议、从用户成功案例中学习等等。&lt;/p &gt;&#xA;&lt;p&gt;更不用说，这非常有趣。 （下面的照片。）&lt;/p&gt;&#xA;&lt;div class=&#34;幻灯片&#34;&gt;&#xA;&lt;h3 class=&#34;slideshow-title&#34;&gt;&lt;/h3&gt;&#xA;&lt;div class=&#34;d-flex justify-content-center maxw-800&#34;&gt;&#xA;&lt;div&#xA;类 =“滑块 w-100 maxw-800 d-flex 弯曲方向行对齐项目中心”&#xA;x-data =“app_slider（7）”&#xA;&gt;&#xA;&lt;div class=&#34;slideshow-left&#34;&gt;&#xA;&lt;按钮 x-on:click=&#34;上一个()&#34; x-on:keydown.arrow-left.window=&#34;上一个()&#34; aria-label=&#34;上一个&#34;&gt;&#xA;&lt;svg width=&#34;45&#34; height=&#34;45&#34; viewBox=&#34;0 0 45 45&#34; fill=&#34;none&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;&#xA;&lt;g过滤器=“url（#filter0_d_14436_4792）”&gt;&#xA;&lt;椭圆cx =“22.2157”cy =“19.5”rx =“16.2159”ry =“16.5”变换=“旋转（180 22.2157 19.5）”填充=“黑色”/&gt;&#xA;&lt;/g&gt;&#xA;&lt;矩形宽度=“11.8972”高度=“1.98286”变换=“矩阵（0.700941 -0.71322 0.700941 0.71322 15.8574 19.5137）”填充=“白色”/&gt;&#xA;&lt;矩形宽度=“11.8972”高度=“1.98286”变换=“矩阵（0.700941 0.713219 -0.700941 0.71322 17.2461 18.0996）”填充=“白色”/&gt;&#xA;&lt;定义&gt;&#xA;&lt;filter id=&#34;filter0_d_14436_4792&#34; x=&#34;0&#34; y=&#34;0&#34; width=&#34;44.4316&#34; height=&#34;45&#34; filterUnits=&#34;userSpaceOnUse&#34; color-interpolation-filters=&#34;sRGB&#34;&gt;&#xA;&lt;feFlood洪水-opacity =“0”结果=“BackgroundImageFix”/&gt;&#xA;&lt;feColorMatrix in=&#34;SourceAlpha&#34; type=&#34;matrix&#34; value=&#34;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&#34; result=&#34;hardAlpha&#34;/&gt;&#xA;&lt;feOffset dy=&#34;3&#34;/&gt;&#xA;&lt;feGaussianBlur stdDeviation=&#34;3&#34;/&gt;&#xA;&lt;feColorMatrix type=&#34;matrix&#34; value=&#34;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0&#34;/&gt;&#xA;&lt;feBlend mode=&#34;normal&#34; in2=&#34;BackgroundImageFix&#34; result=&#34;effect1_dropShadow_14436_4792&#34;/&gt;&#xA;&lt;feBlend mode=&#34;normal&#34; in=&#34;SourceGraphic&#34; in2=&#34;effect1_dropShadow_14436_4792&#34; result=&#34;shape&#34;/&gt;&#xA;&lt;/过滤器&gt;&#xA;&lt;/defs&gt;&#xA;&lt;/svg&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;slider-content d-flex flex-direction-column justify-content-center bg-white br-5 box-shadow-light p-1 m-0&#34;&gt;&#xA;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;活动 === 0&#34;&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox maxw-100p”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;一&#xA;类=“幻灯片__幻灯片链接”&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-2.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-2.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 与会者的照片&#34;&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“m-0”&#xA;加载=“渴望”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-2.jpg&#34;&#xA;替代=“”&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“br-5 box-shadow-light m-0”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;/无脚本&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;活动 === 1&#34;&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox maxw-100p”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;一&#xA;类=“幻灯片__幻灯片链接”&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-3.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-3.jpg&#34;&#xA;alt=&#34;带有 Grafana 标志的鞋子的照片&#34;&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“m-0”&#xA;加载=“渴望”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-3.jpg&#34;&#xA;替代=“”&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“br-5 box-shadow-light m-0”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;/无脚本&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 2&#34;&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox maxw-100p”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;一&#xA;类=“幻灯片__幻灯片链接”&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-1.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-1.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 主题演讲&#34;&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“m-0”&#xA;加载=“渴望”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-1.jpg&#34;&#xA;替代=“”&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“br-5 box-shadow-light m-0”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;/无脚本&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 3&#34;&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox maxw-100p”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;一&#xA;类=“幻灯片__幻灯片链接”&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-6.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-6.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 主题演讲与会者&#34;&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“m-0”&#xA;加载=“渴望”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-6.jpg&#34;&#xA;替代=“”&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“br-5 box-shadow-light m-0”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;/无脚本&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 4&#34;&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox maxw-100p”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;一&#xA;类=“幻灯片__幻灯片链接”&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-8.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;图片&#xA;src =“/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-8.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 与会者&#34;&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“m-0”&#xA;加载=“渴望”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-8.jpg&#34;&#xA;替代=“”&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“br-5 box-shadow-light m-0”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;/无脚本&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 5&#34;&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox maxw-100p”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;一&#xA;类=“幻灯片__幻灯片链接”&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-5.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-5.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 3D 打印站&#34;&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“m-0”&#xA;加载=“渴望”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-photo-5.jpg&#34;&#xA;替代=“”&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“br-5 box-shadow-light m-0”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;/无脚本&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;overflow-hidden maxw-100&#34;&gt;&#xA;&lt;div x-show=&#34;active === 6&#34;&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox maxw-100p”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&gt;&#xA;&lt;一&#xA;类=“幻灯片__幻灯片链接”&#xA;href=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-2024-stickers-5.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-2024-stickers-5.jpg&#34;&#xA;alt=&#34;ObservabilityCON 2024 贴纸&#34;&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“m-0”&#xA;加载=“渴望”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/obscon-on-the-road-2024-what-to-expect/obscon-2024-stickers-5.jpg&#34;&#xA;替代=“”&#xA;宽度=“100%”&#xA;高度=“自动”&#xA;类=“br-5 box-shadow-light m-0”&#xA;aria-隐藏：true&#xA;/&gt;&#xA;&lt;/无脚本&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;slider-indicators d-flex justify-content-center&#34;&gt;&#xA;&lt;模板 x-for=&#34;i in 7&#34;&gt;&#xA;&lt;按钮&#xA;类=“滑块指示器”&#xA;:class=&#34;{ &#39;slider-indicator__active&#39;: active === (i - 1) }&#34;&#xA;x-on:click=&#34;活动 = (i - 1)&#34;&#xA;&gt;&#xA;&lt;template x-if=&#34;active === (i - 1)&#34;&gt;&#xA;&lt;div class=&#34;slider-indicator__icon-active-black&#34;&gt;&#xA;&lt;i class=&#34;fa fa-circle-o&#34;&gt;&lt;/i&gt;&#xA;&lt;/div&gt;&#xA;&lt;/模板&gt;&#xA;&lt;template x-if=&#34;active !== (i - 1)&#34;&gt;&#xA;&lt;div class=&#34;slider-indicator__icon-inactive-black&#34;&gt;&#xA;•&#xA;&lt;/div&gt;&#xA;&lt;/模板&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/模板&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;slideshow-right&#34;&gt;&#xA;&lt;button x-on:click=&#34;next()&#34; x-on:keydown.arrow-right.window=&#34;next()&#34; aria-label=&#34;Next&#34;&gt;&#xA;&lt;svg width=&#34;45&#34; height=&#34;45&#34; viewBox=&#34;0 0 45 45&#34; fill=&#34;none&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;&#xA;&lt;g过滤器=“url（#filter0_d_14436_4797）”&gt;&#xA;&lt;椭圆cx =“22.6476”cy =“19.5”rx =“16.2159”ry =“16.5”填充=“黑色”/&gt;&#xA;&lt;/g&gt;&#xA;&lt;矩形宽度=“11.8972”高度=“1.98286”变换=“矩阵（-0.700941 0.71322 -0.700941 -0.71322 29.0059 19.4863）”填充=“白色”/&gt;&#xA;&lt;矩形宽度=“11.8972”高度=“1.98286”变换=“矩阵（-0.700941 -0.71322 0.700941 -0.71322 27.6172 20.9004）”填充=“白色”/&gt;&#xA;&lt;定义&gt;&#xA;&lt;过滤器ID=“filter0_d_14436_4797”x =“0.431641”y =“0”宽度=“44.4316”高度=“45”filterUnits =“userSpaceOnUse”颜色插值过滤器=“sRGB”&gt;&#xA;&lt;feFlood洪水-opacity =“0”结果=“BackgroundImageFix”/&gt;&#xA;&lt;feColorMatrix in=&#34;SourceAlpha&#34; type=&#34;matrix&#34; value=&#34;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0&#34; result=&#34;hardAlpha&#34;/&gt;&#xA;&lt;feOffset dy=&#34;3&#34;/&gt;&#xA;&lt;feGaussianBlur stdDeviation=&#34;3&#34;/&gt;&#xA;&lt;feColorMatrix type=&#34;matrix&#34; value=&#34;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0&#34;/&gt;&#xA;&lt;feBlend mode=&#34;正常&#34; in2=&#34;BackgroundImageFix&#34; result=&#34;effect1_dropShadow_14436_4797&#34;/&gt;&#xA;&lt;feBlend mode=&#34;normal&#34; in=&#34;SourceGraphic&#34; in2=&#34;effect1_dropShadow_14436_4797&#34; result=&#34;shape&#34;/&gt;&#xA;&lt;/过滤器&gt;&#xA;&lt;/defs&gt;&#xA;&lt;/svg&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;但我们意识到一些用户无法在纽约加入我们。我们想念您，我们还有好消息：您可以通过我们的 &lt;a href=&#34;/events/observabilitycon-on-the-road/?pg=blog&amp;plcmt=body-txt&#34;&gt;ObservabilityCON 获得 ObservabilityCON 2024 的所有优点公路活动&lt;/a&gt;，今年秋季将在以下城市举办：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;10 月 8 日柏林（&lt;a href=&#34;/events/observabilitycon-on-the-road/2024/berlin/?pg=blog&amp;plcmt=body-txt&#34;&gt;立即注册&lt;/a&gt;）&lt;/li&gt;&#xA;&lt;li&gt;10 月 22 日伦敦（&lt;a href=&#34;/events/observabilitycon-on-the-road/2024/london/?pg=blog&amp;plcmt=body-txt&#34;&gt;立即注册&lt;/a&gt;）&lt;/li&gt;&#xA;&lt;li&gt;11 月 6 日在圣保罗举行，以葡萄牙语呈现 (&lt;a href=&#34;/pt-br/events/observabilitycon-on-the-road/2024/sao-paulo/?pg=blog&amp;plcmt=body-txt&#34;&gt;立即注册&lt;/a&gt;)&lt;/li&gt;&#xA;&lt;li&gt;11 月 21 日在巴黎，以法语呈现（&lt;a href=&#34;/fr/events/observabilitycon-on-the-road/2024/paris/?pg=blog&amp;plcmt=body-txt&#34;&gt;立即注册&lt;/a &gt;)&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;btn-row &#34;&gt;&lt;a class=&#34;btn btn--primary &#34; href=&#34;https://grafana.com/events/observabilitycon-on-the-road/?pg=blog&amp;plcmt=body-txt &#34; rel=&#34;noopener noreferrer&#34;&gt;注册您所在的城市&lt;/a&gt;&lt;/div&gt;&#xA;&lt;p&gt;没有看到您的邮政编码？请继续关注——北美和澳大利亚的更多城市和日期将于今年晚些时候公布。&lt;/p&gt;&#xA;&lt;h2 id=&#34;a-peek-at-the-observabilitycon-on-the-road-agendas&#34;&gt;ObservabilityCON on the Road 议程一览&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/blog/2023/02/09/inside-observabilitycon-i-picked-up-so-much-practical-information/&#34;&gt;社区喜爱 ObservabilityCON 的所有内容&lt;/a&gt; — 技术深度探讨！现场演示！到专家展位询问！ — 将包含在世界各地发生的这些特殊的一日活动中。&lt;/p&gt;&#xA;&lt;p&gt;Grafana Labs 专家将介绍 ObservabilityCON 2024 的原创技术会议，包括：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;即时检测和摄取：Grafana Alloy、Grafana Beyla 和 OpenTelemetry 演示&lt;/li&gt;&#xA;&lt;li&gt;利用 Grafana Cloud 中的统一应用程序和基础设施可观察性更快地排除故障&lt;/li&gt;&#xA;&lt;li&gt;Grafana Cloud 中的 AI/ML：节省劳力、时间和金钱&lt;/li&gt;&#xA;&lt;li&gt;Grafana Cloud 端到端 IRM 解决方案用户指南&lt;/li&gt;&#xA;&lt;li&gt;从指标、日志、跟踪记录和配置文件中更快获得洞察的最佳实践&lt;/li&gt;&#xA;&lt;li&gt;如何使用合成材料、加载测试和真实用户监控，以了解最终用户的体验&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;在每个城市，当地的可观测性专业人士也将讲述他们在现实世界中的成功故事和沿途吸取的经验教训。&lt;/p&gt;&#xA;&lt;p&gt;总体而言，&lt;a href=&#34;/events/observabilitycon-on-the-road/?pg=blog&amp;plcmt=body-txt&#34;&gt;ObservabilityCON on the Road 活动&lt;/a&gt;是加深您的技术专业知识的好方法，与 Grafana Labs 专家和其他社区成员联系，并获得可行的建议来推进您的可观测性策略 - 一切都在您附近的城市进行。&lt;/p&gt;&#xA;&lt;p&gt;我们希望今年晚些时候见到您！&lt;br /&gt;&#xA;&lt;br/&gt;&#xA;&lt;em&gt;请注意：巴黎的 ObservabilityCON on the Road 活动将以法语进行，圣保罗的活动将以葡萄牙语进行。&lt;/em&gt;&lt;/p&gt;</description>
      <pubDate>Tue, 01 Oct 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Container monitoring with Grafana: Helpful resources to get started】使用 Grafana 进行容器监控：有用的入门资源</title>
      <link>https://grafana.com/blog/2024/10/02/container-monitoring-with-grafana-helpful-resources-to-get-started/</link>
      <description>【&lt;p&gt;In simple terms, containers are a standard package of software that enable applications to run consistently across different computing environments. Often, these applications are broken down into smaller collections of independent services known as microservices.&lt;/p&gt;&#xA;&lt;p&gt;For many organizations, these microservices-based applications have replaced traditional monolithic applications because they offer increased performance, flexibility, and scale. And within these distributed environments, observability is crucial to ensure smooth operations and high performance.&lt;/p&gt;&#xA;&lt;p&gt;In this blog post, you’ll learn more about using Grafana alongside &lt;a href=&#34;https://www.docker.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Docker&lt;/a&gt;, &lt;a href=&#34;https://kubernetes.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Kubernetes&lt;/a&gt;, and &lt;a href=&#34;https://helm.sh/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Helm Charts&lt;/a&gt;, and some of the resources we offer to help you get started.&lt;/p&gt;&#xA;&lt;h2 id=&#34;the-benefits-of-grafana-for-container-monitoring&#34;&gt;The benefits of Grafana for container monitoring&lt;/h2&gt;&#xA;&lt;p&gt;Containerized environments are distributed and somewhat complex, consisting of multiple microservices and other software components. That means collecting and visualizing metrics is essential to identify potential bottlenecks and optimize operating costs.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1846px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/container-monitoring-resources/container-monitoring-diagram.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/container-monitoring-resources/container-monitoring-diagram.png&#34;data-srcset=&#34;/media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=320 320w, /media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=550 550w, /media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=750 750w, /media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=900 900w, /media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=1040 1040w, /media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=1240 1240w, /media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A venn diagram showing Grafana, Helm Charts, Docker, and Kubernetes logos. &#34;&#xA;width=&#34;1846&#34;&#xA;height=&#34;1742&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/container-monitoring-resources/container-monitoring-diagram.png&#34;&#xA;alt=&#34;A venn diagram showing Grafana, Helm Charts, Docker, and Kubernetes logos. &#34;&#xA;width=&#34;1846&#34;&#xA;height=&#34;1742&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Grafana enables you to query, trigger alerts, and explore your metrics, logs, and traces wherever they are stored. You can visualize these metrics using customizable dashboards to easily gain insight into containers and their underlying infrastructure, making it easier to identify and troubleshoot issues, optimize performance, and make informed decisions. For example, by creating a maximum disk usage alert, you can inform your operations team in advance before an application crashes in a production environment. Similarly, you could identify if one of your database clusters is performing slowly in response to incoming queries.&lt;/p&gt;&#xA;&lt;h2 id=&#34;resources-for-getting-started&#34;&gt;Resources for getting started&lt;/h2&gt;&#xA;&lt;p&gt;The Grafana Labs Developer Advocacy team has significantly improved our &lt;a href=&#34;/docs/grafana/latest/?pg=oss-graf&amp;amp;plcmt=hero-btn-2&#34;&gt;documentation&lt;/a&gt; related to using Grafana alongside Docker, Kubernetes, and Helm Charts. This comprehensive documentation provides users with all the necessary information and guidance to successfully deploy, configure, and use Grafana within containerized environments.&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;em&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;/em&gt; &lt;em&gt;While there are many other open source container tools you can use alongside Grafana, we only have official documentation related to Docker, Kubernetes, and Helm Charts at this time.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;Each of our guides covers the most important topics identified by our open source community. Let’s take a closer look.&lt;/p&gt;&#xA;&lt;h3 id=&#34;docker&#34;&gt;Docker&lt;/h3&gt;&#xA;&lt;p&gt;For Docker, we offer an end-to-end guide on &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;how to deploy Grafana using Docker&lt;/a&gt; on any operating system. The guide is applicable to both Grafana Enterprise and Grafana OSS users. It explains how to use the &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/#run-grafana-via-docker-cli&#34;&gt;&lt;code&gt;docker run&lt;/code&gt;&lt;/a&gt; command as a quick way to get started, and how to use the &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/#run-grafana-via-docker-compose&#34;&gt;&lt;code&gt;docker compose&lt;/code&gt;&lt;/a&gt; command to create a specialized configuration &lt;code&gt;YAML&lt;/code&gt; file for a larger deployment.&lt;/p&gt;&#xA;&lt;p&gt;In addition, the guide covers:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;How to customize the default configuration to, for example, &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/?pg=blog&amp;amp;plcmt=body-txt/#install-plugins-in-the-docker-container&#34;&gt;install a plugin&lt;/a&gt;, &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/#use-environment-variables-to-configure-grafana&#34;&gt;change the default server path&lt;/a&gt;, or &lt;a href=&#34;/docs/grafana/latest/setup-grafana/configure-docker/?pg=blog&amp;amp;plcmt=body-txt/#troubleshoot-a-docker-deployment&#34;&gt;troubleshoot the deployment&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;li&gt;How to &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/?pg=blog&amp;amp;plcmt=body-txt/#save-your-grafana-data&#34;&gt;create a Docker volume to keep data persistent&lt;/a&gt;, along with guidance on other storage options based on your specific application use case, such as bind mounts.&lt;/li&gt;&#xA;&lt;li&gt;How to &lt;a href=&#34;/docs/grafana/latest/setup-grafana/configure-docker/&#34;&gt;build a custom Grafana Docker image&lt;/a&gt; for running containers in complex environments.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div&#xA;class=&#34;youtube-lazyload responsive-video&#34;&#xA;data-embed=&#34;FlDfcMbSLXs&#34;&#xA;data-url=&#34;https://www.youtube.com/embed/FlDfcMbSLXs?autoplay=1&amp;amp;rel=0&#34;&#xA;data-title=&#34;YouTube Video&#34;&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h3 id=&#34;kubernetes&#34;&gt;Kubernetes&lt;/h3&gt;&#xA;&lt;p&gt;Grafana Labs’ documentation on how to &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;deploy Grafana on Kubernetes&lt;/a&gt; is applicable to those who use a managed Kubernetes service — such as those from AWS, GCP, or Microsoft Azure — as well as those who run Kubernetes locally, including with tools like minikube or k3s. Like our Docker resources, the documentation covers both Grafana Enterprise and Grafana OSS.&lt;/p&gt;&#xA;&lt;p&gt;In our Kubernetes documentation, you will learn:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Helpful command-line examples, e.g. &lt;code&gt;kubectl&lt;/code&gt;, for accessing the Grafana service using &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/#access-grafana-on-managed-k8s-providers&#34;&gt;EXTERNAL-IP&lt;/a&gt; or &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/#access-grafana-on-managed-k8s-providers&#34;&gt;Port Forwarding.&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;How to &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/#update-an-existing-deployment-using-a-rolling-update-strategy&#34;&gt;perform updates and rollbacks&lt;/a&gt; to minimize downtime when performing maintenance in your cluster environment.&lt;/li&gt;&#xA;&lt;li&gt;Provisioning guidelines to &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/#provision-grafana-resources-using-configuration-files&#34;&gt;create an alert rule or integrate a data source plugin.&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Lastly, as Kubernetes is a complex platform, there is a complete troubleshooting section that provides best practices to collect logs, increase logging levels, and perform tests with the &lt;code&gt;dry-run&lt;/code&gt; command to detect any potential issues before going live in production.&lt;/p&gt;&#xA;&lt;div&#xA;class=&#34;youtube-lazyload responsive-video&#34;&#xA;data-embed=&#34;DEv5wtZxNCk&#34;&#xA;data-url=&#34;https://www.youtube.com/embed/DEv5wtZxNCk?autoplay=1&amp;amp;rel=0&#34;&#xA;data-title=&#34;YouTube Video&#34;&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h3 id=&#34;helm-charts&#34;&gt;Helm Charts&lt;/h3&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Helm Charts documentation for Grafana&lt;/a&gt; is currently applicable to Grafana OSS users.&lt;/p&gt;&#xA;&lt;p&gt;It provides detailed instructions with command-line examples for installing and configuring the Grafana Helm Chart, for both managed Kubernetes services or in a local development environment.&lt;/p&gt;&#xA;&lt;p&gt;Our docs also offer:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;An in-depth section on how to &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#customize-grafana-default-configuration&#34;&gt;customize the Grafana default configuration using the traditional Helm configuration file&lt;/a&gt;, &lt;code&gt;values.yaml&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Answers to commonly asked questions such as how to enable Simple Mail Transfer Protocol (SMTP), &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#install-plugins-eg-zabbix-app-clock-panel-etc&#34;&gt;install a plugin&lt;/a&gt;, and &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#enable-persistent-storage-recommended&#34;&gt;change the storage type&lt;/a&gt; — all with command line examples.&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#troubleshooting&#34;&gt;Troubleshooting best practices&lt;/a&gt;, including how to collect and (if required) increase the logging level to debug mode and &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#reset-grafana-admin-secrets-login-credentials&#34;&gt;reset login credentials&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div&#xA;class=&#34;youtube-lazyload responsive-video&#34;&#xA;data-embed=&#34;sgYrEleW24E&#34;&#xA;data-url=&#34;https://www.youtube.com/embed/sgYrEleW24E?autoplay=1&amp;amp;rel=0&#34;&#xA;data-title=&#34;YouTube Video&#34;&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;community-contributions-and-the-grafana-champion-program&#34;&gt;Community contributions and the Grafana Champion program&lt;/h2&gt;&#xA;&lt;p&gt;Just as we do with our open source projects, we welcome our community members to provide feedback and contribute to our documentation.&lt;/p&gt;&#xA;&lt;p&gt;That’s why, at the bottom of our docs pages, you will find a section that looks like this:&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 764px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png&#34;data-srcset=&#34;/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=320 320w, /media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=550 550w, /media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=750 750w, /media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=900 900w, /media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=1040 1040w, /media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=1240 1240w, /media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of the feedback section of a docs page.&#34;&#xA;width=&#34;764&#34;&#xA;height=&#34;157&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png&#34;&#xA;alt=&#34;A screenshot of the feedback section of a docs page.&#34;&#xA;width=&#34;764&#34;&#xA;height=&#34;157&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Here are some guidelines for submitting your feedback and reaching out:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;To make a small change via a PR, use &lt;strong&gt;Suggest an edit&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;li&gt;To report a minor issue or mistake in the documentation, use &lt;strong&gt;Contribute to docs&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;li&gt;To report a problem when viewing the documentation, use &lt;strong&gt;Report a problem&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;li&gt;If you have questions after reading our documentation, you can ask them in our open source &lt;strong&gt;Community forum&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;li&gt;For any other questions or requests, use the &lt;strong&gt;Support&lt;/strong&gt; option.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Also, if you have experience using Grafana in a containerized environment and want to help others get started, we encourage you to apply for the &lt;a href=&#34;/community/champions/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana Champions program!&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/community/champions/&#34;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 625px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/container-monitoring-resources/container-monitoring-champions-program.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/container-monitoring-resources/container-monitoring-champions-program.png&#34;data-srcset=&#34;/media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=320 320w, /media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=550 550w, /media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=750 750w, /media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=900 900w, /media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=1040 1040w, /media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=1240 1240w, /media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;The logo for the Grafana Champions program.&#34;&#xA;width=&#34;625&#34;&#xA;height=&#34;622&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/container-monitoring-resources/container-monitoring-champions-program.png&#34;&#xA;alt=&#34;The logo for the Grafana Champions program.&#34;&#xA;width=&#34;625&#34;&#xA;height=&#34;622&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;We welcome &lt;a href=&#34;https://go2.grafana.com/grafanachampions.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;program applications&lt;/a&gt; from everywhere in the world, and are also excited to hear from contributors from different demographics and underrepresented communities. Once you have completed the application, we’ll reach out as soon as possible.&lt;/p&gt;&#xA;&lt;p&gt;Hope to hear from you soon!&lt;/p&gt;】&lt;p&gt;简单来说，容器是一个标准的软件包，使应用程序能够在不同的计算环境中一致运行。通常，这些应用程序会被分解为较小的独立服务集合，称为微服务。&lt;/p&gt;&#xA;&lt;p&gt;对于许多组织来说，这些基于微服务的应用程序已经取代了传统的整体应用程序，因为它们提供了更高的性能、灵活性和规模。在这些分布式环境中，可观察性对于确保平稳运行和高性能至关重要。&lt;/p&gt;&#xA;&lt;p&gt;在这篇博文中，您将详细了解如何将 Grafana 与 &lt;a href=&#34;https://www.docker.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Docker 一起使用&lt;/a&gt; 、&lt;a href=&#34;https://kubernetes.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Kubernetes&lt;/a&gt; 和 &lt;a href=&#34;https://helm.sh/&#34; target= &#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Helm Charts&lt;/a&gt;，以及我们提供的一些可帮助您入门的资源。&lt;/p&gt;&#xA;&lt;h2 id=&#34;the-benefits-of-grafana-for-container-monitoring&#34;&gt;Grafana 在容器监控方面的优势&lt;/h2&gt;&#xA;&lt;p&gt;容器化环境是分布式的，并且有些复杂，由多个微服务和其他软件组件组成。这意味着收集和可视化指标对于识别潜在瓶颈和优化运营成本至关重要。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1846px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/container-monitoring-resources/container-monitoring-diagram.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/container-monitoring-resources/container-monitoring-diagram.png&#34;data-srcset=&#34;/media/blog/container-monitoring-resources/container-monitoring-diagram.png?w= 320 320w、/media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=550 550w、/media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=750 750w , /media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=900 900w, /media/blog/container-monitoring-resources/container-monitoring-diagram.png?w=1040 1040w, /媒体/博客/容器监控资源/容器监控图.png？w=1240 1240w，/媒体/博客/容器监控资源/容器监控图.png？w=1920 1920w”&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示 Grafana、Helm Charts、Docker 和 Kubernetes 徽标的维恩图。 &#34;&#xA;宽度=“1846”&#xA;高度=“1742”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/container-monitoring-resources/container-monitoring-diagram.png”&#xA;alt=&#34;显示 Grafana、Helm Charts、Docker 和 Kubernetes 徽标的维恩图。&#34;&#xA;宽度=“1846”&#xA;高度=“1742”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;Grafana 使您能够查询、触发警报并探索指标、日志和跟踪（无论它们存储在何处）。您可以使用可自定义的仪表板来可视化这些指标轻松深入了解容器及其底层基础设施，从而更轻松地识别和解决问题、优化性能并做出明智的决策。例如，通过创建最大磁盘使用率警报，您可以在应用程序在生产环境中崩溃之前提前通知您的运营团队。同样，您可以确定您的数据库集群之一在响应传入查询时是否执行缓慢。&lt;/p&gt;&#xA;&lt;h2 id=&#34;resources-for-getting-started&#34;&gt;入门资源&lt;/h2&gt;&#xA;&lt;p&gt;Grafana Labs 开发者倡导团队显着改进了与使用 Grafana 和 Docker 相关的&lt;a href=&#34;/docs/grafana/latest/?pg=oss-graf&amp;plcmt=hero-btn-2&#34;&gt;文档&lt;/a&gt; 、Kubernetes 和 Helm Charts。此综合文档为用户提供了在容器化环境中成功部署、配置和使用 Grafana 所需的所有信息和指南。&lt;/p&gt;&#xA;&lt;块引用&gt;&#xA;&lt;p&gt;&lt;em&gt;&lt;strong&gt;注意：&lt;/strong&gt;&lt;/em&gt; &lt;em&gt;虽然还有许多其他开源容器工具可以与 Grafana 一起使用，但我们只有与 Docker、Kubernetes 和 Helm 相关的官方文档此时的图表。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;/块引用&gt;&#xA;&lt;p&gt;我们的每份指南都涵盖了我们的开源社区确定的最重要的主题。让我们仔细看看。&lt;/p&gt;&#xA;&lt;h3 id=&#34;docker&#34;&gt;Docker&lt;/h3&gt;&#xA;&lt;p&gt;对于 Docker，我们提供了关于&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/?pg=blog&amp;plcmt=body-txt&#34;&gt;如何部署 Grafana 的端到端指南在任何操作系统上使用 Docker&lt;/a&gt;。该指南适用于 Grafana Enterprise 和 Grafana OSS 用户。它解释了如何使用 &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/#run-grafana-via-docker-cli&#34;&gt;&lt;code&gt;docker run&lt;/code&gt;&lt;/a &gt; 命令作为快速入门方法，以及如何使用 &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/#run-grafana-via-docker-compose&#34;&gt;&lt;code&gt; docker compose&lt;/code&gt;&lt;/a&gt; 命令为更大的部署创建专门的配置 &lt;code&gt;YAML&lt;/code&gt; 文件。&lt;/p&gt;&#xA;&lt;p&gt;此外，该指南还涵盖：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;如何自定义默认配置，例如&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/?pg=blog&amp;plcmt=body-txt/#install-plugins-in- the-docker-container&#34;&gt;安装插件&lt;/a&gt;，&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/#use-environment-variables-to-configure-grafana&#34;&gt;更改默认服务器路径&lt;/a&gt;，或&lt;a href=&#34;/docs/grafana/latest/setup-grafana/configure-docker/?pg=blog&amp;plcmt=body-txt/#troubleshoot-a-docker-deployment&#34;&gt;故障排除部署&lt;/a&gt;。&lt;/li&gt;&#xA;&lt;li&gt;如何&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/docker/?pg=blog&amp;plcmt=body-txt/#save-your-grafana-data&#34;&gt;创建一个 Docker 卷以保存数据持久性&lt;/a&gt;，以及基于您的特定应用程序用例的其他存储选项的指导，例如绑定安装。&lt;/li&gt;&#xA;&lt;li&gt;如何&lt;a href=&#34;/docs/grafana/latest/setup-grafana/configure-docker/&#34;&gt;构建自定义 Grafana Docker 镜像&lt;/a&gt;，用于在复杂环境中运行容器。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div&#xA;类 =“youtube-lazyload 响应视频”&#xA;数据嵌入=“FlDfcMbSLXs”&#xA;data-url=&#34;https://www.youtube.com/embed/FlDfcMbSLXs?autoplay=1&amp;rel=0&#34;&#xA;数据标题=“YouTube 视频”&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h3 id=&#34;kubernetes&#34;&gt;Kubernetes&lt;/h3&gt;&#xA;&lt;p&gt;Grafana Labs 有关如何&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/?pg=blog&amp;plcmt=body-txt&#34;&gt;在 Kubernetes 上部署 Grafana&lt;/a&gt; 的文档适用面向使用托管 Kubernetes 服务（例如来自 AWS、GCP 或 Microsoft Azure 的服务）的用户，以及在本地运行 Kubernetes（包括使用 minikube 或 k3s 等工具）的用户。与我们的 Docker 资源一样，该文档涵盖了 Grafana Enterprise 和 Grafana OSS。&lt;/p&gt;&#xA;&lt;p&gt;在我们的 Kubernetes 文档中，您将了解到：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;有用的命令行示例，例如&lt;code&gt;kubectl&lt;/code&gt;，用于使用 &lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/#access-grafana-on-management-k8s-providers&#34;&gt;EXTERNAL 访问 Grafana 服务-IP&lt;/a&gt; 或&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/#access-grafana-on-management-k8s-providers&#34;&gt;端口转发。&lt;/a&gt;&lt;/李&gt;&#xA;&lt;li&gt;如何&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/#update-an-existing-deployment-using-a-rolling-update-strategy&#34;&gt;执行更新和回滚&lt; /a&gt; 在集群环境中执行维护时最大限度地减少停机时间。&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/kubernetes/#provision-grafana-resources-using-configuration-files&#34;&gt;创建警报规则或集成数据源插件的配置指南.&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;最后，由于 Kubernetes 是一个复杂的平台，因此有一个完整的故障排除部分，提供了收集日志、提高日志记录级别以及使用 &lt;code&gt;dry-run&lt;/code&gt; 命令执行测试以检测任何潜在问题的最佳实践。在投入生产之前出现问题。&lt;/p&gt;&#xA;&lt;div&#xA;类 =“youtube-lazyload 响应视频”&#xA;数据嵌入=“DEv5wtZxNCk”&#xA;data-url=&#34;https://www.youtube.com/embed/DEv5wtZxNCk?autoplay=1&amp;rel=0&#34;&#xA;数据标题=“YouTube 视频”&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h3 id=&#34;helm-charts&#34;&gt;Helm 图表&lt;/h3&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana 的 Helm Charts 文档&lt;/a&gt;目前适用于 Grafana OSS 用户.&lt;/p&gt;&#xA;&lt;p&gt;它提供了详细说明以及命令行示例，用于安装和配置 Grafana Helm Chart，适用于托管 Kubernetes 服务或本地开发环境。&lt;/p&gt;&#xA;&lt;p&gt;我们的文档还提供：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;深入介绍如何&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#customize-grafana-default-configuration&#34;&gt;使用传统 Helm 自定义 Grafana 默认配置配置文件&lt;/a&gt;，&lt;code&gt;values.yaml&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;li&gt;对通讯的答复仅询问诸如如何启用简单邮件传输协议（SMTP）之类的问题，&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#install-plugins-eg-zabbix-app-clock-panel -etc&#34;&gt;安装插件&lt;/a&gt;，并&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#enable-persistent-storage-recommended&#34;&gt;更改存储类型&lt;/a &gt; — 全部带有命令行示例。&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#troubleshooting&#34;&gt;问题排查最佳实践&lt;/a&gt;，包括如何收集和（如果需要）提高日志记录级别以进行调试模式和&lt;a href=&#34;/docs/grafana/latest/setup-grafana/installation/helm/#reset-grafana-admin-secrets-login-credentials&#34;&gt;重置登录凭据&lt;/a&gt;。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div&#xA;类 =“youtube-lazyload 响应视频”&#xA;数据嵌入=“sgYrEleW24E”&#xA;data-url=&#34;https://www.youtube.com/embed/sgYrEleW24E?autoplay=1&amp;rel=0&#34;&#xA;数据标题=“YouTube 视频”&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;community-contributions-and-the-grafana-champion-program&#34;&gt;社区贡献和 Grafana Champion 计划&lt;/h2&gt;&#xA;&lt;p&gt;就像我们对待开源项目一样，我们欢迎社区成员提供反馈并为我们的文档做出贡献。&lt;/p&gt;&#xA;&lt;p&gt;因此，在我们的文档页面底部，您会发现如下所示的部分：&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：764px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png”data-srcset =“/media/blog/container-monitoring-resources/container-monitoring-docs-feedback。 png?w=320 320w，/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=550 550w，/media/blog/container-monitoring-resources/container-monitoring-docs- Feedback.png?w=750 750w，/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=900 900w，/media/blog/container-monitoring-resources/container-monitoring- docs-feedback.png?w=1040 1040w，/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png?w=1240 1240w，/media/blog/container-monitoring-resources/container-监控-docs-feedback.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;文档页面反馈部分的屏幕截图。&#34;&#xA;宽度=“764”&#xA;高度=“157”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/container-monitoring-resources/container-monitoring-docs-feedback.png”&#xA;alt=&#34;文档页面反馈部分的屏幕截图。&#34;&#xA;宽度=“764”&#xA;高度=“157”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;以下是提交反馈和联系的一些准则：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;要通过 PR 进行微小更改，请使用&lt;strong&gt;提出修改建议&lt;/strong&gt;。&lt;/li&gt;&#xA;&lt;li&gt;报告小问题或错误如需查看文档，请使用&lt;strong&gt;贡献文档&lt;/strong&gt;。&lt;/li&gt;&#xA;&lt;li&gt;要在查看文档时报告问题，请使用&lt;strong&gt;报告问题&lt;/strong&gt;。&lt;/li&gt;&#xA;&lt;li&gt;如果您在阅读我们的文档后有疑问，可以在我们的开源&lt;strong&gt;社区论坛&lt;/strong&gt;中提问。&lt;/li&gt;&#xA;&lt;li&gt;如有任何其他问题或请求，请使用&lt;strong&gt;支持&lt;/strong&gt;选项。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;此外，如果您有在容器化环境中使用 Grafana 的经验并希望帮助其他人入门，我们鼓励您申请 &lt;a href=&#34;/community/champions/?pg=blog&amp;plcmt=body-txt&#34;&gt; Grafana 冠军计划！&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/community/champions/&#34;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：625px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/container-monitoring-resources/container-monitoring-champions-program.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/container-monitoring-resources/container-monitoring-champions-program.png”data-srcset =“/media/blog/container-monitoring-resources/container-monitoring-champions-program。 png?w=320 320w，/media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=550 550w，/media/blog/container-monitoring-resources/container-monitoring-champions- program.png?w=750 750w，/media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=900 900w，/media/blog/container-monitoring-resources/container-monitoring- Champions-program.png?w=1040 1040w，/media/blog/container-monitoring-resources/container-monitoring-champions-program.png?w=1240 1240w，/media/blog/container-monitoring-resources/container-监控冠军计划.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana Champions 计划的徽标。&#34;&#xA;宽度=“625”&#xA;高度=“622”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/container-monitoring-resources/container-monitoring-champions-program.png”&#xA;alt=&#34;Grafana Champions 计划的徽标。&#34;&#xA;宽度=“625”&#xA;高度=“622”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;我们欢迎来自世界各地的&lt;a href=&#34;https://go2.grafana.com/grafanachampions.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;计划申请&lt;/a&gt;，并且我们也很高兴听到来自不同人群和代表性不足社区的贡献者的意见。一旦您完成申请，我们将尽快与您联系。&lt;/p&gt;&#xA;&lt;p&gt;希望尽快收到您的来信！&lt;/p&gt;</description>
      <pubDate>Wed, 02 Oct 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Addressing metric overload: a deep dive on Adaptive Metrics】解决指标过载：深入探讨自适应指标</title>
      <link>https://grafana.com/blog/2024/10/04/addressing-metric-overload-a-deep-dive-on-adaptive-metrics/</link>
      <description>【&lt;p&gt;When it comes to metrics, development teams often have a &amp;ldquo;better safe than sorry&amp;rdquo; mindset of collecting anything and everything. But that can translate to explosive growth of time series data, which can lead to higher costs and noisy signals.&lt;/p&gt;&#xA;&lt;p&gt;It&amp;rsquo;s a challenge we saw many of our users facing, which is why we developed &lt;a href=&#34;/products/cloud/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Adaptive Metrics&lt;/a&gt;, a feature in Grafana Cloud that helps cut costs by aggregating unused and partially used metrics into lower cardinality versions.&lt;/p&gt;&#xA;&lt;p&gt;Adaptive Metrics was the subject of the most recent episode of &amp;ldquo;Grafana&amp;rsquo;s Big Tent,&amp;rdquo; hosted by Mat Ryer, Grafana Labs Engineering Director. Mat was joined this week by Patrick Oyarzun and Mauro Stettler, both of whom are Principal Software Engineers that work on Adaptive Metrics. They were also joined by Oren Lion, Director of Software Engineering, Productivity Engineering, at TeleTracking, which used the feature to &lt;a href=&#34;/blog/2024/01/26/inside-teletrackings-journey-to-build-a-better-observability-platform-with-grafana-cloud/&#34;&gt;cut its Grafana Cloud Metrics spending by 50%&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;In this blog post, we&amp;rsquo;ll share some of the highlights from the first half of the show, which focused on the problems organizations are facing and how Adaptive Metrics can help. You&amp;rsquo;ll also get a peek at what the engineers behind Adaptive Metrics are planning for the future, but check out the full episode if you want to learn more about the hackathon origins of Adaptive Metrics and Mat&amp;rsquo;s attempts at podcast-driven software development. You&amp;rsquo;ll also hear more about the roadmap and you&amp;rsquo;ll learn about the technical challenges that go into developing and maintaining this feature.&lt;/p&gt;&#xA;&lt;iframe width=&#34;100%&#34; height=&#34;180&#34; frameborder=&#34;no&#34; scrolling=&#34;no&#34; seamless=&#34;&#34; src=&#34;https://share.transistor.fm/e/b5cb99c7&#34;&gt;&lt;/iframe&gt;&#xA;&lt;p&gt;&lt;em&gt;Note: The following are highlights from episode 4, season 2 of “Grafana’s Big Tent.” The transcript below has been edited for length and clarity.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;how-metrics-can-quickly-add-up&#34;&gt;How metrics can quickly add up&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Oren Lion:&lt;/strong&gt; What I&amp;rsquo;ve found is that 40% of the time series come from custom metrics, and the other 60% of time series come from dependency metrics. Now, to get a picture of this, here&amp;rsquo;s a hard example of custom metrics. I&amp;rsquo;ve got 200 microservices. Each service produces 500 time series, and they&amp;rsquo;re scaled to three pods. So that&amp;rsquo;s 300 time series pushing from that cluster—so 300,000. But let&amp;rsquo;s say we migrate to a new cluster and we blue/green. Now we&amp;rsquo;re pushing 600,000 time series for a time. And just turning to dependencies, PromTail runs as a daemon set, so there&amp;rsquo;s one pod per node. It publishes 275 time series per pod, on a 40-node cluster. That&amp;rsquo;s 10,000 time series.&lt;/p&gt;&#xA;&lt;p&gt;So how do we get to a million time series? It was fast and easy. When you work with the teams, it&amp;rsquo;s like they&amp;rsquo;re thinking ahead about design, and about how to monitor their service and dependencies, but they fall short of estimating and tracking the cost to monitor a service.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat Ryer:&lt;/strong&gt; Well, it&amp;rsquo;s a tough problem, because you don&amp;rsquo;t really always know what you&amp;rsquo;re going to need later. So there&amp;rsquo;s definitely this attitude of &amp;ldquo;We&amp;rsquo;ll just record everything, because we&amp;rsquo;re better safe than sorry.&amp;rdquo;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Oren:&lt;/strong&gt; It&amp;rsquo;s a verbosity problem. And controlling verbosity is an observability problem. Look at logs and metrics. With logs, you solve the problem of controlling verbosity with log level… Metrics have verbosity, but it comes in the form of cardinality. So we&amp;rsquo;re generally not as good at filtering metrics in relabel configs as we are at setting a log level for logs. And so there are ways to identify high cardinality, but nothing like a log level. There&amp;rsquo;s no simple way to just dial it down.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat:&lt;/strong&gt; Well, you&amp;rsquo;re actually on a podcast with a couple of the engineers here. So if you&amp;rsquo;ve got ideas to pitch them, by all means. Mauro, what do you think? Label levels for metrics?&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro Stettler:&lt;/strong&gt; Yeah, I agree with everything that Oren said. I would like to add one more thing regarding where the high cardinality comes from. I think in some cases the cardinality is simply an artifact of how the metrics got produced. Usually when the metrics are produced, there are many service instances producing metrics about themselves. And very often you have multiple service instances doing the same thing. They&amp;rsquo;re basically just replicas of the same service. And due to how they are produced and collected, each of the time series that are produced by each of those instances get a unique label assigned to them. But depending on what the metric represents, you might not actually need to know which of those instances has, I don&amp;rsquo;t know, increased the counter.&lt;/p&gt;&#xA;&lt;h2 id=&#34;the-problem-with-a-piecemeal-approach&#34;&gt;The problem with a piecemeal approach&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat:&lt;/strong&gt; How do people solve this today then? Is it a case of you sort of have to go through all your code, look at all the places you&amp;rsquo;re producing metrics, and try and trim it down? Does that ever work?&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro:&lt;/strong&gt; Very often what I&amp;rsquo;ve seen in larger organizations is that there are strict rollout policies, which make it impossible to deploy fixes quickly. For example, a new change gets deployed, which blows up the cardinality because a new label has been added, which has a really high cardinality. Then the team of developers maintaining that application realizes the problem, they want to fix it, but it takes weeks to get the fix into production.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Patrick Oyarzun:&lt;/strong&gt; Yeah. And there&amp;rsquo;s been existing solutions for a while to try to help control cardinality. Typically, it takes one of two forms. One is just dropping some metrics entirely. For example, say you&amp;rsquo;re monitoring Kubernetes. You might find a list somewhere of metrics you don&amp;rsquo;t really need, according to somebody&amp;rsquo;s opinion or some philosophy that they&amp;rsquo;ve applied. And you might decide to just drop all of those outright. That still requires changing, relabel configs, which is sometimes hard.&lt;/p&gt;&#xA;&lt;p&gt;The other way that people try to do this is by dropping individual labels off of their metrics. And so maybe you realize you have some redundant label, or you have a label that is increasing cardinality, but you don&amp;rsquo;t care about it. The issue with doing that though is a lot of times you&amp;rsquo;ll run into issues in the database that you&amp;rsquo;re sending to. So lots of time series databases, including Prometheus—and anything that&amp;rsquo;s trying to look like Prometheus—require that every series has a unique label set. If you try to, say, just drop a pod label for example on a metric, usually you&amp;rsquo;ll start getting errors saying things like &amp;ldquo;duplicate sample received&amp;rdquo; or &amp;ldquo;same timestamp, but a different value.&amp;rdquo;&lt;/p&gt;&#xA;&lt;p&gt;And so it&amp;rsquo;s not as simple as just &amp;ldquo;don&amp;rsquo;t send the data.&amp;rdquo;&lt;/p&gt;&#xA;&lt;h2 id=&#34;what-exactly-is-adaptive-metrics&#34;&gt;What exactly is Adaptive Metrics?&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro:&lt;/strong&gt; Adaptive Metrics consists of two parts. The first part is what we call the recommendations engine, which analyzes a user&amp;rsquo;s series index. So it looks at all of the series that the user currently has, and it looks at the usage on those series. Based on that information, it then tries to identify labels that the user has, which raises the series cardinality, and which the user actually doesn&amp;rsquo;t need, because they don&amp;rsquo;t use them, according to their usage patterns. So it generates recommendations saying, &amp;ldquo;Label X could be dropped,&amp;rdquo; and this will reduce your active series count by some number.&lt;/p&gt;&#xA;&lt;p&gt;Then the second part is what we call the aggregator, which is a part in the metrics ingestion pipeline when you send data to the &lt;a href=&#34;/products/cloud/&#34;&gt;Grafana Cloud&lt;/a&gt;. The aggregator allows the user to apply and implement those recommendations by defining rule sets which say, &amp;ldquo;OK, I want to drop this label from metric X,&amp;rdquo; and the aggregator then performs the necessary aggregation on that data in order to generate and aggregate with a reduced cardinality, according to the recommendation.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Patrick:&lt;/strong&gt; We actually have a tool that has existed for a while, called &lt;a href=&#34;/docs/mimir/latest/manage/tools/mimirtool/&#34;&gt;Mimirtool&lt;/a&gt;, that can automate a lot of that. And it&amp;rsquo;s open source, anybody can use it. It&amp;rsquo;ll tell you which metrics are used, basically.&lt;/p&gt;&#xA;&lt;p&gt;What Adaptive Metrics does is it goes a step further. So instead of just telling you that the &amp;ldquo;Kubernetes API server request duration seconds&amp;rdquo; bucket is used, it&amp;rsquo;ll also tell you whether or not every label is used. And it&amp;rsquo;ll also know that in the places it is used, it&amp;rsquo;s only ever used in a sum-of-rate PromQL expression. And because we know all of that at once, we can actually tell you with confidence, &amp;ldquo;Hey, if you drop the pod label on that, it&amp;rsquo;s not going to affect anything.&amp;rdquo; All of your dashboards will still work, you&amp;rsquo;ll still get paged for your SLOs.&lt;/p&gt;&#xA;&lt;p&gt;It also adapts over time. It&amp;rsquo;s been common for a long time to have these public data sets of all the metrics that you probably want to keep for Kubernetes, Kafka, Redis, or any popular technology. What Adaptive Metrics does is basically it&amp;rsquo;ll find all of that dynamically, and then over time, as you start using more, or stop using some of it, it&amp;rsquo;ll start generating new recommendations.&lt;/p&gt;&#xA;&lt;p&gt;Maybe you can aggregate a little bit more aggressively, because you transitioned from float histograms to native histograms, which is a feature related to the issue Oren was talking about with histogram cardinality. Maybe once you do that migration, Adaptive Metrics might notice, &amp;ldquo;Hey, that old normal histogram is unused now, and you can get rid of it,&amp;rdquo; even if you don&amp;rsquo;t have control of the application that&amp;rsquo;s generating that data.&lt;/p&gt;&#xA;&lt;p&gt;So it&amp;rsquo;s really this feedback loop that I think has made Adaptive Metrics start to stand out. And we&amp;rsquo;ve had it internally. At this point, we apply the latest recommendations every weekday morning, and we&amp;rsquo;ve been doing that for quite a long time now. Nobody reviews them; it has generally worked pretty well.&lt;/p&gt;&#xA;&lt;h2 id=&#34;where-do-we-go-from-here&#34;&gt;Where do we go from here&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Patrick:&lt;/strong&gt; The word I keep using when I think about [next steps] is &amp;ldquo;just-in-time metrics.&amp;rdquo; It&amp;rsquo;s something that I think we&amp;rsquo;re just scratching the surface of, but I can imagine a future state where you generally are paying very little for your metric storage, and then something goes wrong and you can turn on the fire hose, so to speak, of like &amp;ldquo;I want to know everything.&amp;rdquo; And I think it&amp;rsquo;s not just metrics. Grafana in general is &lt;a href=&#34;/blog/2024/09/24/introducing-adaptive-logs/&#34;&gt;developing Adaptive Telemetry&lt;/a&gt; across all observability signals. There could be a future state where when you turn on that fire hose, it includes all signals, and you&amp;rsquo;re saying all at once, &amp;ldquo;In this one region, I know I&amp;rsquo;m having an issue, and I want to stop dropping metrics, logs, traces, profiles. I want to just get everything for the next hour.&amp;rdquo; And then I can do my investigation, I can do my forensics, and then I can start saving money again. I think it&amp;rsquo;s realistic that we could get to that point eventually.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat:&lt;/strong&gt; Yeah. I quite like the idea that you declare an incident and then it just starts automatically. It levels up everything because there&amp;rsquo;s an incident happening just for that period.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro:&lt;/strong&gt; Just to extend on that: I think it&amp;rsquo;s even possible that we will get to a point where you cannot only turn on the fire hose right now, but for the last hour too. That would be the coolest feature that we could build. Because I think the biggest blocker for people is they&amp;rsquo;re afraid that they&amp;rsquo;re going to drop information and they&amp;rsquo;ll regret it later. If they were able to go back in time by just one hour or two hours, even if it&amp;rsquo;s not very long, I think that would really help a lot of people not worry about dropping labels we say they don&amp;rsquo;t need.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat:&lt;/strong&gt; Yeah, this is cool. I mean, I don&amp;rsquo;t think we&amp;rsquo;re allowed to do podcast-driven roadmap planning, but it feels like that&amp;rsquo;s where we are. Mauro, just to be clear, that feature would use some kind of buffer to store the data. You wouldn&amp;rsquo;t actually try and solve time travel and send people back an hour, would you? That&amp;rsquo;s too far.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro:&lt;/strong&gt; That&amp;rsquo;s one possibility, but I don&amp;rsquo;t have a design doc for that one. But we do have a design doc for the solution with the buffer, because we actually do have the buffer already. We just need to use it.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat:&lt;/strong&gt; I see, cool. Yeah, that does make sense. Do the easier one first, and then time travel later—save it for a different hackathon.&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;“Grafana’s Big Tent” podcast wants to hear from you. If you have a great story to share, want to join the conversation, or have any feedback, please contact the Big Tent team at&lt;a href=&#34;/blog/2024/08/23/grafanas-big-tent-podcast-season-2-is-here/bigtent@grafana.com&#34;&gt; bigtent@grafana.com&lt;/a&gt;. You can also catch up on the first and second season of “Grafana’s Big Tent” on&lt;a href=&#34;https://podcasts.apple.com/us/podcast/grafanas-big-tent/id1616725129&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt; Apple Podcasts&lt;/a&gt; and&lt;a href=&#34;https://open.spotify.com/show/3beQvS8to0rYs1gxOnPrfD?si=bf046f54fe214615&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt; Spotify&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;】&lt;p&gt;当谈到指标时，开发团队通常有一种“安全总比后悔好”的心态，收集任何东西。但这可能会导致时间序列数据的爆炸性增长，从而导致更高的成本和噪声信号。&lt;/p&gt;&#xA;&lt;p&gt;这是我们许多用户面临的挑战，这就是我们开发 Grafana 中的一项功能&lt;a href=&#34;/products/cloud/?pg=blog&amp;plcmt=body-txt&#34;&gt;自适应指标&lt;/a&gt;的原因通过将未使用和部分使用的指标聚合到较低基数版本中来帮助降低成本的云。&lt;/p&gt;&#xA;&lt;p&gt;自适应指标是最新一集“Grafana 的大帐篷”的主题，该节目由 Grafana 实验室工程总监 Mat Ryer 主持。本周，Patrick Oyarzun 和 Mauro Stettler 也加入了 Mat 的行列，他们都是从事自适应指标研究的首席软件工程师。 TeleTracking 的软件工程、生产力工程总监 Oren Lion 也加入了他们的行列，TeleTracking 使用该功能&lt;a href=&#34;/blog/2024/01/26/inside-teletrackings-journey-to-build-a- better-observability-platform-with-grafana-cloud/&#34;&gt;将 Grafana Cloud Metrics 支出削减 50%&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;p&gt;在这篇博文中，我们将分享展会上半部分的一些亮点，重点关注组织面临的问题以及自适应指标如何提供帮助。您还可以了解 Adaptive Metrics 背后的工程师对未来的规划，但如果您想了解更多有关 Adaptive Metrics 的黑客马拉松起源以及 Mat 在播客驱动的软件开发方面的尝试，请查看完整的剧集。您还将了解有关路线图的更多信息，并了解开发和维护此功能所面临的技术挑战。&lt;/p&gt;&#xA;&lt;iframe width =“100％”height =“180”frameborder =“否”滚动=“否”无缝=“”src =“https://share.transistor.fm/e/b5cb99c7”&gt; &lt;/ iframe&gt;&#xA;&lt;p&gt;&lt;em&gt;注意：以下是“Grafana’s Big Tent”第二季第 4 集的精彩片段。为了长度和清晰度，下面的文字记录已经过编辑。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;how-metrics-can-quickly-add-up&#34;&gt;指标如何快速累加&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Oren Lion：&lt;/strong&gt;我发现 40% 的时间序列来自自定义指标，另外 60% 的时间序列来自依赖性指标。现在，为了了解这一点，这里有一个自定义指标的硬示例。我有 200 个微服务。每个服务都会生成 500 个时间序列，并且它们会扩展到三个 Pod。这是从该集群推送的 300 个时间序列，即 300,000 个。但是假设我们迁移到一个新的集群并且我们是蓝色/绿色的。现在我们一次推送 600,000 个时间序列。至于依赖关系，PromTail 作为守护进程集运行，因此每个节点有一个 pod。它在 40 个节点的集群上每个 Pod 发布 275 个时间序列。这是 10,000 个时间序列。&lt;/p&gt;&#xA;&lt;p&gt;那么我们如何获得一百万个时间序列呢？过程又快又简单。当你沃与团队合作，就好像他们正在提前考虑设计以及如何监视其服务和依赖项，但他们无法估计和跟踪监视服务的成本。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat Ryer：&lt;/strong&gt;嗯，这是一个棘手的问题，因为你并不总是知道以后需要什么。所以肯定会有这样的态度：“我们只会记录一切，因为安全总比后悔好。”&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;奥伦：&lt;/strong&gt;这是一个冗长的问题。控制冗长是一个可观察性问题。查看日志和指标。使用日志，您可以解决通过日志级别控制详细程度的问题……指标具有详细程度，但它以基数的形式出现。因此，我们通常不如设置日志的日志级别那样擅长过滤重新标记配置中的指标。因此，有多种方法可以识别高基数，但没有比日志级别更好的方法了。没有简单的方法可以降低它。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat：&lt;/strong&gt;嗯，您实际上正在与这里的几位工程师一起收听播客。因此，如果您有想法可以向他们推销，请务必这样做。毛罗，你觉得怎么样？指标的标签级别？&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro Stettler：&lt;/strong&gt;是的，我同意奥伦所说的一切。我想补充一件事，关于高基数的来源。我认为在某些情况下，基数只是指标生成方式的产物。通常，在生成指标时，有许多服务实例会生成有关其自身的指标。通常，您有多个服务实例执行相同的操作。它们基本上只是同一服务的复制品。由于它们的生成和收集方式，每个实例生成的每个时间序列都会分配一个唯一的标签。但根据指标所代表的内容，您实际上可能不需要知道哪些实例（我不知道）增加了计数器。&lt;/p&gt;&#xA;&lt;h2 id=&#34;the-problem-with-a-piecemeal-approach&#34;&gt;零碎方法的问题&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat：&lt;/strong&gt;人们现在如何解决这个问题？您是否需要检查所有代码，查看您生成指标的所有位置，然后尝试将其缩减？这有用吗？&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro：&lt;/strong&gt;我经常在大型组织中看到的是严格的推出政策，这使得快速部署修复变得不可能。例如，部署了一个新的更改，这会增加基数，因为添加了一个新标签，该标签具有非常高的基数。然后，维护该应用程序的开发人员团队意识到了问题，他们想要修复它，但需要数周时间才能将修复程序投入生产。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;帕特里克·奥亚尊：&lt;/strong&gt;是的。一段时间以来，已有一些解决方案试图帮助控制基数。时间通常，它采用两种形式之一。一是完全放弃一些指标。例如，假设您正在监控 Kubernetes。根据某人的意见或他们所应用的某些理念，您可能会在某个地方找到您并不真正需要的指标列表。你可能会决定彻底放弃所有这些。这仍然需要更改、重新标记配置，这有时很困难。&lt;/p&gt;&#xA;&lt;p&gt;人们尝试做到这一点的另一种方法是从指标中删除单个标签。所以也许你意识到你有一些多余的标签，或者你有一个增加基数的标签，但你不关心它。但这样做的问题是，很多时候您会在发送到的数据库中遇到问题。因此，许多时间序列数据库，包括 Prometheus 以及任何试图看起来像 Prometheus 的数据库，都要求每个系列都有一个独特的标签集。例如，如果您尝试在指标上添加 pod 标签，通常您会开始收到错误消息，例如“收到重复的样本”或“相同的时间戳，但值不同。”&lt;/p&gt;&#xA;&lt;p&gt;所以这并不像“不发送数据”那么简单。&lt;/p&gt;&#xA;&lt;h2 id=&#34;what-exactly-is-adaptive-metrics&#34;&gt;自适应指标到底是什么？&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro：&lt;/strong&gt;自适应指标由两部分组成。第一部分是我们所说的推荐引擎，它分析用户的系列索引。因此，它会查看用户当前拥有的所有系列，并查看这些系列的使用情况。然后，根据该信息，它尝试识别用户拥有的标签，这会提高系列基数，以及用户实际上不需要的标签，因为根据他们的使用模式，他们不使用它们。因此，它会生成建议：“标签 X 可能会被删除”，这会减少您的活跃系列数。&lt;/p&gt;&#xA;&lt;p&gt;第二部分就是我们所说的聚合器，当您将数据发送到 &lt;a href=&#34;/products/cloud/&#34;&gt;Grafana Cloud&lt;/a&gt; 时，它是指标摄取管道的一部分。聚合器允许用户通过定义规则集来应用和实施这些建议，这些规则集表示“好吧，我想从指标 X 中删除这个标签”，然后聚合器对该数据执行必要的聚合，以便生成和聚合根据建议，减少基数。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Patrick：&lt;/strong&gt;我们实际上有一个已经存在了一段时间的工具，名为 &lt;a href=&#34;/docs/mimir/latest/manage/tools/mimirtool/&#34;&gt;Mimirtool&lt;/a&gt; ，这可以使很多事情自动化。而且它是开源的，任何人都可以使用它。基本上，它会告诉您使用了哪些指标。&lt;/p&gt;&#xA;&lt;p&gt;自适应指标的作用是更进一步。因此，不仅仅是告诉您使用“Kubernetes API 服务器请求持续时间秒”存储桶，它还会告诉您是否使用了每个标签。它还会知道，在使用它的地方，它仅在速率总和 PromQL 表达式中使用。因为我们一下子就知道了所有这些，所以我们实际上可以自信地告诉你，“嘿，如果你把豆荚标签放在上面，它不会影响任何东西。”您的所有仪表板仍然有效，您仍然会收到有关 SLO 的寻呼。&lt;/p&gt;&#xA;&lt;p&gt;它也会随着时间的推移而适应。长期以来，拥有这些您可能想要为 Kubernetes、Kafka、Redis 或任何流行技术保留的所有指标的公共数据集已经很常见了。自适应指标的作用基本上是动态地找到所有这些，然后随着时间的推移，当您开始使用更多或停止使用其中一些时，它将开始生成新的建议。&lt;/p&gt;&#xA;&lt;p&gt;也许您可以更积极地进行聚合，因为您从浮动直方图转换为本机直方图，这是与 Oren 谈论的直方图基数问题相关的功能。也许一旦您进行了迁移，自适应指标可能会注意到，“嘿，旧的正常直方图现在已不再使用，您可以摆脱它”，即使您无法控制生成该数据的应用程序。&lt;/ p&gt;&#xA;&lt;p&gt;所以我认为正是这种反馈循环让自适应指标开始脱颖而出。我们内部已经有了。目前，我们每个工作日早上都会应用最新的建议，而且我们已经这样做了很长时间了。没有人评论它们；总体来说效果很好。&lt;/p&gt;&#xA;&lt;h2 id=&#34;where-do-we-go-from-here&#34;&gt;我们从这里去哪里&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Patrick：&lt;/strong&gt;当我想到[后续步骤]时，我一直使用的词是“即时指标”。我认为我们只是触及了表面，但我可以想象未来的状态，你通常为公制存储支付很少的费用，然后出现问题，你可以打开消防水龙带，可以这么说，比如“我想知道一切。”我认为这不仅仅是指标。 Grafana 总体上正在针对所有可观测信号&lt;a href=&#34;/blog/2024/09/24/introducing-adaptive-logs/&#34;&gt;开发自适应遥测&lt;/a&gt;。未来可能会出现这样的情况，当你打开消防水龙带时，它会包含所有信号，你会同时说：“在这个地区，我知道我遇到了问题，我想停止下降指标、日志、跟踪、配置文件。我只想在接下来的一个小时内得到一切。”然后我可以进行调查，进行取证，然后我可以再次开始存钱。我认为我们最终能够达到这一目标是现实的。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;垫子：&lt;/strong&gt;是的。我非常喜欢这样的想法：你声明一个事件，然后它就会自动开始。因为发生了一个事件，所以一切都变得水平只发生在那个时期。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;毛罗：&lt;/strong&gt;简单来说：我认为我们甚至有可能会达到这样的程度：你不仅现在不能打开消防水龙带，而且在最后一个小时也是如此。这将是我们可以构建的最酷的功能。因为我认为人们最大的障碍是他们担心自己会放弃信息，然后会后悔。如果他们能够回到过去一两个小时，即使不是很长，我认为这确实会帮助很多人不用担心删除我们说他们不需要的标签。&lt;/p &gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat：&lt;/strong&gt;是的，这很酷。我的意思是，我认为我们不被允许进行播客驱动的路线图规划，但感觉这就是我们的处境。 Mauro，需要明确的是，该功能将使用某种缓冲区来存储数据。你实际上不会尝试解决时间旅行并将人们送回一个小时，不是吗？太远了。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mauro：&lt;/strong&gt;这是一种可能性，但我没有针对这种可能性的设计文档。但我们确实有一个关于缓冲区解决方案的设计文档，因为我们实际上已经有了缓冲区。我们只需要使用它即可。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Mat：&lt;/strong&gt;我明白了，酷。是的，这确实有道理。先做更简单的，然后再进行时间旅行——把它留到另一个黑客马拉松。&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;“Grafana 的大帐篷”播客希望收到您的来信。如果您有精彩的故事要分享、想要加入对话或有任何反馈，请联系 Big Tent 团队：&lt;a href=&#34;/blog/2024/08/23/grafanas-big-tent-podcast-season -2-is-here/bigtent@grafana.com&#34;&gt;bigtent@grafana.com&lt;/a&gt;。您还可以在 &lt;a href=&#34;https://podcasts.apple.com/us/podcast/grafanas-big-tent/id1616725129&#34; target=&#34;_blank&#34; 上观看《Grafana&#39;s Big Tent》第一季和第二季rel=&#34;noopener noreferrer&#34;&gt; Apple 播客&lt;/a&gt; 和&lt;a href=&#34;https://open.spotify.com/show/3beQvS8to0rYs1gxOnP​​rfD?si=bf046f54fe214615&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt; Spotify &lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;</description>
      <pubDate>Fri, 04 Oct 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【How to build automatic remediation workflows in Grafana Cloud】如何在 Grafana Cloud 中构建自动修复工作流程</title>
      <link>https://grafana.com/blog/2024/09/30/how-to-build-automatic-remediation-workflows-in-grafana-cloud/</link>
      <description>【&lt;p&gt;When incidents occur, engineers must jump into action to get systems back to running at peak performance. However, there are a myriad of challenges that can prevent them from resolving the issues swiftly.&lt;/p&gt;&#xA;&lt;p&gt;Imagine a scenario where a team of DevOps engineers manages a cloud-based e-commerce platform that experiences occasional spikes in traffic during peak shopping seasons. During one of those major sales events, the team notices a sharp spike in CPU usage across several critical application servers. Despite their best efforts to manually scale up resources, the servers struggle to handle the surge in traffic, causing significant slowdowns for users and increasing the risk of revenue loss.&lt;/p&gt;&#xA;&lt;p&gt;In scenarios like this, it helps to take a more proactive approach to improve resilience and reliability. For example, if the team had instead set up an auto-remediation trigger for high CPU usage, the system would have automatically scaled up the number of application server instances and redistributed incoming traffic, all without human intervention.&lt;/p&gt;&#xA;&lt;p&gt;But don&amp;rsquo;t confuse a lack of human intervention with a lack of humans on your team. It simply reduces the steps, and therefore toil, helping your engineers ensure your organization&amp;rsquo;s systems remain healthy and reliable. Let&amp;rsquo;s take a closer look at how and when your team can implement auto-remediation to respond to incidents faster with &lt;a href=&#34;/products/cloud/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana Cloud&lt;/a&gt; and &lt;a href=&#34;/products/cloud/irm/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana IRM&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;h2 id=&#34;what-are-some-common-use-cases-for-auto-remediation&#34;&gt;What are some common use cases for auto-remediation?&lt;/h2&gt;&#xA;&lt;p&gt;Auto-remediation can be help in a wide range of use cases, but here are some of the primary ones we see our users succeed with:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Adding resources prior to overutilization.&lt;/strong&gt; Auto-remediation can preemptively increase resource allocation based on usage patterns and predicted demand spikes, ensuring smooth operation even during periods of high activity.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Auto-restarting failed services.&lt;/strong&gt; In the event of service failures, auto-remediation can automatically detect and restart the affected services, minimizing downtime and maintaining system availability.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Auto-rerouting traffic when encountering network errors.&lt;/strong&gt; Auto-remediation can swiftly identify network errors and reroute traffic to alternative pathways or servers, ensuring uninterrupted connectivity and minimizing service disruptions.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Auto-roll back deployments when encountering application errors.&lt;/strong&gt; If application errors occur after a deployment, auto-remediation can automatically roll back to a stable version, preventing widespread outages and maintaining service reliability.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;when-should-i-start-building-auto-remediation-workflows-with-grafana-cloud&#34;&gt;When should I start building auto-remediation workflows with Grafana Cloud?&lt;/h2&gt;&#xA;&lt;p&gt;During post-incident reviews, ask your team the following questions:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;If we were able to respond quicker (without human intervention), could we have prevented this incident?&lt;/li&gt;&#xA;&lt;li&gt;What steps would have to be automated to accomplish this?&lt;/li&gt;&#xA;&lt;li&gt;What negative impact might this have? Could this cause other issues?&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;When you identify low-risk ways to resolve issues quickly and easily through automation, encourage your team to experiment to see if it can help resolve issues faster next time.&lt;/p&gt;&#xA;&lt;div&#xA;class=&#34;youtube-lazyload responsive-video&#34;&#xA;data-embed=&#34;it-BCdo7hZg&#34;&#xA;data-url=&#34;https://www.youtube.com/embed/it-BCdo7hZg?autoplay=1&amp;amp;rel=0&#34;&#xA;data-title=&#34;YouTube Video&#34;&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;how-to-get-started-with-auto-remediation-in-grafana-cloud&#34;&gt;How to get started with auto-remediation in Grafana Cloud&lt;/h2&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/auto-remediation/architecture.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/auto-remediation/architecture.png&#34;data-srcset=&#34;/media/blog/auto-remediation/architecture.png?w=320 320w, /media/blog/auto-remediation/architecture.png?w=550 550w, /media/blog/auto-remediation/architecture.png?w=750 750w, /media/blog/auto-remediation/architecture.png?w=900 900w, /media/blog/auto-remediation/architecture.png?w=1040 1040w, /media/blog/auto-remediation/architecture.png?w=1240 1240w, /media/blog/auto-remediation/architecture.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana’s incident response and management architecture&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;846&#34;&#xA;title=&#34;*Grafana’s incident response and management architecture*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/auto-remediation/architecture.png&#34;&#xA;alt=&#34;Grafana’s incident response and management architecture&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;846&#34;&#xA;title=&#34;*Grafana’s incident response and management architecture*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;Grafana’s incident response and management architecture&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;To implement automated remediation workflows in Grafana Cloud, the key feature you&amp;rsquo;ll want to use is Grafana OnCall’s escalation chains. &lt;a href=&#34;/products/cloud/oncall/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana OnCall&lt;/a&gt; is part of Grafana IRM, both of which are included in Grafana Cloud at no additional cost. Follow the steps below to get started. Or, if you’re new to Grafana OnCall or want a foundational review, &lt;a href=&#34;/docs/oncall/latest/set-up/get-started/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;start here first instead&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Begin by &lt;a href=&#34;/docs/grafana-cloud/alerting-and-irm/oncall/configure/integrations/outgoing-webhooks/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;configuring an outgoing webhook&lt;/a&gt; to the system you want to trigger your automated remediation (i.e., GitHub Actions, IaC tooling)&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;In our example, we’ll configure an advanced outgoing webhook, triggering a GitHub Action.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1686px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/auto-remediation/outgoing-webhook.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/auto-remediation/outgoing-webhook.png&#34;data-srcset=&#34;/media/blog/auto-remediation/outgoing-webhook.png?w=320 320w, /media/blog/auto-remediation/outgoing-webhook.png?w=550 550w, /media/blog/auto-remediation/outgoing-webhook.png?w=750 750w, /media/blog/auto-remediation/outgoing-webhook.png?w=900 900w, /media/blog/auto-remediation/outgoing-webhook.png?w=1040 1040w, /media/blog/auto-remediation/outgoing-webhook.png?w=1240 1240w, /media/blog/auto-remediation/outgoing-webhook.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;New outgoing webhook menu&#34;&#xA;width=&#34;1686&#34;&#xA;height=&#34;1476&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/auto-remediation/outgoing-webhook.png&#34;&#xA;alt=&#34;New outgoing webhook menu&#34;&#xA;width=&#34;1686&#34;&#xA;height=&#34;1476&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;ol start=&#34;2&#34;&gt;&#xA;&lt;li&gt;Next, you’ll want to &lt;a href=&#34;/docs/grafana-cloud/alerting-and-irm/alerting/configure-notifications/manage-contact-points/integrations/webhook-notifier/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;define an escalation chain&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;In the escalation chain, select &lt;strong&gt;Trigger webhook&lt;/strong&gt; and then select the webhook you configured earlier.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1450px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/auto-remediation/scale-orders.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/auto-remediation/scale-orders.png&#34;data-srcset=&#34;/media/blog/auto-remediation/scale-orders.png?w=320 320w, /media/blog/auto-remediation/scale-orders.png?w=550 550w, /media/blog/auto-remediation/scale-orders.png?w=750 750w, /media/blog/auto-remediation/scale-orders.png?w=900 900w, /media/blog/auto-remediation/scale-orders.png?w=1040 1040w, /media/blog/auto-remediation/scale-orders.png?w=1240 1240w, /media/blog/auto-remediation/scale-orders.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Setting up trigger webhook in the UI&#34;&#xA;width=&#34;1450&#34;&#xA;height=&#34;468&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/auto-remediation/scale-orders.png&#34;&#xA;alt=&#34;Setting up trigger webhook in the UI&#34;&#xA;width=&#34;1450&#34;&#xA;height=&#34;468&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;Then, you’ll want to define a route matching the condition you’d like to trigger your automated remediation, and configure it to trigger the escalation chain you previously set up.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;Start with the integration that&amp;rsquo;s the source of your alerts and add a new route. In our example, we&amp;rsquo;ll use the routing template below to trigger our automated remediation:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{{ payload.commonLabels.app == &amp;#34;ecommerce&amp;#34; and payload.commonLabels.database == &amp;#34;orders-postgres&amp;#34; and payload.commonLabels.issue == &amp;#34;database-almost-full&amp;#34; and payload.commonLabels.automate == &amp;#34;yes&amp;#34; }}&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;&#xA;&lt;li&gt;Finally, we’ll configure our workflow to notify us via Slack, and trigger our automated remediation escalation chain.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/auto-remediation/slack-integration.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/auto-remediation/slack-integration.png&#34;data-srcset=&#34;/media/blog/auto-remediation/slack-integration.png?w=320 320w, /media/blog/auto-remediation/slack-integration.png?w=550 550w, /media/blog/auto-remediation/slack-integration.png?w=750 750w, /media/blog/auto-remediation/slack-integration.png?w=900 900w, /media/blog/auto-remediation/slack-integration.png?w=1040 1040w, /media/blog/auto-remediation/slack-integration.png?w=1240 1240w, /media/blog/auto-remediation/slack-integration.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Adding Slack integration in the UI&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;766&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/auto-remediation/slack-integration.png&#34;&#xA;alt=&#34;Adding Slack integration in the UI&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;766&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h2 id=&#34;start-implementing-auto-remediation-today&#34;&gt;Start implementing auto-remediation today&lt;/h2&gt;&#xA;&lt;p&gt;Auto-remediation workflows are a powerful technique to reduce engineer stress and improve reliability by automating repetitive tasks, reducing the time to resolution, and minimizing human error. Because Grafana IRM and Grafana Cloud are heavily composable, your engineers are able to get creative and stand up automations with the appropriate tools and context in which your team operates. Are you ready to build auto-remediation today?&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;&lt;a href=&#34;/products/cloud/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana Cloud&lt;/a&gt; is the easiest way to get started with metrics, logs, traces, dashboards, and more. We have a generous forever-free tier and plans for every use case. &lt;a href=&#34;/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Sign up for free now&lt;/a&gt;!&lt;/em&gt;&lt;/p&gt;】&lt;p&gt;当事件发生时，工程师必须立即采取行动，让系统恢复到最佳性能运行。然而，有无数的挑战可能阻止他们迅速解决问题。&lt;/p&gt;&#xA;&lt;p&gt;想象一个场景，DevOps 工程师团队管理一个基于云的电子商务平台，该平台在购物旺季期间偶尔会出现流量高峰。在其中一次重大销售活动期间，团队注意到多个关键应用程序服务器的 CPU 使用率急剧上升。尽管他们尽了最大努力手动扩展资源，但服务器仍难以应对流量激增，导致用户速度显着下降，并增加了收入损失的风险。&lt;/p&gt;&#xA;&lt;p&gt;在这种情况下，采取更主动的方法有助于提高弹性和可靠性。例如，如果团队针对高 CPU 使用率设置了自动修复触发器，系统将自动增加应用程序服务器实例的数量并重新分配传入流量，所有这些都无需人工干预。&lt;/p&gt;&#xA;&lt;p&gt;但不要将缺乏人工干预与团队中缺乏人员混为一谈。它只是减少了步骤，从而减少了辛苦工作，帮助您的工程师确保您组织的系统保持健康和可靠。让我们仔细看看您的团队如何以及何时使用 &lt;a href=&#34;/products/cloud/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana Cloud&lt;/a&gt; 和 &lt; a href=&#34;/products/cloud/irm/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana IRM&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;h2 id=&#34;what-are-some-common-use-cases-for-auto-remediation&#34;&gt;自动修复的一些常见用例是什么？&lt;/h2&gt;&#xA;&lt;p&gt;自动修复可以在多种用例中提供帮助，但以下是我们看到用户成功的一些主要用例：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;在过度使用之前添加资源。&lt;/strong&gt;自动修复可以根据使用模式和预测的需求峰值预先增加资源分配，确保即使在活动频繁期间也能顺利运行。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;自动重新启动失败的服务。&lt;/strong&gt;如果出现服务故障，自动修复功能可以自动检测并重新启动受影响的服务，从而最大限度地减少停机时间并保持系统可用性。​​&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;遇到网络错误时自动重新路由流量。&lt;/strong&gt;自动修复功能可以快速识别网络错误并将流量重新路由到备用路径或服务器，从而确保连接不间断并最大限度地减少服务中断。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;遇到应用程序错误时自动回滚部署。&lt;/strong&gt;如果部署后出现应用程序错误，自动修复功能可以自动回滚到稳定版本，防止大范围中断并保持服务可靠性。&lt;/strong&gt;李&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;when-should-i-start-building-auto-remediation-workflows-with-grafana-cloud&#34;&gt;我应该何时开始构建自动修复工作流使用 Grafana Cloud 吗？&lt;/h2&gt;&#xA;&lt;p&gt;在事件后审查期间，向您的团队询问以下问题：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;如果我们能够更快地做出响应（无需人工干预），我们是否可以避免这一事件？&lt;/li&gt;&#xA;&lt;li&gt;需要自动化哪些步骤才能实现这一目标？&lt;/li&gt;&#xA;&lt;li&gt;这可能会产生什么负面影响？这会导致其他问题吗？&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;当您确定通过自动化快速轻松地解决问题的低风险方法时，鼓励您的团队进行试验，看看它是否可以帮助您下​​次更快地解决问题。&lt;/p&gt;&#xA;&lt;div&#xA;类 =“youtube-lazyload 响应视频”&#xA;数据嵌入=“it-BCdo7hZg”&#xA;data-url=&#34;https://www.youtube.com/embed/it-BCdo7hZg?autoplay=1&amp;rel=0&#34;&#xA;数据标题=“YouTube 视频”&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;how-to-get-started-with-auto-remediation-in-grafana-cloud&#34;&gt;如何开始在 Grafana Cloud 中进行自动修复&lt;/h2&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/auto-remediation/architecture.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src =“/media/blog/auto-remediation/architecture.png”data-srcset =“/media/blog/auto-remediation/architecture.png？w = 320 320w，/media/blog/auto-remediation/ Architecture.png?w=550 550w，/media/blog/auto-remediation/architecture.png?w=750 750w，/media/blog/auto-remediation/architecture.png?w=900 900w，/media/blog/自动修复/architecture.png?w=1040 1040w，/media/blog/auto-remediation/architecture.png?w=1240 1240w，/media/blog/auto-remediation/architecture.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana 的事件响应和管理架构&#34;&#xA;宽度=“1999”&#xA;高度=“846”&#xA;title=&#34;*Grafana 的事件响应和管理架构*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/auto-remediation/architecture.png”&#xA;alt=&#34;Grafana 的事件响应和管理架构&#34;&#xA;宽度=“1999”&#xA;高度=“846”&#xA;title=&#34;*Grafana 的事件响应和管理架构*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;Grafana 的事件响应和管理架构&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;要在 Grafana Cloud 中实施自动修复工作流程，您需要使用的关键功能是 Grafana OnCall 的升级链。 &lt;a href=&#34;/products/cloud/oncall/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana OnCall&lt;/a&gt; 是 Grafana IRM 的一部分，两者都包含在 Grafana Cloud 中，无需额外付费。请按照以下步骤开始。或者，如果您是 Grafana OnCall 新手或想要进行基础审查，请先&lt;a href=&#34;/docs/oncall/latest/set-up/get-started/?pg=blog&amp;plcmt=body-txt&#34;&gt;从这里开始&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;首先&lt;a href=&#34;/docs/grafana-cloud/alerting-and-irm/oncall/configure/integrations/outgoing-webhooks/?pg=blog&amp;plcmt=body-txt&#34;&gt;配置 outgoing webhook&lt;/a&gt; 到您想要触发自动修复的系统（即 GitHub Actions、IaC 工具）&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;在我们的示例中，我们将配置一个高级传出 Webhook，触发 GitHub 操作。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1686px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/auto-remediation/outgoing-webhook.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/auto-remediation/outgoing-webhook.png&#34;data-srcset=&#34;/media/blog/auto-remediation/outgoing-webhook.png?w=320 320w，/media/blog/自动修复/outgoing-webhook.png？w=550 550w，/media/blog/auto-remediation/outgoing-webhook.png？w=750 750w，/media/blog/auto-remediation/outgoing-webhook.png？ w=900 900w，/media/blog/auto-remediation/outgoing-webhook.png？w=1040 1040w，/media/blog/auto-remediation/outgoing-webhook.png？w=1240 1240w，/media/blog/自动修复/outgoing-webhook.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;新的传出 webhook 菜单&#34;&#xA;宽度=“1686”&#xA;高度=“1476”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/auto-remediation/outgoing-webhook.png”&#xA;alt=&#34;新的传出 webhook 菜单&#34;&#xA;宽度=“1686”&#xA;高度=“1476”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;ol开始=“2”&gt;&#xA;&lt;li&gt;接下来，您需要&lt;a href=&#34;/docs/grafana-cloud/alerting-and-irm/alerting/configure-notifications/manage-contact-points/integrations/webhook-notifier/?pg=blog&amp;plcmt =body-txt&#34;&gt;定义升级链&lt;/a&gt;。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;在升级链中，选择&lt;strong&gt;触发 Webhook&lt;/strong&gt;，然后选择您之前配置的 Webhook。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1450px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/auto-remediation/scale-orders.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/auto-remediation/scale-orders.png”data-srcset =“/media/blog/auto-remediation/scale-orders.png？w = 320 320w，/media/blog/自动修复/scale-orders.png？w=550 550w，/media/blog/auto-remediation/scale-orders.png？w=750 750w，/media/blog/auto-remediation/scale-orders.png？ w=900 900w，/media/blog/auto-remediation/scale-orders.png？w=1040 1040w，/media/blog/auto-remediation/scale-orders.png？w=1240 1240w，/media/blog/自动修复/scale-orders.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;在 UI 中设置触发器 webhook&#34;&#xA;宽度=“1450”&#xA;高度=“468”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/auto-remediation/scale-orders.png”&#xA;alt=&#34;在 UI 中设置触发 webhook&#34;&#xA;宽度=“1450”&#xA;高度=“468”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;ol开始=“3”&gt;&#xA;&lt;li&gt;然后，您需要定义一条与您想要触发自动修复的条件相匹配的路线，并将其配置为触发您之前设置的升级链。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;开始与警报来源的集成并添加新路线。在我们的示例中，我们将使用下面的路由模板来触发自动修复：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;{{ Payload.commonLabels.app == “电子商务” 和 Payload.commonLabels.database == “orders-postgres” 和 Payload.commonLabels。问题==“数据库几乎已满”和payload.commonLabels.automate ==“是”}}&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;ol开始=“4”&gt;&#xA;&lt;li&gt;最后，我们将配置工作流程以通过 Slack 通知我们，并触发我们的自动修复升级链。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/auto-remediation/slack-integration.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/auto-remediation/slack-integration.png”data-srcset =“/media/blog/auto-remediation/slack-integration.png？w = 320 320w，/media/blog/自动修复/slack-integration.png？w=550 550w，/media/blog/auto-remediation/slack-integration.png？w=750 750w，/media/blog/auto-remediation/slack-integration.png？ w=900 900w，/media/blog/auto-remediation/slack-integration.png？w=1040 1040w，/media/blog/auto-remediation/slack-integration.png？w=1240 1240w，/media/blog/自动修复/slack-integration.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;在 UI 中添加 Slack 集成&#34;&#xA;宽度=“1999”&#xA;高度=“766”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/auto-remediation/slack-integration.png”&#xA;alt=&#34;在 UI 中添加 Slack 集成&#34;&#xA;宽度=“1999”&#xA;高度=“766”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h2 id=&#34;start-implementing-auto-remediation-today&#34;&gt;立即开始实施自动修复&lt;/h2&gt;&#xA;&lt;p&gt;自动修复工作流程是一种强大的技术，可以通过自动执行重复任务、缩短解决时间并最大限度地减少人为错误来减轻工程师压力并提高可靠性。由于 Grafana IRM 和 Grafana Cloud 具有很强的可组合性，因此您的工程师能够利用适当的工具和团队运作的环境发挥创造力并实现自动化。您今天准备好构建自动修复了吗？&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;&lt;a href=&#34;/products/cloud/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana Cloud&lt;/a&gt; 是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。 &lt;a href=&#34;/auth/sign-up/create-user/?pg=blog&amp;plcmt=body-txt&#34;&gt;立即免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description>
      <pubDate>Mon, 30 Sep 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Grafana&#39;s Prometheus libraries: How we built libraries to create a truly vendor-neutral data source】Grafana 的 Prometheus 库：我们如何构建库来创建真正的供应商中立的数据源</title>
      <link>https://grafana.com/blog/2024/10/10/grafanas-prometheus-libraries-how-we-built-libraries-to-create-a-truly-vendor-neutral-data-source/</link>
      <description>【&lt;p&gt;Over the summer we told you about an &lt;a href=&#34;/blog/2024/08/06/prometheus-data-source-update-redefining-our-big-tent-philosophy/&#34;&gt;update to our core Prometheus data source&lt;/a&gt;, which was part of a larger shift in our effort to meet users where they are. It&amp;rsquo;s a change we&amp;rsquo;re really excited about, as it represents our biggest step yet toward enabling the creation of truly vendor-neutral data sources for Grafana.&lt;/p&gt;&#xA;&lt;p&gt;As part of this effort, we deprecated AWS authentication from the original Prometheus data source, and we created a new dedicated &lt;a href=&#34;/grafana/plugins/grafana-amazonprometheus-datasource/&#34;&gt;Amazon Managed Service for Prometheus data source plugin&lt;/a&gt; that will specifically cater to the AWS use case. At the same time, we kept both data sources working by building the libraries they could consume. In fact, we made all the changes to the core Prometheus data source without introducing any instability.&lt;/p&gt;&#xA;&lt;p&gt;We remain committed to being good stewards for the open source community, so we want to be transparent about the process. In this blog, we&amp;rsquo;ll recap what went into this project, in the hopes of inspiring the community to put this Prometheus library code to use in new and exciting ways. We also want to encourage other engineers—internally and externally—to do the same so Grafana can support better observability for third-party data sources, with code that&amp;rsquo;s reusable and independent from the Grafana release cycle.&lt;/p&gt;&#xA;&lt;h2 id=&#34;rethinking-grafana-data-sources&#34;&gt;Rethinking Grafana data sources&lt;/h2&gt;&#xA;&lt;p&gt;Before we get into the details of how we made this a reality, we first want to provide a bit more context on this project itself and how it ultimately affects our users.&lt;/p&gt;&#xA;&lt;p&gt;We went into this looking to decouple our Prometheus data source from Grafana so others could develop their own custom Prometheus data sources tailored to their specific needs. We did this by:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Streamlining the core functionalities of the data source&lt;/li&gt;&#xA;&lt;li&gt;Fixing issues that resulted from coupling the core data source with Grafana ,such as imported code issues and custom code that was not related directly to Prometheus (e.g., AWS authentication)&lt;/li&gt;&#xA;&lt;li&gt;Creating libraries so additional vendors could reuse the shared code&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Until now, Prometheus development in Grafana was tightly coupled with the core Grafana application. If you wanted to access the data source, you had to build inside Grafana and use code that was only available in our &lt;a href=&#34;https://github.com/grafana/grafana&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;GitHub repo&lt;/a&gt;. But now, you can leverage the data source code in external applications and create new Grafana data sources based on Prometheus.&lt;/p&gt;&#xA;&lt;p&gt;You can also create new &lt;a href=&#34;/developers/scenes/&#34;&gt;Scenes apps&lt;/a&gt; that integrate with Prometheus code but aren&amp;rsquo;t exclusive to Prometheus. Plus, you get access to custom functions like the Prometheus query parser that handles Grafana variables as well as the custom rate interval function.&lt;/p&gt;&#xA;&lt;p&gt;Ultimately, this work should give the broader Grafana community confidence as it adheres to good engineering principles that will set us up for better growth and success in the future:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Do not repeat yourself (DRY):&lt;/strong&gt; The core Prometheus data source and the Amazon Managed Service for Prometheus plugin share a majority of their code from the libraries. But because we used the libraries, we didn&amp;rsquo;t have to copy this code and use it in both. (Currently both data sources share a majority of functionality with regard to queries, variables, annotations, and most of the configuration. The main difference today is in the configuration, specifically the authentication section. The Prometheus data source has deprecated AWS SigV4 authentication and and the Amazon Managed Service for Prometheus plugin only offers SigV4 authentication.)&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Modularity:&lt;/strong&gt; The library allows for reuse and replacement of parts that can be used in other projects or data sources, which is essential for application scalability.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;CI/CD:&lt;/strong&gt; Our release process for this has already improved, and it will continue to do so as we iterate over time.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;how-we-made-it-happen&#34;&gt;How we made it happen&lt;/h2&gt;&#xA;&lt;p&gt;For the remainder of this post, we&amp;rsquo;ll focus on the work that went into this project and what we have planned going forward.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1200px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/prometheus-data-source/prometheus-data-source-diagram.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/prometheus-data-source/prometheus-data-source-diagram.png&#34;data-srcset=&#34;/media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=320 320w, /media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=550 550w, /media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=750 750w, /media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=900 900w, /media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=1040 1040w, /media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=1240 1240w, /media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;&#34;&#xA;width=&#34;1200&#34;&#xA;height=&#34;628&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/prometheus-data-source/prometheus-data-source-diagram.png&#34;&#xA;alt=&#34;&#34;&#xA;width=&#34;1200&#34;&#xA;height=&#34;628&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h3 id=&#34;the-challenge-at-hand&#34;&gt;The challenge at hand&lt;/h3&gt;&#xA;&lt;p&gt;The Prometheus data source has long existed as subfolders inside the Grafana application. It included all sorts of code from Grafana, and over time the data source made its way into many features related to our OSS projects, including Grafana Loki, Explore, and Grafana Alerting.&lt;/p&gt;&#xA;&lt;p&gt;The code, however, couldn&amp;rsquo;t be reused outside Grafana, so over time custom configurations were added to accommodate third-party vendors. For example, the code config had logic that enabled AWS users to create a Prometheus data source connection inside Grafana to query their Prometheus data in AWS. This code lived next to generic Prometheus code, even though AWS authentication was related to Amazon managed services, not OSS Prometheus.&lt;/p&gt;&#xA;&lt;p&gt;But when the idea was first proposed a little over a year ago, there was reluctance internally because of the heavy lift and requisite code changes. In fact, Grafana Labs had never undertaken a rewrite of this scale before. There are ~70,000 Prometheus queries in Grafana every day, and we were essentially suggesting that we tear out all the guts and put them somewhere—all without impacting that high volume of people who relied on it every day.&lt;/p&gt;&#xA;&lt;h3 id=&#34;building-a-poc&#34;&gt;Building a POC&lt;/h3&gt;&#xA;&lt;p&gt;We began with a research spike and proof of concept. POCs are critical for this type of work, as we needed to show stakeholders that it was actually possible. We also needed to establish a reasonable estimate of the work that would be required, and we needed everyone to have confidence that it was the right move.&lt;/p&gt;&#xA;&lt;p&gt;We used the existing code scaffolding to support the creation of new external data sources, such as the Amazon Managed Service for Prometheus plugin. We copied and pasted the core frontend code and the backend code into the new data source. We also eliminated over 250 import errors, and we created workarounds where those fixes weren&amp;rsquo;t enough, which will be addressed in the months ahead now that the code is stable.&lt;/p&gt;&#xA;&lt;p&gt;We configured the data source successfully. Then we successfully queried the new data source, proving the work was doable.&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;If you want a closer look at what went into this, check out these links:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;We created the plugin with scaffolding with the &lt;a href=&#34;https://github.com/grafana/grafana-amazonprometheus-datasource&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;code&gt;create-plugin&lt;/code&gt; CLI&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;li&gt;We created the actual AMP repository &lt;a href=&#34;https://github.com/grafana/grafana-amazonprometheus-datasource&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;li&gt;The &lt;a href=&#34;https://github.com/grafana/grafana-amazonprometheus-datasource/commit/2f929f2f5ce6abca82b8f2ecd4ebd0e320c94602&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;initial commit&lt;/a&gt; for the repository was started on Sept. 21, 2023.&lt;/li&gt;&#xA;&lt;li&gt;The branch to test everything was working &lt;a href=&#34;https://github.com/grafana/grafana-amazonprometheus-datasource/tree/bohandley/test-for-everything-works-but-dont-merge-this&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;here&lt;/a&gt;, as of Oct. 20, 2024.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;We plan to do the same update in regards to Prometheus and Microsoft Azure, and we will continue to explore how to make other data sources in the Grafana ecosystem more purpose-built over time.&lt;/p&gt;&#xA;&lt;h3 id=&#34;splitting-responsibilities-and-cutting-code&#34;&gt;Splitting responsibilities and cutting code&lt;/h3&gt;&#xA;&lt;p&gt;Once we got buy-in from the rest of the org, we decided to split the duties so we could work simultaneously. (Brendan on the frontend; Ismail worked on the backend.) This decision saved us at least six months of time and gave us additional confidence knowing two sets of eyes were checking the changes.&lt;/p&gt;&#xA;&lt;p&gt;Along the way, Ismail removed &lt;strong&gt;more than 3,000 lines of legacy code&lt;/strong&gt;, which improved readability, reduced the size of the codebase, and ultimately made it easier to maintain.&lt;/p&gt;&#xA;&lt;p&gt;We looked at multiple ways to separate the frontend and backend code:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Create a separate repo only for backend code&lt;/li&gt;&#xA;&lt;li&gt;Move all the frontend and backend code into an entirely new repo&lt;/li&gt;&#xA;&lt;li&gt;Create workspaces&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;We went with the third option, as the other two would have created more problems. As a result, we introduced &lt;a href=&#34;https://go.dev/ref/mod#workspaces&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;GoLang workspaces&lt;/a&gt; to the &lt;code&gt;grafana/grafana&lt;/code&gt; repository for the first time. We started by making a small package as a module to test, then we updated our build pipeline in Grafana and our linting code. We also made a Prometheus backend as a module and iterated from there.&lt;/p&gt;&#xA;&lt;p&gt;By having Go modules, we improved our &lt;code&gt;grafana/grafana&lt;/code&gt; repo and allowed other engineers to have their own modules inside &lt;code&gt;grafana/grafana&lt;/code&gt;. So while the code is still in one place, it&amp;rsquo;s separated thanks to go workspaces, giving us separate versioning and total control of our code.&lt;/p&gt;&#xA;&lt;h3 id=&#34;testing-our-pipelines&#34;&gt;Testing our pipelines&lt;/h3&gt;&#xA;&lt;p&gt;From there, we worked on our CI testing so we had confidence that switching to the frontend package and backend library wouldn&amp;rsquo;t break any functionality and to ensure the Prometheus data source everyone knows and loves remains dependable. We also increased our end-to-end testing coverage by roughly 5x to cover all significant parts of the query editor, annotations, and configuration editor. Once we switched over and the tests were green and the queries still worked, we were assured that the data source would continue to work seamlessly for users.&lt;/p&gt;&#xA;&lt;p&gt;We also worked on our CI/CD pipeline by switching from custom actions to GitHub workflow. We did this so we could run tests on multiple versions of Grafana, improve code quality, improve compatibility with other plugins, and make it easier to release plugins across multiple dev environments.&lt;/p&gt;&#xA;&lt;h3 id=&#34;keeping-the-lights-on&#34;&gt;Keeping the lights on&lt;/h3&gt;&#xA;&lt;p&gt;As we mentioned earlier, we were able to keep the core Prometheus data source running as we built these libraries. However, it wasn&amp;rsquo;t entirely seamless behind the scenes. For example, we decided to pause building any new features and performance upgrades in the code while we did our work.&lt;/p&gt;&#xA;&lt;p&gt;We used this opportunity to switch to default support for label values with &lt;code&gt;match[ ]&lt;/code&gt; parameter endpoints, but that surfaced some bugs that we had to address. We also exposed a bug when we noticed some backend functionality hadn&amp;rsquo;t been migrated during previous work done on the core Prometheus data source.&lt;/p&gt;&#xA;&lt;p&gt;Still, we were able to address these without any noticeable impact on users, and we made sure any of the core Prometheus users didn&amp;rsquo;t have to make any changes on their end as a result of our work.&lt;/p&gt;&#xA;&lt;h3 id=&#34;the-final-result&#34;&gt;The final result&lt;/h3&gt;&#xA;&lt;p&gt;Collectively, the work took roughly six months and required two dedicated engineers and regular check-ins with other stakeholders. And when we were confident the work was ready for production, we published the libraries so we could use them in our Prometheus data source and our external Amazon Managed Service for Prometheus plugin. (Check out &lt;a href=&#34;/blog/2024/08/06/prometheus-data-source-update-redefining-our-big-tent-philosophy/&#34;&gt;our blog post&lt;/a&gt; from earlier this summer for more details on how to use the Amazon Managed Service for Prometheus plugin, why they should, how they can and what they need to do to migrate.)&lt;/p&gt;&#xA;&lt;h2 id=&#34;whats-next&#34;&gt;What&amp;rsquo;s next&lt;/h2&gt;&#xA;&lt;p&gt;It was a lot of work to get to this point, but we&amp;rsquo;re not done yet. Next, we&amp;rsquo;ll create the versioning strategy for the frontend and backend libraries, and we&amp;rsquo;ll build more Prometheus data sources for other vendors.&lt;/p&gt;&#xA;&lt;p&gt;More than anything, we want to hear from you! How will you use the libraries? How can we improve them to make them more useful? What would you like exported from the libraries?&lt;/p&gt;&#xA;&lt;p&gt;To share your feedback, you can create issues directly in GitHub via the appropriate repo: &lt;a href=&#34;https://www.npmjs.com/package/@grafana/prometheus&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;@grafana/prometheus&lt;/a&gt; for frontend, &lt;a href=&#34;https://pkg.go.dev/github.com/grafana/grafana/pkg/promlib&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;pkg/promlib&lt;/a&gt; for backend. We&amp;rsquo;ve also &lt;a href=&#34;https://github.com/grafana/grafana/pulls?q=is%3Apr&amp;#43;label%3Agrafana%2Fprometheus-library&amp;#43;is%3Aclosed&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;created a list of major PRs and proof of concept PRs&lt;/a&gt; we used to make the libraries. We have added the GitHub label &amp;ldquo;prometheus-library&amp;rdquo; to organize them. If you are interested in adding to our work, please create an issue and tag it with the &amp;ldquo;prometheus-library&amp;rdquo; label.&lt;/p&gt;】&lt;p&gt;今年夏天，我们向您介绍了&lt;a href=&#34;/blog/2024/08/06/prometheus-data-source-update-redefining-our-big-tent-philosophy/&#34;&gt;我们的核心 Prometheus 的更新数据源&lt;/a&gt;，这是我们为满足用户所在位置而做出的更大转变的一部分。我们对这一变化感到非常兴奋，因为它代表了我们在为 Grafana 创建真正的供应商中立数据源方面迈出的最大一步。&lt;/p&gt;&#xA;&lt;p&gt;作为这项工作的一部分，我们弃用了原始 Prometheus 数据源的 AWS 身份验证，并为 Prometheus 数据创建了一个新的专用 &lt;a href=&#34;/grafana/plugins/grafana-amazonprometheus-datasource/&#34;&gt;Amazon Managed Service专门针对 AWS 使用案例的源插件&lt;/a&gt;。同时，我们通过构建它们可以使用的库来保持两个数据源的正常运行。事实上，我们对核心 Prometheus 数据源进行了所有更改，而没有引入任何不稳定。&lt;/p&gt;&#xA;&lt;p&gt;我们仍然致力于成为开源社区的好管家，因此我们希望流程保持透明。在这篇博客中，我们将回顾这个项目的内容，希望激励社区以新的、令人兴奋的方式使用这个 Prometheus 库代码。我们还希望鼓励内部和外部的其他工程师也这样做，以便 Grafana 可以使用可重用且独立于 Grafana 发布周期的代码来支持更好的第三方数据源可观察性。&lt;/p&gt;&#xA;&lt;h2 id=&#34;rethinking-grafana-data-sources&#34;&gt;重新思考 Grafana 数据源&lt;/h2&gt;&#xA;&lt;p&gt;在详细介绍如何实现这一目标之前，我们首先想提供有关该项目本身的更多背景信息以及它最终如何影响我们的用户。&lt;/p&gt;&#xA;&lt;p&gt;我们致力于将 Prometheus 数据源与 Grafana 分离，以便其他人可以根据自己的特定需求开发自己的自定义 Prometheus 数据源。我们通过以下方式做到了这一点：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;简化数据源的核心功能&lt;/li&gt;&#xA;&lt;li&gt;修复因核心数据源与 Grafana 耦合而导致的问题，例如导入代码问题以及与 Prometheus 不直接相关的自定义代码（例如 AWS 身份验证）&lt;/li&gt;&#xA;&lt;li&gt;创建库，以便其他供应商可以重用共享代码&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;到目前为止，Grafana 中的 Prometheus 开发与核心 Grafana 应用程序紧密结合。如果您想访问数据源，则必须在 Grafana 内部构建并使用仅在我们的 &lt;a href=&#34;https://github.com/grafana/grafana&#34; target=&#34;_blank&#34; rel=&#34;noopener 中可用的代码noreferrer&#34;&gt;GitHub 存储库&lt;/a&gt;。但现在，您可以利用外部应用程序中的数据源代码，并基于 Prometheus 创建新的 Grafana 数据源。&lt;/p&gt;&#xA;&lt;p&gt;您还可以创建与 Prometheus 代码集成但并非 Prometheus 独有的新&lt;a href=&#34;/developers/scenes/&#34;&gt;场景应用&lt;/a&gt;。另外，您还可以访问自定义函数，例如处理 Grafan 的 Prometheus 查询解析器a 变量以及自定义速率间隔函数。&lt;/p&gt;&#xA;&lt;p&gt;最终，这项工作应该给更广泛的 Grafana 社区带来信心，因为它遵循良好的工程原则，这将为我们未来更好的发展和成功奠定基础：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;不要重复 (DRY)：&lt;/strong&gt; 核心 Prometheus 数据源和 Amazon Managed Service for Prometheus 插件共享库中的大部分代码。但因为我们使用了这些库，所以我们不必复制此代码并在两者中使用它。 （目前，两个数据源在查询、变量、注释和大部分配置方面共享大部分功能。今天的主要区别在于配置，特别是身份验证部分。Prometheus 数据源已弃用 AWS SigV4 身份验证，并且Amazon Managed Service for Prometheus 插件仅提供 SigV4 身份验证。）&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;模块化&lt;/strong&gt;：该库允许重用和替换可在其他项目或数据源中使用的部件，这对于应用程序的可扩展性至关重要。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;CI/CD&lt;/strong&gt;：我们的发布流程已经得到改进，并且随着时间的推移，我们将继续改进。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;how-we-made-it-happen&#34;&gt;我们如何实现这一目标&lt;/h2&gt;&#xA;&lt;p&gt;在本文的其余部分，我们将重点关注该项目的工作以及我们未来的计划。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1200px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/prometheus-data-source/prometheus-data-source-diagram.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/prometheus-data-source/prometheus-data-source-diagram.png”data-srcset =“/media/blog/prometheus-data-source/prometheus-data-source-diagram。 png?w=320 320w，/media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=550 550w，/media/blog/prometheus-data-source/prometheus-data-source-图.png?w=750 750w，/media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=900 900w，/media/blog/prometheus-data-source/prometheus-data- source-diagram.png?w=1040 1040w，/media/blog/prometheus-data-source/prometheus-data-source-diagram.png?w=1240 1240w，/media/blog/prometheus-data-source/prometheus-数据源图.png?w=1920 1920w&#34;&#xA;数据大小=“自动”alt=“”&#xA;宽度=“1200”&#xA;高度=“628”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/prometheus-data-source/prometheus-data-source-diagram.png”&#xA;替代=“”&#xA;宽度=“1200”&#xA;高度=“628”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h3 id=&#34;the-challenge-at-hand&#34;&gt;眼前的挑战&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus 数据源长期以来作为 Grafana 应用程序内的子文件夹存在。它包含来自 Grafana 的各种代码，随着时间的推移，该数据源进入了与我们的 OSS 项目相关的许多功能中cts，包括 Grafana Loki、Explore 和 Grafana Alerting。&lt;/p&gt;&#xA;&lt;p&gt;但是，该代码无法在 Grafana 之外重用，因此随着时间的推移，添加了自定义配置以适应第三方供应商。例如，代码配置的逻辑使 AWS 用户能够在 Grafana 内创建 Prometheus 数据源连接，以查询 AWS 中的 Prometheus 数据。该代码位于通用 Prometheus 代码旁边，尽管 AWS 身份验证与 Amazon 托管服务相关，而不是 OSS Prometheus。&lt;/p&gt;&#xA;&lt;p&gt;但是，当一年多前首次提出这个想法时，由于工作量大且需要进行必要的代码更改，内部人士并不情愿。事实上，Grafana Labs 之前从未进行过如此规模的重写。 Grafana 每天有大约 70,000 个 Prometheus 查询，我们本质上是建议我们把所有的内容都拿出来放在某个地方——所有这些都不会影响每天依赖它的大量用户。&lt;/p&gt;&#xA;&lt;h3 id=&#34;building-a-poc&#34;&gt;构建 POC&lt;/h3&gt;&#xA;&lt;p&gt;我们从研究高峰和概念验证开始。 POC 对于此类工作至关重要，因为我们需要向利益相关者表明这实际上是可能的。我们还需要对所需的工作进行合理的估计，并且我们需要每个人都相信这是正确的举措。&lt;/p&gt;&#xA;&lt;p&gt;我们使用现有的代码脚手架来支持创建新的外部数据源，例如 Amazon Managed Service for Prometheus 插件。我们将核心前端代码和后端代码复制并粘贴到新的数据源中。我们还消除了 250 多个导入错误，并在这些修复还不够的地方创建了解决方法，既然代码已经稳定，这些问题将在未来几个月内得到解决。&lt;/p&gt;&#xA;&lt;p&gt;我们已成功配置数据源。然后我们成功查询了新的数据源，证明工作是可行的。&lt;/p&gt;&#xA;&lt;块引用&gt;&#xA;&lt;p&gt;如果您想仔细了解其中的内容，请查看以下链接：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;我们使用 &lt;a href=&#34;https://github.com/grafana/grafana-amazonprometheus-datasource&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;code&gt;create-plugin 创建了带有脚手架的插件&lt;/code&gt; CLI&lt;/a&gt;。&lt;/li&gt;&#xA;&lt;li&gt;我们在&lt;a href=&#34;https://github.com/grafana/grafana-amazonprometheus-datasource&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;此处&lt;/a&gt;创建了实际的 AMP 存储库。&lt;/李&gt;&#xA;&lt;li&gt;存储库的&lt;a href=&#34;https://github.com/grafana/grafana-amazonprometheus-datasource/commit/2f929f2f5ce6abca82b8f2ecd4ebd0e320c94602&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;初始提交&lt;/a&gt;于 2023 年 9 月 21 日开始。&lt;/li&gt;&#xA;&lt;li&gt;测试所有内容的分支都正常工作&lt;a href=&#34;https://github.com/grafana/grafana-amazonprometheus-datasource/tree/bohandley/test-for-everything-works-but-dont-merge-this “ target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;此处&lt;/a&gt;，截至 2024 年 10 月 20 日。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/块引用&gt;&#xA;&lt;p&gt;我们计划对 Prometheus 和 Microsoft Azure 进行相同的更新，并且我们将继续探索如何随着时间的推移使 Grafana 生态系统中的其他数据源变得更加专用。&lt;/p&gt;&#xA;&lt;h3 id=&#34;splitting-responsive-and-cutting-code&#34;&gt;职责划分和代码削减&lt;/h3&gt;&#xA;&lt;p&gt;一旦我们得到了组织其他成员的支持，我们就决定分担职责，这样我们就可以同时工作。 （Brendan 负责前端；Ismail 负责后端。）这个决定为我们节省了至少六个月的时间，并且让我们更有信心知道有两只眼睛正在检查更改。&lt;/p&gt;&#xA;&lt;p&gt;在此过程中，Ismail 删除了&lt;strong&gt;超过 3,000 行遗留代码&lt;/strong&gt;，从而提高了可读性，减小了代码库的大小，并最终使其更易于维护。&lt;/p&gt;&#xA;&lt;p&gt;我们研究了多种分离前端和后端代码的方法：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;仅为后端代码创建单独的存储库&lt;/li&gt;&#xA;&lt;li&gt;将所有前端和后端代码移至全新的存储库&lt;/li&gt;&#xA;&lt;li&gt;创建工作区&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;我们选择了第三个选项，因为其他两个选项会产生更多问题。因此，我们向 &lt;code&gt;grafana/ 引入了 &lt;a href=&#34;https://go.dev/ref/mod#workspaces&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;GoLang 工作区&lt;/a&gt;首次使用 grafana&lt;/code&gt; 存储库。我们首先制作一个小包作为要测试的模块，然后更新 Grafana 中的构建管道和 linting 代码。我们还制作了一个 Prometheus 后端作为一个模块，并从那里进行迭代。&lt;/p&gt;&#xA;&lt;p&gt;通过使用 Go 模块，我们改进了 &lt;code&gt;grafana/grafana&lt;/code&gt; 存储库，并允许其他工程师在 &lt;code&gt;grafana/grafana&lt;/code&gt; 中拥有自己的模块。因此，虽然代码仍然位于一处，但由于 Go 工作区，它是分开的，为我们提供了单独的版本控制和对代码的完全控制。&lt;/p&gt;&#xA;&lt;h3 id=&#34;testing-our-pipelines&#34;&gt;测试我们的管道&lt;/h3&gt;&#xA;&lt;p&gt;从那时起，我们开始进行 CI 测试，因此我们有信心切换到前端包和后端库不会破坏任何功能，并确保每个人都知道和喜爱的 Prometheus 数据源仍然可靠。我们还将端到端测试覆盖范围增加了大约 5 倍，以覆盖查询编辑器、注释和配置编辑器的所有重要部分。一旦我们切换并且测试通过并且查询仍然有效，我们就确信数据源将继续为用户无缝工作。&lt;/p&gt;&#xA;&lt;p&gt;我们还通过从自定义操作切换到 GitHub 工作流程来开发 CI/CD 管道。我们这样做是为了可以在多个版本的 Grafana 上运行测试，提高代码质量，提高与其他插件的兼容性，并使跨多个开发环境发布插件变得更容易。&lt;/p&gt;&#xA;&lt;h3 id=&#34;keeping-the-lights-on&#34;&gt;保持灯亮&lt;/h3&gt;&#xA;&lt;p&gt;正如我们之前提到的，在构建这些库时，我们能够保持核心 Prometheus 数据源的运行。然而，这在幕后并不是完全无缝的。例如，我们决定暂停构建任何新功能和性能升级在我们工作的同时编写代码。&lt;/p&gt;&#xA;&lt;p&gt;我们利用这个机会切换到对具有 &lt;code&gt;match[ ]&lt;/code&gt; 参数端点的标签值的默认支持，但这出现了一些我们必须解决的错误。当我们注意到在之前对核心 Prometheus 数据源所做的工作中某些后端功能尚未迁移时，我们还暴露了一个错误。&lt;/p&gt;&#xA;&lt;p&gt;尽管如此，我们还是能够在不对用户产生任何明显影响的情况下解决这些问题，并且我们确保任何核心 Prometheus 用户都不必因我们的工作而做出任何更改。&lt;/p&gt;&#xA;&lt;h3 id=&#34;the-final-result&#34;&gt;最终结果&lt;/h3&gt;&#xA;&lt;p&gt;总的来说，这项工作大约花费了六个月的时间，需要两名专门的工程师并定期与其他利益相关者进行检查。当我们确信工作已准备好投入生产时，我们发布了这些库，以便我们可以在 Prometheus 数据源和外部 Amazon Managed Service for Prometheus 插件中使用它们。 （查看今年夏天早些时候的&lt;a href=&#34;/blog/2024/08/06/prometheus-data-source-update-redefining-our-big-tent-philosophy/&#34;&gt;我们的博客文章&lt;/a&gt;了解更多信息有关如何使用 Amazon Managed Service for Prometheus 插件、为什么应该使用、如何使用以及需要做什么才能迁移的详细信息。）&lt;/p&gt;&#xA;&lt;h2 id=&#34;whats-next&#34;&gt;下一步是什么&lt;/h2&gt;&#xA;&lt;p&gt;为了达到这一点我们做了很多工作，但我们还没有完成。接下来，我们将为前端和后端库创建版本控制策略，并为其他供应商构建更多 Prometheus 数据源。&lt;/p&gt;&#xA;&lt;p&gt;最重要的是，我们希望收到您的来信！您将如何使用这些库？我们如何改进它们以使它们更有用？您想从库中导出什么？&lt;/p&gt;&#xA;&lt;p&gt;要分享您的反馈，您可以通过相应的存储库直接在 GitHub 中创建问题：&lt;a href=&#34;https://www.npmjs.com/package/@grafana/prometheus&#34; target=&#34;_blank&#34; rel=&#34; noopener noreferrer&#34;&gt;@grafana/prometheus&lt;/a&gt; 用于前端，&lt;a href=&#34;https://pkg.go.dev/github.com/grafana/grafana/pkg/promlib&#34; target=&#34;_blank&#34; rel=&#34; noopener noreferrer&#34;&gt;pkg/promlib&lt;/a&gt; 用于后端。我们还 &lt;a href=&#34;https://github.com/grafana/grafana/pulls?q=is%3Apr+label%3Agrafana%2Fprometheus-library+is%3Aheld&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;创建了我们用来制作库的主要 PR 和概念证明 PR 的列表。我们添加了 GitHub 标签“prometheus-library”来组织它们。如果您有兴趣添加到我们的工作中，请创建一个问题并使用“prometheus-library”标签对其进行标记。&lt;/p&gt;</description>
      <pubDate>Thu, 10 Oct 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Key Prometheus concepts every Grafana user should know】每个 Grafana 用户都应该了解的 Prometheus 关键概念</title>
      <link>https://grafana.com/blog/2024/10/11/key-prometheus-concepts-every-grafana-user-should-know/</link>
      <description>【&lt;p&gt;Prometheus has become an essential technology in the world of monitoring and observability. I&amp;rsquo;ve been aware of its importance for some time, but as a performance engineer, my experience with Prometheus had been limited to using it to store some metrics and visualize them in Grafana. Being a Grafanista, I felt I should dig deeper into Prometheus, knowing it had much more to offer than just being a place to throw performance test results.&lt;/p&gt;&#xA;&lt;p&gt;In seeking out great learning resources, nearly everyone—including &lt;a href=&#34;/author/richih/&#34;&gt;Richard &amp;ldquo;RichiH&amp;rdquo; Hartmann&lt;/a&gt;, one of our many internal experts on the subject—recommended the book &amp;ldquo;&lt;a href=&#34;https://www.oreilly.com/library/view/prometheus-up/9781098131135/?_gl=1*1rg7fvd*_ga*NzUzMDc3ODI2LjE3Mjg0MzQ2Njg.*_ga_092EL089CH*MTcyODQzNjcxMC4yLjEuMTcyODQzNjc3Mi41OC4wLjA.&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Prometheus Up &amp;amp; Running&lt;/a&gt;&amp;rdquo; by Prometheus server maintainer Julien Pivotto and core developer Brian Brazil.&lt;/p&gt;&#xA;&lt;p&gt;The book, which was first published in 2018 and re-released as a second edition last year, opened my eyes to the rich ecosystem that is Prometheus, revealing capabilities that go far beyond that of a simple database. These insights are crucial for anyone looking to deepen their understanding of Prometheus, particularly engineers like myself who initially had only a cursory knowledge. The lessons are especially important for Grafana users working with Prometheus data and Kubernetes, as they will benefit considerably from everything the book has to offer.&lt;/p&gt;&#xA;&lt;p&gt;In this blog post, I’ll share some of my key takeaways from the book that are particularly relevant to engineers working with Grafana. I hope this will spark your interest in reading the book, as this post is no substitute for the depth and detail it provides. So, let&amp;rsquo;s explore how the invaluable lessons from &amp;ldquo;Prometheus Up &amp;amp; Running&amp;rdquo; can enhance the way you manage and visualize your metrics.&lt;/p&gt;&#xA;&lt;h2 id=&#34;prometheus-is-more-than-just-a-database&#34;&gt;Prometheus is more than just a database&lt;/h2&gt;&#xA;&lt;p&gt;Before reading the book, I thought of Prometheus as just a time series database. But &amp;ldquo;Prometheus Up &amp;amp; Running&amp;rdquo; shattered that misconception, revealing that Prometheus is a robust monitoring framework. Yes, it excels at metric storage, but it also provides many more capabilities, including:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Mechanisms to scrape and retrieve metrics from diverse sources&lt;/li&gt;&#xA;&lt;li&gt;Powerful querying capabilities&lt;/li&gt;&#xA;&lt;li&gt;The ability to create rules and generate alerts from them&lt;/li&gt;&#xA;&lt;li&gt;Dynamic service discovery&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;We need to think of Prometheus as a multifunctional framework rather than just a database. This shift in perspective allows us to fully utilize it and exploit its comprehensive range of components and features to enhance our observability practices.&lt;/p&gt;&#xA;&lt;p&gt;Let&amp;rsquo;s explore some of these components and features packed into Prometheus.&lt;/p&gt;&#xA;&lt;h2 id=&#34;prometheus-components-you-should-know&#34;&gt;Prometheus components you should know&lt;/h2&gt;&#xA;&lt;p&gt;Of course, the time-based database component in Prometheus is powerful and best known for efficiently storing and retrieving time-series data. Optimized to handle high-cardinality metrics, the database is designed for excellent performance under heavy load and huge volumes of data, making it ideal for real-time monitoring and observability.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1844px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/key-prometheus-concepts/Prometheus-architecture.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/key-prometheus-concepts/Prometheus-architecture.png&#34;data-srcset=&#34;/media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=320 320w, /media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=550 550w, /media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=750 750w, /media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=900 900w, /media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=1040 1040w, /media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=1240 1240w, /media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;The Prometheus architecture, as displayed in &amp;#39;Prometheus Up and Running&amp;#39;&#34;&#xA;width=&#34;1844&#34;&#xA;height=&#34;1040&#34;&#xA;title=&#34;*Source: Brian Brazil and Julien Pivotto, from &amp;#39;Prometheus Up &amp;amp; Running, 2nd Edition,&amp;#39; 2023, O&amp;#39;Reilly Media, Inc.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/key-prometheus-concepts/Prometheus-architecture.png&#34;&#xA;alt=&#34;The Prometheus architecture, as displayed in &amp;#39;Prometheus Up and Running&amp;#39;&#34;&#xA;width=&#34;1844&#34;&#xA;height=&#34;1040&#34;&#xA;title=&#34;*Source: Brian Brazil and Julien Pivotto, from &amp;#39;Prometheus Up &amp;amp; Running, 2nd Edition,&amp;#39; 2023, O&amp;#39;Reilly Media, Inc.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 text-right &#34;&gt;&lt;em&gt;Source: Brian Brazil and Julien Pivotto, from &amp;lsquo;Prometheus Up &amp;amp; Running, 2nd Edition,&amp;rsquo; 2023, O&amp;rsquo;Reilly Media, Inc.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;But as you can see from the diagram above, there&amp;rsquo;s more to Prometheus. Next, let&amp;rsquo;s get a quick overview of Prometheus&amp;rsquo; other elements.&lt;/p&gt;&#xA;&lt;h3 id=&#34;instrumentation-and-client-libraries&#34;&gt;Instrumentation and client libraries&lt;/h3&gt;&#xA;&lt;p&gt;A key aspect of Prometheus is instrumentation—the mechanisms to extract metrics. Prometheus provides several ways to do this. It has &lt;a href=&#34;https://prometheus.io/docs/instrumenting/clientlibs/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;client libraries&lt;/a&gt; available for several programming languages, allowing you to seamlessly instrument your code. This simplifies the process of exposing metrics so Prometheus can easily scrape them.&lt;/p&gt;&#xA;&lt;h3 id=&#34;node-exporter&#34;&gt;Node exporter&lt;/h3&gt;&#xA;&lt;p&gt;Need OS-level metrics? Prometheus comes to the rescue with the &lt;a href=&#34;https://github.com/prometheus/node_exporter&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;node exporter&lt;/a&gt;, offering visibility into CPU, memory, and disk usage. It&amp;rsquo;s a go-to resource for hardware-level monitoring and ensures you have a clear view of system health.&lt;/p&gt;&#xA;&lt;h3 id=&#34;service-discovery&#34;&gt;Service discovery&lt;/h3&gt;&#xA;&lt;p&gt;In today’s dynamic cloud environments, whether you&amp;rsquo;re using Kubernetes, Consul, or plain DNS, &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/http_sd/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;service discovery&lt;/a&gt; helps automatically detect and monitor new instances as they come online. This makes Prometheus highly adaptable to ever-changing environments.&lt;/p&gt;&#xA;&lt;h3 id=&#34;general-exporters&#34;&gt;General exporters&lt;/h3&gt;&#xA;&lt;p&gt;We&amp;rsquo;ve seen easy instrumentation with client libraries and node exporters, but for everything else, general exporters come to the rescue. When direct instrumentation isn&amp;rsquo;t possible, general exporters expose metrics from diverse sources like databases, message brokers, or even with the &lt;a href=&#34;https://github.com/prometheus/blackbox_exporter&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;blackbox exporter&lt;/a&gt;, which allows you to monitor services from an external vantage point.&lt;/p&gt;&#xA;&lt;h3 id=&#34;promql&#34;&gt;PromQL&lt;/h3&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/basics/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;PromQL&lt;/a&gt; is at the core of Prometheus’s querying prowess. It is a powerful querying language that allows you to retrieve, manipulate, and analyze your metrics using functions, operators, and aggregations. It provides a versatile solution for your most complex querying needs.&lt;/p&gt;&#xA;&lt;h3 id=&#34;recording-rules&#34;&gt;Recording rules&lt;/h3&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Recording rules&lt;/a&gt; were one of the greatest elements I discovered while reading the book. These rules precompute expensive queries or frequently needed data, storing the results as new time series data. Using recording rules can speed up querying, pre-process data, and make results lighter, especially during peak usage.&lt;/p&gt;&#xA;&lt;h3 id=&#34;alerts&#34;&gt;Alerts&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus comes with powerful &lt;a href=&#34;https://prometheus.io/docs/alerting/latest/overview/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;alerting capabilities&lt;/a&gt;. By using alerting rules, much like recording rules, you can set conditions to trigger notifications. These alerts can be routed via Alertmanager to whatever alerting system you may have, such as email, Slack, or PagerDuty.&lt;/p&gt;&#xA;&lt;h2 id=&#34;grafana-the-default-recommendation&#34;&gt;Grafana: the default recommendation!&lt;/h2&gt;&#xA;&lt;p&gt;Prometheus has its own visualization functionalities in a web frontend that you can use to both perform queries in PromQL and visualize their results. However, there&amp;rsquo;s an interesting observation in the book on this subject: Even though Prometheus supports visualizations, the capabilities are not outstanding.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1600px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png&#34;data-srcset=&#34;/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=320 320w, /media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=550 550w, /media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=750 750w, /media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=900 900w, /media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=1040 1040w, /media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=1240 1240w, /media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A photo taken of the Grafana login screen as it appears on page 105 of &amp;#39;Prometheus Up and Running&amp;#39;&#34;&#xA;width=&#34;1600&#34;&#xA;height=&#34;1103&#34;&#xA;title=&#34;*A photo taken of the Grafana login screen as it appears on page 105 of &amp;#39;Prometheus Up &amp;amp; Running.&amp;#39;*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png&#34;&#xA;alt=&#34;A photo taken of the Grafana login screen as it appears on page 105 of &amp;#39;Prometheus Up and Running&amp;#39;&#34;&#xA;width=&#34;1600&#34;&#xA;height=&#34;1103&#34;&#xA;title=&#34;*A photo taken of the Grafana login screen as it appears on page 105 of &amp;#39;Prometheus Up &amp;amp; Running.&amp;#39;*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;A photo taken of the Grafana login screen as it appears on page 105 of &amp;lsquo;Prometheus Up &amp;amp; Running.&amp;rsquo;&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;This is where Grafana comes into the picture. In my admittedly biased opinion, one of the standout recommendations in &amp;ldquo;Prometheus Up &amp;amp; Running&amp;rdquo; is the use of Grafana as the premier visualization platform for Prometheus metrics. The book praises Grafana&amp;rsquo;s versatility in connecting to Prometheus, the ease of creating and executing PromQL queries, and its ability to transform complex, raw data into intuitive and beautiful dashboards.&lt;/p&gt;&#xA;&lt;h2 id=&#34;push-vs-pull&#34;&gt;Push vs. pull&lt;/h2&gt;&#xA;&lt;p&gt;A surprising discovery for me while reading the book was learning about the different data models in monitoring systems: push vs. pull. Throughout my career, I had always worked with databases where you submit data, queries, commands, and so on. Especially when storing metrics, all I used to do was send the metrics to the database.&lt;/p&gt;&#xA;&lt;p&gt;But Prometheus is different. Prometheus is designed to pull data from the targets it monitors.&lt;/p&gt;&#xA;&lt;p&gt;Think about it—if you are monitoring many items, it would be easy to overload the database. However, if you let the database pull the information at a manageable pace, you get enhanced reliability and flexibility!&lt;/p&gt;&#xA;&lt;p&gt;A key element is that the monitored entities must publish their metrics in a way that Prometheus can discover, access, and pull them. This is achieved through mechanisms like client libraries, node exporter, service discovery, and general exporters, as described earlier. By leveraging these components, Prometheus efficiently collects data without overwhelming the system, maintaining its robust performance.&lt;/p&gt;&#xA;&lt;p&gt;A final note here is that Prometheus can also work in the traditional push mechanism. For this, you have to tweak a few configuration settings. Although it can work that way, Prometheus was not designed for this, and the book advises against it.&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-more-than-just-queries&#34;&gt;PromQL: more than just queries&lt;/h2&gt;&#xA;&lt;p&gt;While PromQL is recognized for its strong (and for some, complex) querying capabilities, there is much more to it than just queries. PromQL includes extensive functions and operators that simplify complex calculations, aggregations, data transformations, and much more.&lt;/p&gt;&#xA;&lt;p&gt;Moreover, PromQL supports recording rules, which enable the precomputation of frequently used queries, thus optimizing performance. This also brings several solutions for common problems related to storing and displaying metrics. More on that in the next section.&lt;/p&gt;&#xA;&lt;p&gt;Finally, PromQL is crucial for the alerting system in Prometheus. You must define the rules that trigger alerts and notifications using PromQL queries. The possibilities are endless!&lt;/p&gt;&#xA;&lt;h2 id=&#34;cool-issue-solutions&#34;&gt;Cool issue solutions&lt;/h2&gt;&#xA;&lt;p&gt;As mentioned earlier, discovering PromQL&amp;rsquo;s support for recording rules opened up all sorts of solutions for problems I have faced in the past.&lt;/p&gt;&#xA;&lt;p&gt;First, when the granularity of your data becomes less important over time, keeping every single metric can be expensive. With recording rules, you can create a PromQL query to run regularly and consolidate the data. For example, you might not care about the minute-by-minute temperature for last summer—you may just want to store daily maximum, minimum, average, or variance metrics. Recording rules can aggregate these metrics into a new time series, allowing you to discard the excessively granular data from older periods.&lt;/p&gt;&#xA;&lt;p&gt;Another common issue I&amp;rsquo;ve faced while visualizing Prometheus data with Grafana is dealing with too many hyper-granular metrics. This can overload Grafana&amp;rsquo;s frontend, increase data loading times, or even make the user&amp;rsquo;s browser unresponsive due to the large volume of data points. By using recording rules, you can create a parallel time series with reduced granularity. This allows you to load, refresh, and display data more efficiently in Grafana, reserving the hyper-granular data for detailed zoom-ins.&lt;/p&gt;&#xA;&lt;p&gt;Since I learned about recording rules, they have become a particularly useful recommendation for many Grafana users I&amp;rsquo;ve meet with who are struggling with poor performance due to multitudes of metrics. They&amp;rsquo;re trying to find optimal ways to avoid having Grafana crash or become unresponsive from so much data being displayed, and recording rules have been a big help!&lt;/p&gt;&#xA;&lt;h2 id=&#34;read-the-bookseriously&#34;&gt;Read the book—seriously&lt;/h2&gt;&#xA;&lt;p&gt;If you weren&amp;rsquo;t already well-versed in Prometheus, I hope this post has given you some insights into its real powers and depth. It truly is a great observability platform that integrates beautifully with Grafana.&lt;/p&gt;&#xA;&lt;p&gt;Knowing and understanding all its strengths will make you a super observability engineer! I highly recommend that you check out the book &amp;ldquo;&lt;a href=&#34;https://www.oreilly.com/library/view/prometheus-up/9781098131135/?_gl=1*1rg7fvd*_ga*NzUzMDc3ODI2LjE3Mjg0MzQ2Njg.*_ga_092EL089CH*MTcyODQzNjcxMC4yLjEuMTcyODQzNjc3Mi41OC4wLjA.&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Prometheus Up &amp;amp; Running&lt;/a&gt;.&amp;rdquo; While this post&amp;rsquo;s objective was to shed light on these amazing details, to really learn and master Prometheus, there&amp;rsquo;s nothing better than the notes, exercises, and examples the book provides. It&amp;rsquo;s a great addition to any Grafana enthusiast&amp;rsquo;s library. Check it out!&lt;/p&gt;】&lt;p&gt;Prometheus 已成为监控和可观察领域的一项重要技术。我已经意识到它的重要性有一段时间了，但作为一名性能工程师，我使用 Prometheus 的经验仅限于使用它来存储一些指标并在 Grafana 中将它们可视化。作为一名 Grafanista，我觉得我应该更深入地研究 Prometheus，因为我知道它可以提供的不仅仅是一个抛出性能测试结果的地方。&lt;/p&gt;&#xA;&lt;p&gt;在寻找优秀的学习资源时，几乎每个人（包括我们该主题的众多内部专家之一理查德“RichiH”Hartmann）都推荐了这本书“ &lt;a href=&#34;https://www.oreilly.com/library/view/prometheus-up/9781098131135/?_gl=1*1rg7fvd*_ga*NzUzMDc3ODI2LjE3Mjg0MzQ2Njg.*_ga_092EL089CH*MTcyODQzNjcxMC4yLjEuMTcyODQzNjc 3Mi41OC4wLjA。” target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Prometheus 启动并运行&lt;/a&gt;”，作者：Prometheus 服务器维护者 Julien Pivoto 和核心开发人员 Brian Brazil。&lt;/p&gt;&#xA;&lt;p&gt;这本书于 2018 年首次出版，去年重新发布了第二版，让我看到了 Prometheus 丰富的生态系统，揭示了远远超出简单数据库的功能。这些见解对于任何想要加深对 Prometheus 的理解的人来说都是至关重要的，特别是像我这样最初只有粗略知识的工程师。这些课程对于使用 Prometheus 数据和 Kubernetes 的 Grafana 用户尤其重要，因为他们将从本书提供的所有内容中受益匪浅。&lt;/p&gt;&#xA;&lt;p&gt;在这篇博文中，我将分享本书中的一些主要内容，这些内容与使用 Grafana 的工程师特别相关。我希望这能激发您阅读这本书的兴趣，因为这篇文章无法替代它所提供的深度和细节。因此，让我们探讨一下“Prometheus 启动和运行”中的宝贵经验如何增强您管理和可视化指标的方式。&lt;/p&gt;&#xA;&lt;h2 id=&#34;prometheus-is-more-than-just-a-database&#34;&gt;Prometheus 不仅仅是一个数据库&lt;/h2&gt;&#xA;&lt;p&gt;在读这本书之前，我认为 Prometheus 只是一个时间序列数据库。但《Prometheus Up &amp; Running》打破了这种误解，揭示了 Prometheus 是一个强大的监控框架。是的，它在指标存储方面表现出色，但它还提供了更多功能，包括：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;从不同来源抓取和检索指标的机制&lt;/li&gt;&#xA;&lt;li&gt;强大的查询功能&lt;/li&gt;&#xA;&lt;li&gt;能够创建规则并从中生成警报&lt;/li&gt;&#xA;&lt;li&gt;动态服务发现&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;我们需要将 Prometheus 视为一个多功能框架，而不仅仅是一个数据库。这种视角的转变使我们能够充分利用它并利用其全面的组件和功能来增强我们的可观察性实践。&lt;/p&gt;&#xA;&lt;p&gt;让我们探索 Prometheus 中包含的一些组件和功能。&lt;/p&gt;&#xA;&lt;h2 ID=&#34;prometheus-components-you-should-know&#34;&gt;您应该了解的 Prometheus 组件&lt;/h2&gt;&#xA;&lt;p&gt;当然，Prometheus 中基于时间的数据库组件非常强大，并且以高效存储和检索时间序列数据而闻名。该数据库针对处理高基数指标进行了优化，在重负载和海量数据下具有出色的性能，使其成为实时监控和可观察性的理想选择。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1844px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/key-prometheus-concepts/Prometheus-architecture.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src =“/media/blog/key-prometheus-concepts/Prometheus-architecture.png”data-srcset =“/media/blog/key-prometheus-concepts/Prometheus-architecture.png？w = 320 320w，/媒体/博客/key-prometheus-concepts/Prometheus-architecture.png？w=550 550w，/media/blog/key-prometheus-concepts/Prometheus-architecture.png？w=750 750w，/media/blog/key- prometheus-concepts/Prometheus-architecture.png?w=900 900w，/media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=1040 1040w，/media/blog/key-prometheus-concepts/Prometheus-架构.png?w=1240 1240w，/media/blog/key-prometheus-concepts/Prometheus-architecture.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Prometheus 架构，如“Prometheus 启动并运行”中所示”&#xA;宽度=“1844”&#xA;高度=“1040”&#xA;title=&#34;*资料来源：Brian Brazil 和 Julien Pivoto，摘自《Prometheus Up &amp; Running，第二版》，2023 年，O&#39;Reilly Media, Inc.*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/key-prometheus-concepts/Prometheus-architecture.png”&#xA;alt=&#34;Prometheus 架构，如“Prometheus Up and Running”中所示&#34;&#xA;宽度=“1844”&#xA;高度=“1040”&#xA;title=&#34;*资料来源：Brian Brazil 和 Julien Pivoto，摘自《Prometheus Up &amp; Running，第二版》，2023 年，O&#39;Reilly Media, Inc.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 text-right &#34;&gt;&lt;em&gt;来源：Brian Brazil 和 Julien Pivoto，来自“Prometheus Up &amp; Running，第二版”，2023 年，O&#39;Reilly Media, Inc. &lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;但正如您从上图中看到的那样，Prometheus 的功能还不止于此。接下来，让我们快速了解一下 Prometheus 的其他元素。&lt;/p&gt;&#xA;&lt;h3 id=&#34;instrumentation-and-client-libraries&#34;&gt;仪器和客户端库&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus 的一个关键方面是检测——提取指标的机制。 Prometheus 提供了几种方法来做到这一点。它具有可用于多种编程语言的&lt;a href=&#34;https://prometheus.io/docs/instrumenting/clientlibs/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;客户端库&lt;/a&gt;，让您能够无缝地检测您的代码。这简化了公开指标的过程，以便 Prometheus 可以轻松地抓取它们。&lt;/p&gt;&#xA;&lt;h3 id=&#34;否de-exporter&#34;&gt;节点导出器&lt;/h3&gt;&#xA;&lt;p&gt;需要操作系统级别的指标吗？ Prometheus 通过 &lt;a href=&#34;https://github.com/prometheus/node_exporter&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;节点导出器&lt;/a&gt; 来救援，提供对 CPU、内存、和磁盘使用情况。它是硬件级监控的首选资源，可确保您清楚地了解系统运行状况。&lt;/p&gt;&#xA;&lt;h3 id=&#34;service-discovery&#34;&gt;服务发现&lt;/h3&gt;&#xA;&lt;p&gt;在当今的动态云环境中，无论您使用 Kubernetes、Consul 还是普通 DNS，&lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/http_sd/&#34; target=&#34;_blank&#34; rel =&#34;noopener noreferrer&#34;&gt;服务发现&lt;/a&gt;有助于在新实例上线时自动检测和监控它们。这使得 Prometheus 能够高度适应不断变化的环境。&lt;/p&gt;&#xA;&lt;h3 id=&#34;general-exporters&#34;&gt;一般出口商&lt;/h3&gt;&#xA;&lt;p&gt;我们已经看到了客户端库和节点导出器的简单检测，但对于其他一切，通用导出器来救援。当无法直接检测时，一般导出器会公开来自不同来源的指标，例如数据库、消息代理，甚至使用 &lt;a href=&#34;https://github.com/prometheus/blackbox_exporter&#34; target=&#34;_blank&#34; rel=&#34; noopener noreferrer&#34;&gt;黑盒导出器&lt;/a&gt;，它允许您从外部有利位置监控服务。&lt;/p&gt;&#xA;&lt;h3 id=&#34;promql&#34;&gt;PromQL&lt;/h3&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/basics/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;PromQL&lt;/a&gt; 是 Prometheus 的核心查询能力。它是一种功能强大的查询语言，允许您使用函数、运算符和聚合来检索、操作和分析指标。它为您最复杂的查询需求提供了多功能解决方案。&lt;/p&gt;&#xA;&lt;h3 id=&#34;recording-rules&#34;&gt;录音规则&lt;/h3&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;录制规则&lt;/a&gt;是最伟大的规则之一我在阅读这本书时发现的元素。这些规则预先计算昂贵的查询或经常需要的数据，将结果存储为新的时间序列数据。使用记录规则可以加快查询速度、预处理数据并简化结果，尤其是在高峰使用期间。&lt;/p&gt;&#xA;&lt;h3 id=&#34;alerts&#34;&gt;提醒&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus 具有强大的&lt;a href=&#34;https://prometheus.io/docs/alerting/latest/overview/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;警报功能&lt;/a&gt;。通过使用警报规则（与记录规则非常相似），您可以设置触发通知的条件。这些警报可以通过 Alertmanager 路由到您可能拥有的任何警报系统，例如电子邮件、Slack 或 PagerDuty。&lt;/p&gt;&#xA;&lt;h2 id=&#34;grafana-the-default-recommendation&#34;&gt;Grafana：默认推荐！&lt;/h2&gt;&#xA;&lt;p&gt;Prometheus 在 Web 前端中有自己的可视化功能，您可以使用它在 PromQL 中执行查询并可视化其结果。然而，有一个有趣的观察在关于这个主题的书中：尽管Prometheus支持可视化，但能力并不突出。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1600px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png&#34;data-srcset=&#34;/media/blog/key-prometheus-concepts/Promtheus-up-and- running-book.png?w=320 320w，/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=550 550w，/media/blog/key-prometheus-concepts/ Promtheus-up-and-running-book.png?w=750 750w, /media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=900 900w, /media/blog/ key-prometheus-concepts/Promtheus-up-and-running-book.png?w=1040 1040w，/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=1240 1240w ，/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana 登录屏幕的照片，显示在“Prometheus Up and Running”的第 105 页上”&#xA;宽度=“1600”&#xA;高度=“1103”&#xA;title=&#34;*Grafana 登录屏幕的照片，显示在《Prometheus Up &amp; Running》第 105 页上。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/key-prometheus-concepts/Promtheus-up-and-running-book.png&#34;&#xA;alt=&#34;“Prometheus Up and Running”第 105 页上显示的 Grafana 登录屏幕的照片&#34;&#xA;宽度=“1600”&#xA;高度=“1103”&#xA;title=&#34;*Grafana 登录屏幕的照片，显示在《Prometheus Up &amp; Running》第 105 页上。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;“Prometheus Up &amp; Running”第 105 页上显示的 Grafana 登录屏幕照片。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;这就是 Grafana 发挥作用的地方。在我承认有偏见的观点中，“Prometheus Up &amp; Running”中最突出的建议之一是使用 Grafana 作为 Prometheus 指标的首要可视化平台。该书赞扬了 Grafana 连接 Prometheus 的多功能性、创建和执行 PromQL 查询的简便性，以及将复杂的原始数据转换为直观且美观的仪表板的能力。&lt;/p&gt;&#xA;&lt;h2 id=&#34;push-vs-pull&#34;&gt;推与拉&lt;/h2&gt;&#xA;&lt;p&gt;在阅读这本书时，我的一个令人惊讶的发现是了解监控系统中的不同数据模型：推与拉。在我的职业生涯中，我一直使用数据库来提交数据、查询、命令等。尤其是在存储指标时，我过去所做的就是将指标发送到数据库。&lt;/p&gt;&#xA;&lt;p&gt;但普罗米修斯不同。 Prometheus 旨在从其监控的目标中提取数据。&lt;/p&gt;&#xA;&lt;p&gt;想一想——如果你是如果监控的项目很多，很容易使数据库过载。但是，如果您让数据库以可管理的速度提取信息，您将获得更高的可靠性和灵活性！&lt;/p&gt;&#xA;&lt;p&gt;一个关键要素是受监控的实体必须以 Prometheus 可以发现、访问和提取指标的方式发布其指标。如前所述，这是通过客户端库、节点导出器、服务发现和通用导出器等机制来实现的。通过利用这些组件，Prometheus 可以有效地收集数据，而不会压垮系统，从而保持其稳健的性能。&lt;/p&gt;&#xA;&lt;p&gt;最后要注意的是，Prometheus 也可以在传统的推送机制中工作。为此，您必须调整一些配置设置。虽然它可以这样工作，但普罗米修斯并不是为此而设计的，本书建议不要这样做。&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-more-than-just-queries&#34;&gt;PromQL：不仅仅是查询&lt;/h2&gt;&#xA;&lt;p&gt;虽然 PromQL 以其强大的（对于某些复杂的）查询功能而闻名，但它的功能远不止查询。 PromQL 包含广泛的函数和运算符，可简化复杂的计算、聚合、数据转换等。&lt;/p&gt;&#xA;&lt;p&gt;此外，PromQL支持记录规则，可以对常用查询进行预计算，从而优化性能。这也为与存储和显示指标相关的常见问题带来了几种解决方案。下一节将详细介绍这一点。&lt;/p&gt;&#xA;&lt;p&gt;最后，PromQL 对于 Prometheus 中的警报系统至关重要。您必须使用 PromQL 查询定义触发警报和通知的规则。可能性是无限的！&lt;/p&gt;&#xA;&lt;h2 id=&#34;cool-issue-solutions&#34;&gt;很酷的问题解决方案&lt;/h2&gt;&#xA;&lt;p&gt;如前所述，发现 PromQL 对记录规则的支持为我过去遇到的问题提供了各种解决方案。&lt;/p&gt;&#xA;&lt;p&gt;首先，当数据的粒度随着时间的推移变得不那么重要时，保留每个指标的成本可能会很高。通过记录规则，您可以创建 PromQL 查询来定期运行并整合数据。例如，您可能不关心去年夏天的每分钟温度 - 您可能只想存储每日最大值、最小值、平均值或方差指标。记录规则可以将这些指标聚合到新的时间序列中，从而允许您丢弃旧时期的过于精细的数据。&lt;/p&gt;&#xA;&lt;p&gt;我在使用 Grafana 可视化 Prometheus 数据时遇到的另一个常见问题是处理太多超粒度指标。这可能会使 Grafana 的前端超载，增加数据加载时间，甚至导致用户的浏览器由于大量数据点而无响应。通过使用记录规则，您可以创建粒度降低的并行时间序列。这使您可以在 Grafana 中更有效地加载、刷新和显示数据，并保留超粒度数据以进行详细的放大。&lt;/p&gt;&#xA;&lt;p&gt;自从了解了记录规则后，对于我遇到的许多因大量指标而导致性能不佳的 Grafana 用户来说，它们已成为特别有用的建议。他们正在尝试寻找最佳方法来避免 Grafana 崩溃或因显示大量数据而变得无响应，而记录规则提供了很大帮助！&lt;/p&gt;&#xA;&lt;h2 id=&#34;read-the-bookseriously&#34;&gt;认真阅读这本书&lt;/h2&gt;&#xA;&lt;p&gt;如果您还不熟悉 Prometheus，我希望这篇文章能让您深入了解其真正的力量和深度。它确实是一个出色的可观察平台，与 Grafana 完美集成。&lt;/p&gt;&#xA;&lt;p&gt;了解并理解它的所有优势将使您成为一名超级可观测性工程师！我强烈建议您查看这本书“&lt;a href=&#34;https://www.oreilly.com/library/view/prometheus-up/9781098131135/?_gl=1*1rg7fvd*_ga*NzUzMDc3ODI2LjE3Mjg0MzQ2Njg.*_ga_092EL089CH*MTcyODQzNjcxMC4yL jEuMTcyODQzNjc3Mi41OC4wLjA ”。 target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;普罗米修斯启动并运行&lt;/a&gt;。”虽然这篇文章的目的是阐明这些令人惊奇的细节，但要真正学习和掌握 Prometheus，没有什么比本书提供的笔记、练习和示例更好的了。它对任何 Grafana 爱好者的库来说都是一个很好的补充。看看吧！&lt;/p&gt;</description>
      <pubDate>Fri, 11 Oct 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Grafana for beginners: Quick tips to add a data source, choose a visualization type, and more】Grafana 初学者：添加数据源、选择可视化类型等的快速提示</title>
      <link>https://grafana.com/blog/2024/10/07/grafana-for-beginners-quick-tips-to-add-a-data-source-choose-a-visualization-type-and-more/</link>
      <description>【&lt;p&gt;In the observability space, ease-of-use has always been a key differentiator for Grafana. As much as we want to offer a powerful observability platform to our users, we also want to ensure they can get up and running as quickly as possible.&lt;/p&gt;&#xA;&lt;p&gt;Still, for those of you sitting down to build your first dashboard, we totally understand that a little guidance can go a long way.&lt;/p&gt;&#xA;&lt;p&gt;In this post — which was &lt;a href=&#34;https://www.youtube.com/playlist?list=PLDGkOdUX1Ujo27m6qiTPPCpFHVfyKq9jT&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;inspired by our “Grafana for Beginners” YouTube series&lt;/a&gt; — we offer quick tips and step-by-step advice to help you and your team ramp up with Grafana.&lt;/p&gt;&#xA;&lt;h2 id=&#34;how-to-add-a-data-source&#34;&gt;How to add a data source&lt;/h2&gt;&#xA;&lt;p&gt;One of the most powerful features of Grafana is the ability to query and visualize data from such a wide variety of sources. So, before you start building your first dashboard, you’ll need to add a data source that contains the data you want to visualize.&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-a-data-source&#34;&gt;Add a data source&lt;/h3&gt;&#xA;&lt;p&gt;Grafana comes with support for many built-in support data sources.&lt;/p&gt;&#xA;&lt;p&gt;To add a data source in Grafana, use the following steps:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Click &lt;strong&gt;Connections&lt;/strong&gt; in the left-side menu.&lt;/li&gt;&#xA;&lt;li&gt;Enter the name of a specific data source in the search dialog. You can filter by &lt;strong&gt;Data source&lt;/strong&gt; to only see data sources.&lt;/li&gt;&#xA;&lt;li&gt;Click the data source you want to add.&lt;/li&gt;&#xA;&lt;li&gt;Configure the data source following instructions specific to that data source.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1982px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing how to add a new connection.&#34;&#xA;width=&#34;1982&#34;&#xA;height=&#34;1074&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png&#34;&#xA;alt=&#34;A screenshot showing how to add a new connection.&#34;&#xA;width=&#34;1982&#34;&#xA;height=&#34;1074&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;&lt;em&gt;Note: If you need other data sources that are not already built into Grafana, you can install one of our many &lt;a href=&#34;/grafana/plugins/data-source-plugins/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;data source plugins&lt;/a&gt;. If the plugin you need doesn’t exist yet, &lt;a href=&#34;/developers/plugin-tools/tutorials/build-a-data-source-plugin&#34;&gt;developing a custom plugin&lt;/a&gt; is also an option.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-grafana-loki-as-a-data-source&#34;&gt;Add Grafana Loki as a data source&lt;/h3&gt;&#xA;&lt;p&gt;To further illustrate how to add a data source in Grafana, let’s walk through an example using Grafana Loki, our open source, horizontally scalable, log aggregation system, as a built-in data source. (By the way, the steps outlined here can also be used to add Grafana Tempo and Grafana Mimir as data sources, as the process is nearly identical).&lt;/p&gt;&#xA;&lt;p&gt;First, search for &lt;strong&gt;Loki&lt;/strong&gt; in the search bar. You&amp;rsquo;ll see the results populate. Then, go to the &lt;strong&gt;Data source&lt;/strong&gt; section and click on the &lt;strong&gt;Loki data source&lt;/strong&gt; option.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1980px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing how to search for the Loki data source.&#34;&#xA;width=&#34;1980&#34;&#xA;height=&#34;1082&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png&#34;&#xA;alt=&#34;A screenshot showing how to search for the Loki data source.&#34;&#xA;width=&#34;1980&#34;&#xA;height=&#34;1082&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Next, click on &lt;strong&gt;Add new data source&lt;/strong&gt;.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1982px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing how to add the Loki data source.&#34;&#xA;width=&#34;1982&#34;&#xA;height=&#34;1088&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png&#34;&#xA;alt=&#34;A screenshot showing how to add the Loki data source.&#34;&#xA;width=&#34;1982&#34;&#xA;height=&#34;1088&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Provide a name for this data source and make sure it’s descriptive, so you can easily tell what kind of data it contains. Next, enter the URL for the data source to indicate to Grafana how to find it.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1972px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing how to enter the data source URL.&#34;&#xA;width=&#34;1972&#34;&#xA;height=&#34;1078&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png&#34;&#xA;alt=&#34;A screenshot showing how to enter the data source URL.&#34;&#xA;width=&#34;1972&#34;&#xA;height=&#34;1078&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;If your Loki data source requires authentication, you&amp;rsquo;ll need to include that info, as well. Scroll down to the &lt;strong&gt;Authentication&lt;/strong&gt; section. Then, expand the drop-down menu and select the &lt;strong&gt;Basic authentication&lt;/strong&gt; option.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1962px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing Loki authentication.&#34;&#xA;width=&#34;1962&#34;&#xA;height=&#34;1086&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png&#34;&#xA;alt=&#34;A screenshot showing Loki authentication.&#34;&#xA;width=&#34;1962&#34;&#xA;height=&#34;1086&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Enter the username and password. Then, scroll down to the bottom of the page and click on &lt;strong&gt;Save and test&lt;/strong&gt;. Once the data source is successfully connected, it&amp;rsquo;ll give you an option to visualize or query the data — and you’re off and running!&lt;/p&gt;&#xA;&lt;p&gt;To learn more about adding data sources to Grafana, you can check out the video below, as well as our &lt;a href=&#34;/docs/grafana/latest/datasources/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;technical documentation&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;div&#xA;class=&#34;youtube-lazyload responsive-video&#34;&#xA;data-embed=&#34;cqHO0oYW6Ic&#34;&#xA;data-url=&#34;https://www.youtube.com/embed/cqHO0oYW6Ic?autoplay=1&amp;amp;rel=0&#34;&#xA;data-title=&#34;YouTube Video&#34;&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;how-to-choose-a-visualization-type&#34;&gt;How to choose a visualization type&lt;/h2&gt;&#xA;&lt;p&gt;When it comes to data visualization, there’s no one-size-fits-all approach. Ultimately, the best way to visualize your data depends on your unique use case, and the story you’re hoping to tell through your data. Fortunately, Grafana offers a wide variety of visualization types to choose from when creating your dashboard.&lt;/p&gt;&#xA;&lt;p&gt;To help you select the right one, it’s helpful to first have a lay of the land. Here’s a quick look at a few of the most popular data visualization options in Grafana, and the typical use cases they support.&lt;/p&gt;&#xA;&lt;h3 id=&#34;time-series&#34;&gt;Time series&lt;/h3&gt;&#xA;&lt;p&gt;Time series graphs are the default way to visualize data points over intervals of time. So, for example, if you’ve ever looked at a graph that shows the rise and fall of the temperature throughout the day, or if you&amp;rsquo;re a YouTuber tracking your number of subscribers over time, you&amp;rsquo;re looking at time series visualization. These visualizations can render series as lines, points, or bars, and are versatile enough to display almost any type of time series data.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1203px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of the time series visualization.&#34;&#xA;width=&#34;1203&#34;&#xA;height=&#34;313&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png&#34;&#xA;alt=&#34;A screenshot of the time series visualization.&#34;&#xA;width=&#34;1203&#34;&#xA;height=&#34;313&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h3 id=&#34;stat-panel&#34;&gt;Stat panel&lt;/h3&gt;&#xA;&lt;p&gt;A stat panel displays your data in single values of interest — such as the latest or current value of a series — with an optional graph sparkline. A graph sparkline, which is only available in stat visualizations, is a small time-series graph shown in the background of each value in the visualization. You would use this if you want real-time stats about a value that you&amp;rsquo;re interested in. For example, if you’re monitoring the utilization of various services, you can use a stat visualization to show their latest usage.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1040px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of a stat panel.&#34;&#xA;width=&#34;1040&#34;&#xA;height=&#34;159&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png&#34;&#xA;alt=&#34;A screenshot of a stat panel.&#34;&#xA;width=&#34;1040&#34;&#xA;height=&#34;159&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Stat panels are a great way to monitor key metrics, such as the number of high-priority bugs in your application or total number of sales, at a quick glance.&lt;/p&gt;&#xA;&lt;h3 id=&#34;bar-charts&#34;&gt;Bar charts&lt;/h3&gt;&#xA;&lt;p&gt;Bar charts allow you to graph categorical data. These are useful when you want to compare data by categories. For example, let&amp;rsquo;s look at a bar chart for web browser market share. On the y-axis, it displays different categories of browsers such as Chrome, Firefox, Safari, etc. On the x-axis, it shows you the value of the market share. You can clearly compare the market share of each browser by looking at the size of the bars.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1337px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-bar.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-bar.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of bar charts. &#34;&#xA;width=&#34;1337&#34;&#xA;height=&#34;422&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-bar.png&#34;&#xA;alt=&#34;A screenshot of bar charts. &#34;&#xA;width=&#34;1337&#34;&#xA;height=&#34;422&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;These are just three (of many) visualization options in Grafana. To learn more, check out our &lt;a href=&#34;/docs/grafana/latest/panels-visualizations/visualizations/&#34;&gt;documentation&lt;/a&gt; and click on each type of visualization for step-by-step instructions. You can also watch the video below.&lt;/p&gt;&#xA;&lt;div&#xA;class=&#34;youtube-lazyload responsive-video&#34;&#xA;data-embed=&#34;JwF6FgeotaU&#34;&#xA;data-url=&#34;https://www.youtube.com/embed/JwF6FgeotaU?autoplay=1&amp;amp;rel=0&#34;&#xA;data-title=&#34;YouTube Video&#34;&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;how-to-create-alerts&#34;&gt;How to create alerts&lt;/h2&gt;&#xA;&lt;p&gt;As beautiful as your dashboards are, you probably don&amp;rsquo;t have time to look at them 24/7. Instead, you can use &lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana Alerting&lt;/a&gt; to get alerts when something needs your attention.&lt;/p&gt;&#xA;&lt;p&gt;Let’s say you have an e-commerce app, and you want to create an alert for any high-service latency observed in the app. If service latency is greater than 2 seconds, you want to receive an email alert. The alert will display contextual information and the option to view the dashboard associated with the event.&lt;/p&gt;&#xA;&lt;p&gt;To start, go to your Grafana instance and expand the menu option. From the menu, locate the &lt;strong&gt;Alert and IRM&lt;/strong&gt; option, then click on the arrow to display the sub menu. From there, click on the &lt;strong&gt;Alerting&lt;/strong&gt; option to get to the Alerting page.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1596px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing how to access Grafana Alerting.&#34;&#xA;width=&#34;1596&#34;&#xA;height=&#34;862&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png&#34;&#xA;alt=&#34;A screenshot showing how to access Grafana Alerting.&#34;&#xA;width=&#34;1596&#34;&#xA;height=&#34;862&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Then, there are three basic steps to create alerts:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Define a condition that must be met for an alert to fire. To do this, you&amp;rsquo;ll create an &lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/alert-rules/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;alert rule&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Configure where the alerts should be delivered by establishing &lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/contact-points/&#34;&gt;contact points&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Configure which alerts are sent to which contact points. This is known as defining &lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/notification-policies/&#34;&gt;notification policies&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;Let’s take a closer look at each.&lt;/p&gt;&#xA;&lt;h3 id=&#34;define-an-alert-rule&#34;&gt;Define an alert rule&lt;/h3&gt;&#xA;&lt;p&gt;Click on the &lt;strong&gt;Manage alert rules&lt;/strong&gt; option, then click on the &lt;strong&gt;New alert rule&lt;/strong&gt; button.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1958px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing where to add a new alert rule. &#34;&#xA;width=&#34;1958&#34;&#xA;height=&#34;1076&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png&#34;&#xA;alt=&#34;A screenshot showing where to add a new alert rule. &#34;&#xA;width=&#34;1958&#34;&#xA;height=&#34;1076&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;An alert rule is a set of evaluation criteria for when an alert should fire. An alert rule consists of:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Queries and expressions that select the data set to evaluate.&lt;/li&gt;&#xA;&lt;li&gt;A condition (the threshold) that the query must meet or exceed to trigger the alert instance – for example, a certain amount of service latency is observed.&lt;/li&gt;&#xA;&lt;li&gt;An interval that specifies the frequency of &lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/alert-rules/rule-evaluation/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;alert rule evaluation&lt;/a&gt; and a duration indicating how long the condition must be met to trigger the alert instance.&lt;/li&gt;&#xA;&lt;li&gt;Other customizable options, such as setting what should happen in the absence of data, notification messages, and more.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;establish-contact-points&#34;&gt;Establish contact points&lt;/h3&gt;&#xA;&lt;p&gt;Now, you configure where the alert should be delivered&lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/contact-points/&#34;&gt;&lt;/a&gt;. From the menu, click on the &lt;strong&gt;Contact points&lt;/strong&gt; option, then click &lt;strong&gt;Add contact point&lt;/strong&gt;.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing how to add a contact point. &#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1085&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png&#34;&#xA;alt=&#34;A screenshot showing how to add a contact point. &#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1085&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Next, click on &lt;strong&gt;Create contact point&lt;/strong&gt; and name the contact point. For example, if you want the alert to go to the SRE on call, you could name your contact point to reflect that. Then, select what channel you want to use to send the alert, such as an email, webhook, or service like Grafana OnCall or Slack. You’ll be able to test that the contact point is working properly before you save it.&lt;/p&gt;&#xA;&lt;h3 id=&#34;configure-notification-policies&#34;&gt;Configure notification policies&lt;/h3&gt;&#xA;&lt;p&gt;Notification policies provide you with a flexible way to design how your notifications are handled, and help minimize alert noise. Using label matchers, alert instances are &lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/notification-policies/#routing&#34;&gt;routed to notification policies&lt;/a&gt;. The notification policy can then &lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/group-alert-notifications/&#34;&gt;group multiple alert instances into a single notification&lt;/a&gt; and deliver it to the contact point.&lt;/p&gt;&#xA;&lt;p&gt;You can configure the notification policy by clicking on &lt;strong&gt;Notification policies&lt;/strong&gt;.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1970px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of configuring notification policies. &#34;&#xA;width=&#34;1970&#34;&#xA;height=&#34;1078&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png&#34;&#xA;alt=&#34;A screenshot of configuring notification policies. &#34;&#xA;width=&#34;1970&#34;&#xA;height=&#34;1078&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;To dig deeper into the alerting process, check out our &lt;a href=&#34;/docs/grafana/latest/alerting/set-up/&#34;&gt;Grafana Alerting documentation&lt;/a&gt;, along with the video below.&lt;/p&gt;&#xA;&lt;div&#xA;class=&#34;youtube-lazyload responsive-video&#34;&#xA;data-embed=&#34;6W8Nu4b_PXM&#34;&#xA;data-url=&#34;https://www.youtube.com/embed/6W8Nu4b_PXM?autoplay=1&amp;amp;rel=0&#34;&#xA;data-title=&#34;YouTube Video&#34;&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;how-to-annotate-events&#34;&gt;How to annotate events&lt;/h2&gt;&#xA;&lt;p&gt;&lt;em&gt;Annotations&lt;/em&gt; in Grafana are a way to indicate within data visualizations that certain events took place. Think of them as little Post-it notes you can add to your visualizations to provide more context and help your team determine next steps.&lt;/p&gt;&#xA;&lt;p&gt;Annotations are visualized as vertical lines and icons on all graph panels. When you hover over an annotation, you can get an event description and event tags, as shown in the example below. The text field can include links to other systems with more detail.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 746px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of annotations.&#34;&#xA;width=&#34;746&#34;&#xA;height=&#34;293&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png&#34;&#xA;alt=&#34;A screenshot of annotations.&#34;&#xA;width=&#34;746&#34;&#xA;height=&#34;293&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;To manually add an annotation, click wherever you want to add it within your panel. Once the popup menu appears, click on the &lt;strong&gt;Add annotation&lt;/strong&gt; option.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=550 550w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot showing the Add annotation button. &#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1034&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png&#34;&#xA;alt=&#34;A screenshot showing the Add annotation button. &#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1034&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;In the &lt;strong&gt;Description&lt;/strong&gt; field, you can add further details or context about the event, as well as a call to action for team members. For example, if you observe a major spike in service latency 2 minutes after deployment, you would annotate that something went wrong during deployment and ask to roll this back.&lt;/p&gt;&#xA;&lt;p&gt;After filling out the description, click &lt;strong&gt;Save&lt;/strong&gt;. You&amp;rsquo;ll see a vertical line and small arrow icon on your visualization, signifying your annotation has been added.&lt;/p&gt;&#xA;&lt;p&gt;To learn more about using annotations in Grafana, you can check out our &lt;a href=&#34;/docs/grafana/latest/dashboards/build-dashboards/annotate-visualizations/&#34;&gt;technical docs&lt;/a&gt; and the video below.&lt;/p&gt;&#xA;&lt;div&#xA;class=&#34;youtube-lazyload responsive-video&#34;&#xA;data-embed=&#34;N5iOlyYyK6Q&#34;&#xA;data-url=&#34;https://www.youtube.com/embed/N5iOlyYyK6Q?autoplay=1&#34;&#xA;data-title=&#34;YouTube Video&#34;&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;where-to-learn-more&#34;&gt;Where to learn more&lt;/h2&gt;&#xA;&lt;p&gt;Interested in more best practices to get started with Grafana? We’ve got you covered. Check out our entire &lt;a href=&#34;https://www.youtube.com/watch?v=TQur9GJHIIQ&amp;amp;list=PLDGkOdUX1Ujo27m6qiTPPCpFHVfyKq9jT&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Grafana for Beginners video series on YouTube&lt;/a&gt;, where we go into more detail on the topics covered above, plus other resources shared on our &lt;a href=&#34;/community/&#34;&gt;Community page&lt;/a&gt;.&lt;/p&gt;】&lt;p&gt;在可观察性领域，易用性一直是 Grafana 的一个关键差异化因素。尽管我们希望为用户提供强大的可观察平台，但我们也希望确保他们能够尽快启动并运行。&lt;/p&gt;&#xA;&lt;p&gt;不过，对于那些坐下来构建第一个仪表板的人来说，我们完全理解一点指导可以大有帮助。&lt;/p&gt;&#xA;&lt;p&gt;在这篇文章中 - &lt;a href=&#34;https://www.youtube.com/playlist?list=PLDGkOdUX1Ujo27m6qiTPPCpFHVfyKq9jT&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;受到我们的“Grafana 初学者”的启发YouTube 系列&lt;/a&gt; — 我们提供快速提示和分步建议，帮助您和您的团队快速使用 Grafana。&lt;/p&gt;&#xA;&lt;h2 id=&#34;how-to-add-a-data-source&#34;&gt;如何添加数据源&lt;/h2&gt;&#xA;&lt;p&gt;Grafana 最强大的功能之一是能够查询和可视化来自如此广泛的来源的数据。因此，在开始构建第一个仪表板之前，您需要添加一个包含要可视化的数据的数据源。&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-a-data-source&#34;&gt;添加数据源&lt;/h3&gt;&#xA;&lt;p&gt;Grafana 支持许多内置支持数据源。&lt;/p&gt;&#xA;&lt;p&gt;要在 Grafana 中添加数据源，请使用以下步骤：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;点击左侧菜单中的&lt;strong&gt;连接&lt;/strong&gt;。&lt;/li&gt;&#xA;&lt;li&gt;在搜索对话框中输入特定数据源的名称。您可以按&lt;strong&gt;数据源&lt;/strong&gt;进行过滤以仅查看数据源。&lt;/li&gt;&#xA;&lt;li&gt;点击您要添加的数据源。&lt;/li&gt;&#xA;&lt;li&gt;按照特定于数据源的说明配置数据源。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1982px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png”data-srcset =“/media/blog/grafana-for-beginners/grafana-for-初学者-add-new-connection.png?w=320 320w，/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=550 550w，/media/blog/ grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=750 750w，/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png？ w=900 900w，/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=1040 1040w，/media/blog/grafana-for-beginners/grafana-for-初学者-add-new-connection.png?w=1240 1240w，/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示如何添加新连接的屏幕截图。&#34;&#xA;宽度=“1982”&#xA;高度=“1074”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-connection.png”&#xA;alt=&#34;显示如何添加新连接的屏幕截图。&#34;&#xA;宽度=“1982”&#xA;高度=“1074”&#xA;/&gt;&#xA;&lt;/无脚本&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;&lt;em&gt;注意：如果您需要 Grafana 中尚未内置的其他数据源，您可以安装我们众多的&lt;a href=&#34;/grafana/plugins/data-source-plugins/?pg=blog&amp;plcmt= 之一body-txt&#34;&gt;数据源插件&lt;/a&gt;。如果您需要的插件尚不存在，&lt;a href=&#34;/developers/plugin-tools/tutorials/build-a-data-source-plugin&#34;&gt;开发自定义插件&lt;/a&gt;也是一种选择。&lt; /em&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-grafana-loki-as-a-data-source&#34;&gt;添加 Grafana Loki 作为数据源&lt;/h3&gt;&#xA;&lt;p&gt;为了进一步说明如何在 Grafana 中添加数据源，我们来看一个使用 Grafana Loki（我们的开源、水平可扩展的日志聚合系统）作为内置数据源的示例。 （顺便说一句，此处概述的步骤也可用于添加 Grafana Tempo 和 Grafana Mimir 作为数据源，因为该过程几乎相同）。&lt;/p&gt;&#xA;&lt;p&gt;首先，在搜索栏中搜索&lt;strong&gt;Loki&lt;/strong&gt;。您会看到结果已填充。然后，转到&lt;strong&gt;数据源&lt;/strong&gt;部分并单击&lt;strong&gt;Loki数据源&lt;/strong&gt;选项。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1980px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png”data-srcset =“/media/blog/grafana-for-beginners/grafana- for-beginners-adding-loki-data-source.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=550 550w ，/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=750 750w，/media/blog/grafana-for-beginners/grafana-for-beginners-添加-loki-data-source.png？w=900 900w，/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png？w=1040 1040w，/media/博客/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png?w=1240 1240w，/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-数据源.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示如何搜索 Loki 数据源的屏幕截图。&#34;&#xA;宽度=“1980”&#xA;高度=“1082”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source.png”&#xA;alt=&#34;显示如何搜索 Loki 数据源的屏幕截图。&#34;&#xA;宽度=“1980”&#xA;高度=“1082”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;接下来，点击&lt;strong&gt;添加新数据源&lt;/strong&gt;。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1982px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;c拉斯=“懒加载”&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/ grafana-for-beginners-adding-loki-data-source-2.png?w=320 320w，/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2。 png?w=550 550w，/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=750 750w，/media/blog/grafana-for-初学者/grafana-for-beginners-adding-loki-data-source-2.png?w=900 900w，/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source- 2.png?w=1040 1040w，/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png?w=1240 1240w，/media/blog/grafana-初学者/grafana-for-beginners-adding-loki-data-source-2.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示如何添加 Loki 数据源的屏幕截图。&#34;&#xA;宽度=“1982”&#xA;高度=“1088”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-adding-loki-data-source-2.png”&#xA;alt=&#34;显示如何添加 Loki 数据源的屏幕截图。&#34;&#xA;宽度=“1982”&#xA;高度=“1088”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;为此数据源提供一个名称并确保其具有描述性，以便您可以轻松判断它包含什么类型的数据。接下来，输入数据源的 URL，以指示 Grafana 如何查找它。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1972px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png”data-srcset =“/media/blog/grafana-for-beginners/grafana-for-初学者-enter-loki-url.png?w=320 320w，/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=550 550w，/media/blog/ grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=750 750w，/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png？ w=900 900w，/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=1040 1040w，/media/blog/grafana-for-beginners/grafana-for-初学者-enter-loki-url.png?w=1240 1240w，/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示如何输入数据源 URL 的屏幕截图。&#34;&#xA;宽度=“1972”&#xA;高度=“1078”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-enter-loki-url.png”&#xA;alt=&#34;显示如何输入数据源 URL 的屏幕截图。&#34;&#xA;宽度=“1972”&#xA;高度=“1078”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;如果您的 Loki 数据源需要身份验证，您还需要包含该信息。向下滚动到&lt;strong&gt;身份验证&lt;/strong&gt;部分。然后，展开下拉菜单并选择&lt;strong&gt;Basic au提示&lt;/strong&gt;选项。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1962px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-初学者-loki-basic-authentication.png？w=320 320w，/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png？w=550 550w，/media/blog/ grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=750 750w，/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png？ w=900 900w，/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png?w=1040 1040w，/media/blog/grafana-for-beginners/grafana-for-初学者-loki-basic-authentication.png？w=1240 1240w，/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png？w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示 Loki 身份验证的屏幕截图。&#34;&#xA;宽度=“1962”&#xA;高度=“1086”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-loki-basic-authentication.png”&#xA;alt=&#34;显示 Loki 身份验证的屏幕截图。&#34;&#xA;宽度=“1962”&#xA;高度=“1086”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;输入用户名和密码。然后，向下滚动到页面底部并单击&lt;strong&gt;保存并测试&lt;/strong&gt;。数据源成功连接后，您将可以选择可视化或查询数据 - 然后您就可以开始运行了！&lt;/p&gt;&#xA;&lt;p&gt;要了解有关向 Grafana 添加数据源的更多信息，您可以观看下面的视频以及我们的&lt;a href=&#34;/docs/grafana/latest/datasources/?pg=blog&amp;plcmt=body-txt&#34;&gt;技术文档&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;div&#xA;类 =“youtube-lazyload 响应视频”&#xA;数据嵌入=“cqHO0oYW6Ic”&#xA;data-url=&#34;https://www.youtube.com/embed/cqHO0oYW6Ic?autoplay=1&amp;rel=0&#34;&#xA;数据标题=“YouTube 视频”&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;how-to-choose-a-visualization-type&#34;&gt;如何选择可视化类型&lt;/h2&gt;&#xA;&lt;p&gt;说到数据可视化，没有一刀切的方法。最终，可视化数据的最佳方式取决于您独特的用例以及您希望通过数据讲述的故事。幸运的是，Grafana 提供了多种可视化类型供您在创建仪表板时进行选择。&lt;/p&gt;&#xA;&lt;p&gt;为了帮助您选择正确的产品，首先了解一下情况会很有帮助。以下是 Grafana 中一些最流行的数据可视化选项及其支持的典型用例的快速浏览。&lt;/p&gt;&#xA;&lt;h3 id=&#34;time-series&#34;&gt;时间序列&lt;/h3&gt;&#xA;&lt;p&gt;时间序列图是可视化时间间隔内数据点的默认方式。所以，例如例如，如果您曾经看过显示全天温度升降的图表，或者如果您是一名跟踪一段时间内订阅者数量的 YouTuber，那么您正在查看时间序列可视化。这些可视化可以将序列呈现为线、点或条形，并且用途广泛，足以显示几乎任何类型的时间序列数据。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1203px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners- time-series.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=550 550w, /media/blog/grafana-for-beginners/ grafana-for-beginners-time-series.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=900 900w, /media/blog/ grafana-for-beginners/grafana-for-beginners-time-series.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=1240 1240w ，/media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;时间序列可视化的屏幕截图。&#34;&#xA;宽度=“1203”&#xA;高度=“313”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-time-series.png”&#xA;alt=&#34;时间序列可视化的屏幕截图。&#34;&#xA;宽度=“1203”&#xA;高度=“313”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h3 id=&#34;stat-panel&#34;&gt;统计面板&lt;/h3&gt;&#xA;&lt;p&gt;统计面板以感兴趣的单个值（例如系列的最新值或当前值）显示数据，并带有可选的迷你图。图形迷你图仅在统计可视化中可用，是显示在可视化中每个值的背景中的小型时间序列图。如果您想要有关您感兴趣的值的实时统计信息，则可以使用此功能。例如，如果您正在监控各种服务的利用率，则可以使用统计数据可视化来显示它们的最新使用情况。&lt;/p &gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1040px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png”data-srcset =“/media/blog/grafana-for-beginners/grafana-for-beginners-stat。 png?w=320 320w，/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=550 550w，/media/blog/grafana-for-beginners/grafana-for-beginners- stat.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=900 900w，/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=1040 1040w ，/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w=1240 1240w，/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png?w= 1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;统计面板的屏幕截图。&#34;&#xA;宽度=“1040”&#xA;高度=“159”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-stat.png”&#xA;alt=&#34;统计面板的屏幕截图。&#34;&#xA;宽度=“1040”&#xA;高度=“159”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;统计面板是快速监控关键指标的好方法，例如应用程序中高优先级错误的数量或销售总数。&lt;/p&gt;&#xA;&lt;h3 id=&#34;bar-charts&#34;&gt;条形图&lt;/h3&gt;&#xA;&lt;p&gt;条形图允许您绘制分类数据的图表。当您想要按类别比较数据时，这些非常有用。例如，让我们看一下网络浏览器市场份额的条形图。在 y 轴上，它显示不同类别的浏览器，例如 Chrome、Firefox、Safari 等。在 x 轴上，它向您显示市场份额的价值。通过查看条形的大小，您可以清楚地比较每个浏览器的市场份额。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1337px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-bar.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-bar.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-bar. png?w=320 320w，/media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=550 550w，/media/blog/grafana-for-beginners/grafana-for-beginners- bar.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-初学者-bar.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-bar.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-初学者栏.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;条形图的屏幕截图。&#34;&#xA;宽度=“1337”&#xA;高度=“422”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-bar.png”&#xA;alt=&#34;条形图的屏幕截图。&#34;&#xA;宽度=“1337”&#xA;高度=“422”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;这些只是 Grafana 中的三个（众多）可视化选项。要了解更多信息，请查看我们的&lt;a href=&#34;/docs/grafana/latest/panels-visualizations/visualizations/&#34;&gt;文档&lt;/a&gt;，然后单击每种类型的可视化以获取分步说明。您还可以观看下面的视频。&lt;/p&gt;&#xA;&lt;div&#xA;类 =“youtube-lazyload 响应视频”&#xA;数据嵌入=“JwF6FgeotaU”&#xA;data-url=&#34;https://www.youtube.com/embed/JwF6FgeotaU?autoplay=1&amp;rel=0&#34;&#xA;数据标题=“YouTube 视频”&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;如何创建警报s&#34;&gt;如何创建警报&lt;/h2&gt;&#xA;&lt;p&gt;尽管您的仪表板很漂亮，但您可能没有时间 24/7 查看它们。相反，您可以使用 &lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana Alerting&lt;/a&gt; 在有事情需要您注意时获取警报。&lt;/p&gt;&#xA;&lt;p&gt;假设您有一个电子商务应用程序，并且您希望针对应用程序中观察到的任何高服务延迟创建警报。如果服务延迟超过 2 秒，您希望收到电子邮件警报。警报将显示上下文信息以及查看与事件关联的仪表板的选项。&lt;/p&gt;&#xA;&lt;p&gt;首先，转到 Grafana 实例并展开菜单选项。从菜单中找到&lt;strong&gt;警报和 IRM&lt;/strong&gt; 选项，然后单击箭头以显示子菜单。从那里，单击&lt;strong&gt;警报&lt;/strong&gt;选项进入警报页面。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1596px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png”data-srcset =“/media/blog/grafana-for-beginners/grafana-for-beginners-alerting。 png?w=320 320w，/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=550 550w，/media/blog/grafana-for-beginners/grafana-for-beginners- alerting.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for- beginers-alerting.png?w=1040 1040w，/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png?w=1240 1240w，/media/blog/grafana-for-beginners/grafana-初学者警报.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示如何访问 Grafana 警报的屏幕截图。&#34;&#xA;宽度=“1596”&#xA;高度=“862”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-alerting.png”&#xA;alt=&#34;显示如何访问 Grafana 警报的屏幕截图。&#34;&#xA;宽度=“1596”&#xA;高度=“862”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;然后，创建警报需要三个基本步骤：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;定义触发警报必须满足的条件。为此，您需要创建一个&lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/alert-rules/?pg=blog&amp;plcmt=body-txt&#34;&gt;提醒规则&lt;/a&gt;。&lt;/li&gt;&#xA;&lt;li&gt;通过建立&lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/contact-points/&#34;&gt;联系点&lt;/a&gt;来配置警报的发送位置。&lt;/li&gt;&#xA;&lt;li&gt;配置将哪些警报发送到哪些联系点。这称为定义&lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/notification-policies/&#34;&gt;通知策略&lt;/a&gt;。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;让我们仔细看看每一个。&lt;/p&gt;&#xA;&lt;h3 id=&#34;define-an-alert-rule&#34;&gt;定义警报规则&lt;/h3&gt;&#xA;&lt;p&gt;点击&lt;strong&gt;管理提醒规则&lt;/strong&gt;选项，然后点击&lt;strong&gt;新建提醒规则&lt;/strong&gt;按钮。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1958px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png”data-srcset =“/media/blog/grafana-for-beginners/grafana- for-beginners-add-new-alert-rule.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=550 550w ，/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=750 750w，/media/blog/grafana-for-beginners/grafana-for-beginners- add-new-alert-rule.png?w=900 900w，/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=1040 1040w，/media/博客/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png?w=1240 1240w，/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-警报规则.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示在何处添加新警报规则的屏幕截图。&#34;&#xA;宽度=“1958”&#xA;高度=“1076”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-add-new-alert-rule.png”&#xA;alt=&#34;显示在何处添加新警报规则的屏幕截图。&#34;&#xA;宽度=“1958”&#xA;高度=“1076”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;警报规则是一组关于何时触发警报的评估标准。警报规则包括：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;选择要评估的数据集的查询和表达式。&lt;/li&gt;&#xA;&lt;li&gt;查询必须满足或超过才能触发警报实例的条件（阈值），例如，观察到一定量的服务延迟。&lt;/li&gt;&#xA;&lt;li&gt;指定&lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/alert-rules/rule-evaluation/?pg=blog&amp;plcmt=body-txt&#34;&gt;提醒规则评估频率&lt;/a的间隔&gt; 以及指示必须满足条件多长时间才能触发警报实例的持续时间。&lt;/li&gt;&#xA;&lt;li&gt;其他可自定义选项，例如设置在没有数据、通知消息等情况下应发生的情况。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;建立联系点&#34;&gt;建立联系点&lt;/h3&gt;&#xA;&lt;p&gt;现在，您可以配置警报的发送位置&lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/contact-points/&#34;&gt;&lt;/a&gt;。从菜单中，单击&lt;strong&gt;联系人&lt;/strong&gt;选项，然后单击&lt;strong&gt;添加联系人&lt;/strong&gt;。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapperw-100p h-自动&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners- contact-point.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=550 550w, /media/blog/grafana-for-beginners/ grafana-for-beginners-contact-point.png?w=750 750w，/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=900 900w，/media/blog/ grafana-for-beginners/grafana-for-beginners-contact-point.png?w=1040 1040w，/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=1240 1240w ，/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示如何添加接触点的屏幕截图。&#34;&#xA;宽度=“1999”&#xA;高度=“1085”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-contact-point.png”&#xA;alt=&#34;显示如何添加联系点的屏幕截图。&#34;&#xA;宽度=“1999”&#xA;高度=“1085”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;接下来，点击&lt;strong&gt;创建联系点&lt;/strong&gt;并命名该联系点。例如，如果您希望警报发送给待命的 SRE，您可以命名您的联系人以反映这一点。然后，选择您要用于发送警报的渠道，例如电子邮件、Webhook 或 Grafana OnCall 或 Slack 等服务。在保存之前，您将能够测试接触点是否正常工作。&lt;/p&gt;&#xA;&lt;h3 id=&#34;configure-notification-policies&#34;&gt;配置通知策略&lt;/h3&gt;&#xA;&lt;p&gt;通知策略为您提供了一种灵活的方式来设计通知的处理方式，并帮助最大限度地减少警报噪音。使用标签匹配器，警报实例&lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/notification-policies/#routing&#34;&gt;路由到通知策略&lt;/a&gt;。然后，通知策略可以&lt;a href=&#34;/docs/grafana/latest/alerting/fundamentals/notifications/group-alert-notifications/&#34;&gt;将多个警报实例分组为单个通知&lt;/a&gt;并将其传送到联系点.&lt;/p&gt;&#xA;&lt;p&gt;您可以通过点击&lt;strong&gt;通知策略&lt;/strong&gt;来配置通知策略。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1970px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png&#34;data-srcset=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners- notification-policies.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=550 550w, /media/blog/grafana-for-beginners/ grafana-for-beginners-notification-policies.png?w=750 750w，/media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=900 900w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=1040 1040w, /media/blog/ grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=1240 1240w, /media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png?w=1920 1920w ”&#xA;data-sizes=&#34;auto&#34;alt=&#34;配置通知策略的屏幕截图。&#34;&#xA;宽度=“1970”&#xA;高度=“1078”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-notification-policies.png”&#xA;alt=&#34;配置通知策略的屏幕截图。&#34;&#xA;宽度=“1970”&#xA;高度=“1078”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;要深入了解警报流程，请查看我们的 &lt;a href=&#34;/docs/grafana/latest/alerting/set-up/&#34;&gt;Grafana 警报文档&lt;/a&gt;以及下面的视频。&lt;/ p&gt;&#xA;&lt;div&#xA;类 =“youtube-lazyload 响应视频”&#xA;数据嵌入=“6W8Nu4b_PXM”&#xA;data-url=&#34;https://www.youtube.com/embed/6W8Nu4b_PXM?autoplay=1&amp;rel=0&#34;&#xA;数据标题=“YouTube 视频”&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;how-to-annotate-events&#34;&gt;如何注释事件&lt;/h2&gt;&#xA;Grafana 中的&lt;p&gt;&lt;em&gt;注释&lt;/em&gt;是一种在数据可视化中指示发生了某些事件的方法。将它们视为可以添加到可视化中的小便利贴，以提供更多背景信息并帮助您的团队确定后续步骤。&lt;/p&gt;&#xA;&lt;p&gt;注释在所有图表面板上均显示为垂直线和图标。将鼠标悬停在注释上时，可以获得事件描述和事件标签，如下例所示。文本字段可以包含指向其他系统的更详细链接。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：746px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png”data-srcset =“/media/blog/grafana-for-beginners/grafana-for-beginners-annotations。 png?w=320 320w，/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=550 550w，/media/blog/grafana-for-beginners/grafana-for-beginners-注释.png？w = 750 750w，/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png？w=900 900w，/media/blog/grafana-for-beginners/grafana-for- beginers-annotations.png?w=1040 1040w，/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png?w=1240 1240w，/media/blog/grafana-for-beginners/grafana-初学者注释.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;注释的屏幕截图。&#34;&#xA;宽度=“746”&#xA;高度=“293”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-annotations.png”&#xA;alt=&#34;注释的屏幕截图。&#34;&#xA;宽度=“746”&#xA;高度=“293”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;手动添加注释，单击您想要将其添加到面板中的任意位置。出现弹出菜单后，单击&lt;strong&gt;添加注释&lt;/strong&gt;选项。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png”data-srcset =“/media/blog/grafana-for-beginners/grafana-for-beginners- add-annotation.png?w=320 320w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=550 550w, /media/blog/grafana-for-beginners/ grafana-for-beginners-add-annotation.png?w=750 750w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=900 900w, /media/blog/ grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=1040 1040w, /media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=1240 1240w ，/media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示添加注释按钮的屏幕截图。&#34;&#xA;宽度=“1999”&#xA;高度=“1034”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/grafana-for-beginners/grafana-for-beginners-add-annotation.png”&#xA;alt=&#34;显示添加注释按钮的屏幕截图。&#34;&#xA;宽度=“1999”&#xA;高度=“1034”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;在&lt;strong&gt;说明&lt;/strong&gt;字段中，您可以添加有关事件的更多详细信息或背景，以及号召团队成员采取行动的信息。例如，如果您在部署后 2 分钟观察到服务延迟出现严重峰值，您可以注释部署期间出现问题并要求回滚。&lt;/p&gt;&#xA;&lt;p&gt;填写描述后，点击&lt;strong&gt;保存&lt;/strong&gt;。您将在可视化效果上看到一条垂直线和小箭头图标，表示您的注释已添加。&lt;/p&gt;&#xA;&lt;p&gt;要了解有关在 Grafana 中使用注释的更多信息，您可以查看我们的&lt;a href=&#34;/docs/grafana/latest/dashboards/build-dashboards/annotate-visualizations/&#34;&gt;技术文档&lt;/a&gt;和视频如下。&lt;/p&gt;&#xA;&lt;div&#xA;类 =“youtube-lazyload 响应视频”&#xA;数据嵌入=“N5iOlyYyK6Q”&#xA;data-url=&#34;https://www.youtube.com/embed/N5iOlyYyK6Q?autoplay=1&#34;&#xA;数据标题=“YouTube 视频”&#xA;&gt;&#xA;&lt;div class=&#34;play-button&#34;&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;where-to-learn-more&#34;&gt;哪里了解更多信息&lt;/h2&gt;&#xA;&lt;p&gt;对 Grafana 入门的更多最佳实践感兴趣？我们已经为您提供了保障。在 YouTube 上观看&lt;a href=&#34;https://www.youtube.com/watch?v=TQur9GJHIIQ&amp;list=PLDGkOdUX1Ujo27m6qiTPPCpFHVfyKq9jT&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Grafana 初学者视频系列&lt;/a&gt; ，我们将详细介绍上述主题，以及在我们的&lt;a href=&#34;/community/&#34;&gt;社区页面&lt;/a&gt;上共享的其他资源。&lt;/p&gt;</description>
      <pubDate>Mon, 07 Oct 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【How to use Prometheus to efficiently detect anomalies at scale】如何使用 Prometheus 有效地大规模检测异常</title>
      <link>https://grafana.com/blog/2024/10/03/how-to-use-prometheus-to-efficiently-detect-anomalies-at-scale/</link>
      <description>【&lt;p&gt;When you investigate an incident, context is everything.&lt;/p&gt;&#xA;&lt;p&gt;Let&amp;rsquo;s say you&amp;rsquo;re working on-call and get pinged in the middle of the night. You open the alert and it sends you to a dashboard where you recognize a latency pattern. But is the spike normal for that time of day? Is it even relevant? Next thing you know, you&amp;rsquo;re expanding the time window and checking other related metrics as you try to figure out what&amp;rsquo;s going on.&lt;/p&gt;&#xA;&lt;p&gt;It&amp;rsquo;s not to say you won&amp;rsquo;t find the answers. But time is of the essence in these scenarios, so having that context at your fingertips can be the difference between a quick resolution and a protracted trip down an incident rabbit hole.&lt;/p&gt;&#xA;&lt;p&gt;To address this problem here at Grafana Labs, we developed an anomaly detection framework based solely on PromQL. It&amp;rsquo;s working great for us so far—both internally for our own debugging and externally as part of &lt;a href=&#34;/docs/grafana-cloud/monitor-applications/application-observability/manual/automatic-baseline/&#34;&gt;Grafana Cloud Application Observability&lt;/a&gt;—and now we&amp;rsquo;re excited to share it with you!&lt;/p&gt;&#xA;&lt;p&gt;In this blog post, which is based on &lt;a href=&#34;https://www.youtube.com/watch?v=BTAba-Vq3xE&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;our recent PromCon talk&lt;/a&gt;, we&amp;rsquo;re going to walk through how we developed this &lt;a href=&#34;https://github.com/grafana/promql-anomaly-detection&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;dependable, open source framework&lt;/a&gt; and how you can start putting it to use today.&lt;/p&gt;&#xA;&lt;h2 id=&#34;how-we-approached-building-an-anomaly-detection-framework&#34;&gt;How we approached building an anomaly detection framework&lt;/h2&gt;&#xA;&lt;p&gt;There are multiple ways to address anomaly detection, but we needed our framework to adhere to these principles:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;No external systems.&lt;/strong&gt; It had to be Prometheus-compatible to work with &lt;a href=&#34;/oss/mimir/&#34;&gt;Grafana Mimir&lt;/a&gt;. And while it&amp;rsquo;s possible to use an external tool to fetch data from Prometheus and write back to it, we wanted this to work with just the built-in Prometheus functionality so anyone can use it without needing external dependencies.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Performant at scale.&lt;/strong&gt; We manage all our metric data in Mimir, as well as multi-tenant instances for our Grafana Cloud users, so we needed the framework to operate at a very high scale.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;No magic.&lt;/strong&gt; It had to be something we could explain to each other and the rest of our coworkers. It also needed to be something we could confidently trust to do the job.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;These were our constraints, but we think this approach will resonate with a wider audience than just Grafana Labs. In fact, the framework will work with any Prometheus-compatible metrics backend.&lt;/p&gt;&#xA;&lt;h2 id=&#34;establishing-baselines-a-first-attempt&#34;&gt;Establishing baselines: a first attempt&lt;/h2&gt;&#xA;&lt;p&gt;We began with the same formula (based on the &lt;a href=&#34;https://www.statisticshowto.com/probability-and-statistics/z-score/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;z-score formula&lt;/a&gt;) that most everyone starts with for anomaly detection:&lt;/p&gt;&#xA;&lt;p&gt;Baselines = average ± stddev * multiplier&lt;/p&gt;&#xA;&lt;p&gt;This formula is so popular because it helps establish a middle line—typically a moving average that follows your trends—and define the upper and lower bands of behavior so that everything outside those bands is considered an anomaly.&lt;/p&gt;&#xA;&lt;p&gt;To implement this, we used Prometheus &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;recording rules&lt;/a&gt;. Let&amp;rsquo;s look briefly at how we defined each component.&lt;/p&gt;&#xA;&lt;h3 id=&#34;average&#34;&gt;Average&lt;/h3&gt;&#xA;&lt;p&gt;Selecting the time window was the biggest choice we had to make here, since there&amp;rsquo;s a tradeoff between how much your middle line is lagging behind your metric and the smoothing factor you have to apply.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1634px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/average.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/average.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/average.png?w=320 320w, /media/blog/anomaly-detection-oss/average.png?w=550 550w, /media/blog/anomaly-detection-oss/average.png?w=750 750w, /media/blog/anomaly-detection-oss/average.png?w=900 900w, /media/blog/anomaly-detection-oss/average.png?w=1040 1040w, /media/blog/anomaly-detection-oss/average.png?w=1240 1240w, /media/blog/anomaly-detection-oss/average.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana dashboard displaying request and average time series&#34;&#xA;width=&#34;1634&#34;&#xA;height=&#34;479&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/average.png&#34;&#xA;alt=&#34;Grafana dashboard displaying request and average time series&#34;&#xA;width=&#34;1634&#34;&#xA;height=&#34;479&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;We found that one hour was the sweet spot, as the system is tuned for short-term anomaly detection (large deviations in small time frames). Here&amp;rsquo;s how we applied that recording rule:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: avg_1h&#xA;expr: avg_over_time(metric[1h])&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;h3 id=&#34;standard-deviation&#34;&gt;Standard deviation&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus has a &lt;code&gt;std_over_time&lt;/code&gt; function, and we chose a larger time window here so we could incorporate as much information as possible to come up with bands that actually adapt to fluctuations in your metric:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: stddev_26h&#xA;expr: stddev_over_time(metric[26h])&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;We typically use 24 hours for these types of things, but we chose 26 instead to give users a bit more headroom. For example, if you have something that happens every 24 hours, you might get strange patterns where your bands start contracting or expanding. Or maybe it&amp;rsquo;s Daylight Savings Time, and the organic patterns shift as a result. The extra two hours gives us the buffer so we get more accurate predictions.&lt;/p&gt;&#xA;&lt;h3 id=&#34;multiplier-and-final-formula&#34;&gt;Multiplier and final formula&lt;/h3&gt;&#xA;&lt;p&gt;The multiplier is part of the tuning parameters: a higher number results in wider bands and less sensitivity, while a lower number would lead to more sensitivity. The typical multiplier is two or three, depending on the use case, and we found two was the best fit here.&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: stddev_multiplier&#xA;expr: 2&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;Taken together, here is how we expressed that initial formula as a recording rule:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: upper_band_st&#xA;expr: avg_1h &amp;#43; stddev_26h * on() group_left stddev_multiplier&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; When you do multiplication in Prometheus, it will try to match the labels on the left and right sides. We use &lt;code&gt;group_left&lt;/code&gt; to tell Prometheus to ignore labels since we don&amp;rsquo;t have any on the right side of the equation.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 825px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/final-formula.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/final-formula.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/final-formula.png?w=320 320w, /media/blog/anomaly-detection-oss/final-formula.png?w=550 550w, /media/blog/anomaly-detection-oss/final-formula.png?w=750 750w, /media/blog/anomaly-detection-oss/final-formula.png?w=900 900w, /media/blog/anomaly-detection-oss/final-formula.png?w=1040 1040w, /media/blog/anomaly-detection-oss/final-formula.png?w=1240 1240w, /media/blog/anomaly-detection-oss/final-formula.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Anomaly detectoin dashboard&#34;&#xA;width=&#34;825&#34;&#xA;height=&#34;426&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/final-formula.png&#34;&#xA;alt=&#34;Anomaly detectoin dashboard&#34;&#xA;width=&#34;825&#34;&#xA;height=&#34;426&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;The panel above is the result of our first attempt to build this framework. And it looked pretty good: there was a spike and as you can see by the green shaded area, we&amp;rsquo;ve detected an anomaly and our bands (the gray area) have expanded to adapt to the increased variability in the data.&lt;/p&gt;&#xA;&lt;p&gt;We were pleased with that initial attempt, but we ran into several issues when we used this framework in production.&lt;/p&gt;&#xA;&lt;h2 id=&#34;overcoming-challenges&#34;&gt;Overcoming challenges&lt;/h2&gt;&#xA;&lt;p&gt;Next, let&amp;rsquo;s walk through how we addressed these problems presented by our initial attempt.&lt;/p&gt;&#xA;&lt;h3 id=&#34;extreme-outliers&#34;&gt;Extreme outliers&lt;/h3&gt;&#xA;&lt;p&gt;Because the standard deviation formula squares the differences, it can grow much faster than the average. As a result, extreme spikes can cause your bands to expand rapidly and you stop detecting anomalies, essentially rendering your system useless.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1866px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/outliers.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/outliers.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/outliers.png?w=320 320w, /media/blog/anomaly-detection-oss/outliers.png?w=550 550w, /media/blog/anomaly-detection-oss/outliers.png?w=750 750w, /media/blog/anomaly-detection-oss/outliers.png?w=900 900w, /media/blog/anomaly-detection-oss/outliers.png?w=1040 1040w, /media/blog/anomaly-detection-oss/outliers.png?w=1240 1240w, /media/blog/anomaly-detection-oss/outliers.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Extreme outliers in bands&#34;&#xA;width=&#34;1866&#34;&#xA;height=&#34;564&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/outliers.png&#34;&#xA;alt=&#34;Extreme outliers in bands&#34;&#xA;width=&#34;1866&#34;&#xA;height=&#34;564&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;We needed to control the rate at which those bands expanded, so we added a smoothing function to address the trade off between band sensitivity and false positives. We did so with these recording rules:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: stddev_1h&#xA;expr: stddev_over_time(metric[1h])&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: stddev_st&#xA;expr: avg_over_time (stddev_1h[26h])&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;h3 id=&#34;low-sensitivity&#34;&gt;Low sensitivity&lt;/h3&gt;&#xA;&lt;p&gt;The smoothing function did what we wanted, but it also resulted in a bit of an overcorrection. The bands were too narrow and not sensitive enough, which could lead to lots of false positives since the bands didn&amp;rsquo;t capture the normal fluctuations.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1732px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/sensitive.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/sensitive.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/sensitive.png?w=320 320w, /media/blog/anomaly-detection-oss/sensitive.png?w=550 550w, /media/blog/anomaly-detection-oss/sensitive.png?w=750 750w, /media/blog/anomaly-detection-oss/sensitive.png?w=900 900w, /media/blog/anomaly-detection-oss/sensitive.png?w=1040 1040w, /media/blog/anomaly-detection-oss/sensitive.png?w=1240 1240w, /media/blog/anomaly-detection-oss/sensitive.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Low sensitivity bands&#34;&#xA;width=&#34;1732&#34;&#xA;height=&#34;473&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/sensitive.png&#34;&#xA;alt=&#34;Low sensitivity bands&#34;&#xA;width=&#34;1732&#34;&#xA;height=&#34;473&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;This, again, comes back to standard deviation. When you have a stable period and a standard deviation close to zero, the bands don&amp;rsquo;t expand fast enough. You end up with watered down data sets that combine periods of high and low variability, so we filtered out those low variability periods:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: stddev_1h:filtered&#xA;expr: |&#xA;stddev_over_time(metric[1h])&#xA;&amp;gt; ?????&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;Coming up with the threshold in that last line of the recording rule was a bit of a challenge. We want this framework to work for any metric, but different metrics have different magnitudes. For example, if you have a 10 request per second metric and you add five requests, that&amp;rsquo;s a big leap. But if you add that same number to a metric for 1,000 requests per second, it&amp;rsquo;s probably insignificant. To adapt to the threshold, we used a statistical concept known as &lt;a href=&#34;https://en.wikipedia.org/wiki/Coefficient_of_variation&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;coefficient of variation&lt;/a&gt;:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: threshold_by_covar&#xA;expr: 0.5&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: stddev_1h:filtered&#xA;expr: |&#xA;stddev_over_time(metric[1h])&#xA;&amp;gt; avg_1h * on() group_left threshold_by_covar&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;The result was a good compromise between sensitivity and smoothness:&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1732px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/sensitive-smooth.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/sensitive-smooth.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/sensitive-smooth.png?w=320 320w, /media/blog/anomaly-detection-oss/sensitive-smooth.png?w=550 550w, /media/blog/anomaly-detection-oss/sensitive-smooth.png?w=750 750w, /media/blog/anomaly-detection-oss/sensitive-smooth.png?w=900 900w, /media/blog/anomaly-detection-oss/sensitive-smooth.png?w=1040 1040w, /media/blog/anomaly-detection-oss/sensitive-smooth.png?w=1240 1240w, /media/blog/anomaly-detection-oss/sensitive-smooth.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Bands that compromise on smoothness and sensitivity &#34;&#xA;width=&#34;1732&#34;&#xA;height=&#34;473&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/sensitive-smooth.png&#34;&#xA;alt=&#34;Bands that compromise on smoothness and sensitivity &#34;&#xA;width=&#34;1732&#34;&#xA;height=&#34;473&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h3 id=&#34;discontinuities&#34;&gt;Discontinuities&lt;/h3&gt;&#xA;&lt;p&gt;The filtering of low variability periods created another challenge, since extended windows of stable performance would essentially filter out everything.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1514px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/discontinuity.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/discontinuity.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/discontinuity.png?w=320 320w, /media/blog/anomaly-detection-oss/discontinuity.png?w=550 550w, /media/blog/anomaly-detection-oss/discontinuity.png?w=750 750w, /media/blog/anomaly-detection-oss/discontinuity.png?w=900 900w, /media/blog/anomaly-detection-oss/discontinuity.png?w=1040 1040w, /media/blog/anomaly-detection-oss/discontinuity.png?w=1240 1240w, /media/blog/anomaly-detection-oss/discontinuity.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Discontinuity in a Grafana dashboard&#34;&#xA;width=&#34;1514&#34;&#xA;height=&#34;343&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/discontinuity.png&#34;&#xA;alt=&#34;Discontinuity in a Grafana dashboard&#34;&#xA;width=&#34;1514&#34;&#xA;height=&#34;343&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;To address this, we introduced a new band that complements the one we just defined. It&amp;rsquo;s based on the average, and its purpose is to define the minimum width we&amp;rsquo;re willing to accept:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: margin_multiplier&#xA;expr: 2&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: margin_upper_band&#xA;expr: avg_1h &amp;#43; avg_1h * on() group_left margin_multiplier&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;This creates a much more defined band that help set the minimum upper and lower margins. And from there, we combine both bands.&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: upper_band&#xA;expr: |&#xA;max(&#xA;margin_upper_band or&#xA;upper_band_st&#xA;)&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;The result of combining those bands looks like this:&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 812px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/combined-bands.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/combined-bands.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/combined-bands.png?w=320 320w, /media/blog/anomaly-detection-oss/combined-bands.png?w=550 550w, /media/blog/anomaly-detection-oss/combined-bands.png?w=750 750w, /media/blog/anomaly-detection-oss/combined-bands.png?w=900 900w, /media/blog/anomaly-detection-oss/combined-bands.png?w=1040 1040w, /media/blog/anomaly-detection-oss/combined-bands.png?w=1240 1240w, /media/blog/anomaly-detection-oss/combined-bands.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Combined bands in a Grafana dashboard&#34;&#xA;width=&#34;812&#34;&#xA;height=&#34;385&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/combined-bands.png&#34;&#xA;alt=&#34;Combined bands in a Grafana dashboard&#34;&#xA;width=&#34;812&#34;&#xA;height=&#34;385&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h3 id=&#34;long-term-recurrent-patterns&#34;&gt;Long-term recurrent patterns&lt;/h3&gt;&#xA;&lt;p&gt;This last scenario we had to accommodate for was seasonality such as cron jobs or any other spike that happens the same time every week. This was a relatively easy fix with this recording rule, which used the same formula we used earlier, but with a smaller time window:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: upper_band_lt&#xA;expr: |&#xA;avg_1h offset 23h30m&#xA;&amp;#43; stddev_1h offset 23h30m * on() group_left stddev_multiplier&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;This rule looks back at past behavior to predict future behavior and expand the bands before we hit any spike. It&amp;rsquo;s a simple solution, but we found it works really well in practice.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1153px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/recurrent-patterns.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/recurrent-patterns.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/recurrent-patterns.png?w=320 320w, /media/blog/anomaly-detection-oss/recurrent-patterns.png?w=550 550w, /media/blog/anomaly-detection-oss/recurrent-patterns.png?w=750 750w, /media/blog/anomaly-detection-oss/recurrent-patterns.png?w=900 900w, /media/blog/anomaly-detection-oss/recurrent-patterns.png?w=1040 1040w, /media/blog/anomaly-detection-oss/recurrent-patterns.png?w=1240 1240w, /media/blog/anomaly-detection-oss/recurrent-patterns.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Recurrent patterns in a Grafana dashboard&#34;&#xA;width=&#34;1153&#34;&#xA;height=&#34;349&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/recurrent-patterns.png&#34;&#xA;alt=&#34;Recurrent patterns in a Grafana dashboard&#34;&#xA;width=&#34;1153&#34;&#xA;height=&#34;349&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Taken collectively, we are now defining three bands:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: upper_band&#xA;expr: |&#xA;max(&#xA;margin_upper_band or&#xA;upper_band_st&#xA;upper_band_lt&#xA;)&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;And we end up with a graph that looks like this:&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 707px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/final.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/final.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/final.png?w=320 320w, /media/blog/anomaly-detection-oss/final.png?w=550 550w, /media/blog/anomaly-detection-oss/final.png?w=750 750w, /media/blog/anomaly-detection-oss/final.png?w=900 900w, /media/blog/anomaly-detection-oss/final.png?w=1040 1040w, /media/blog/anomaly-detection-oss/final.png?w=1240 1240w, /media/blog/anomaly-detection-oss/final.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Combined anomaly detection framework in a Grafana dashboard&#34;&#xA;width=&#34;707&#34;&#xA;height=&#34;367&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/final.png&#34;&#xA;alt=&#34;Combined anomaly detection framework in a Grafana dashboard&#34;&#xA;width=&#34;707&#34;&#xA;height=&#34;367&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h2 id=&#34;how-you-can-use-the-framework-for-your-systems&#34;&gt;How you can use the framework for your systems&lt;/h2&gt;&#xA;&lt;p&gt;The rules we just described make up the building blocks of a &lt;a href=&#34;https://github.com/grafana/promql-anomaly-detection&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;reusable framework that works for any metric&lt;/a&gt;. All you need to do is add the recording and alerting rules to your Prometheus instance, then tag the metric:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- record: anomaly:request:rate5m&#xA;expr: sum(rate(duration_milliseconds_count[5m])) by (job)&#xA;labels:&#xA;anomaly_name: &amp;#34;otel_demo_requests”&#xA;anomaly_type: ”requests”&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;You&amp;rsquo;ll need to replace the &lt;code&gt;anomaly_name&lt;/code&gt; entry with your metric&amp;rsquo;s unique identifier. You can also pick from one of four default types: &lt;code&gt;request&lt;/code&gt;, &lt;code&gt;latency&lt;/code&gt;, &lt;code&gt;errors&lt;/code&gt;, and &lt;code&gt;resource&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1726px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/anomaly-dashboard.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/anomaly-dashboard.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=320 320w, /media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=550 550w, /media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=750 750w, /media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=900 900w, /media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=1040 1040w, /media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=1240 1240w, /media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Anomaly detection dashboard&#34;&#xA;width=&#34;1726&#34;&#xA;height=&#34;1226&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/anomaly-dashboard.png&#34;&#xA;alt=&#34;Anomaly detection dashboard&#34;&#xA;width=&#34;1726&#34;&#xA;height=&#34;1226&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;To try it out yourself, go to the &lt;a href=&#34;https://github.com/grafana/promql-anomaly-detection&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;GitHub repository&lt;/a&gt;, where you&amp;rsquo;ll find everything you need, including recording and alerting rules, dashboards, and more usage examples. You can also test it out in the &lt;a href=&#34;https://github.com/grafana/promql-anomaly-detection/tree/main/demo&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;demo environment&lt;/a&gt;, which has everything set up already.&lt;/p&gt;&#xA;&lt;p&gt;We&amp;rsquo;re excited to see how people put it to use, and we definitely want to hear feedback on ways we can improve or add more features you need. Reach out in the &lt;a href=&#34;https://grafana.slack.com/archives/C07L168PJR5&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;#promql-anomaly-detection channel&lt;/a&gt; in the Grafana community Slack, or create issues and PRs in the repo.&lt;/p&gt;&#xA;&lt;p&gt;And if you want to learn more about the topics discussed here, check out our &lt;a href=&#34;https://www.youtube.com/watch?v=BTAba-Vq3xE&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;full PromCon talk on YouTube&lt;/a&gt;. You can also download the &lt;a href=&#34;https://grafana.com/files/Promcon-2024-Practical-anomaly-detection-at-scale-with-PromQL.pdf&#34; download&gt;slide deck here (2.8 MB)&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;h3 id=&#34;where-to-go-from-here&#34;&gt;Where to go from here&lt;/h3&gt;&#xA;&lt;p&gt;Anomaly detection can provide great context, but anomalies aren&amp;rsquo;t strong enough signals on their own to indicate something is wrong. So the next step in making the data actionable is to tie the framework back to your pre-established, SLO-based alerts as part of your root-cause analysis workflow.&lt;/p&gt;&#xA;&lt;p&gt;For example, you can link those alerts back to a visualization tool like &lt;a href=&#34;/products/cloud/asserts/&#34;&gt;Grafana Cloud Asserts&lt;/a&gt; that shows all the anomalies in your system. To illustrate this, let&amp;rsquo;s briefly look at how we&amp;rsquo;re doing this in Grafana Cloud.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/anomaly-detection-oss/asserts.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/asserts.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/asserts.png?w=320 320w, /media/blog/anomaly-detection-oss/asserts.png?w=550 550w, /media/blog/anomaly-detection-oss/asserts.png?w=750 750w, /media/blog/anomaly-detection-oss/asserts.png?w=900 900w, /media/blog/anomaly-detection-oss/asserts.png?w=1040 1040w, /media/blog/anomaly-detection-oss/asserts.png?w=1240 1240w, /media/blog/anomaly-detection-oss/asserts.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana Cloud Asserts UI&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1150&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/anomaly-detection-oss/asserts.png&#34;&#xA;alt=&#34;Grafana Cloud Asserts UI&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1150&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;As you can see from the image above, when the alert fires, we have the ability to trace our system to understand the interdependencies and what is flowing upstream and downstream from the alert, which instantly adds context to help accelerate our troubleshooting.&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;&lt;a href=&#34;/products/cloud/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana Cloud &lt;/a&gt;is the easiest way to get started with metrics, logs, traces, dashboards, and more. We have a generous forever-free tier and plans for every use case. &lt;a href=&#34;/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Sign up for free now!&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;】&lt;p&gt;当您调查事件时，背景就是一切。&lt;/p&gt;&#xA;&lt;p&gt;假设您正在值班，并在半夜接到通知。您打开警报，它会将您发送到仪表板，您可以在其中识别延迟模式。但一天中那个时间的峰值正常吗？它甚至相关吗？接下来您会知道，您正在扩大时间窗口并检查其他相关指标，同时尝试弄清楚发生了什么。&lt;/p&gt;&#xA;&lt;p&gt;这并不是说您找不到答案。但在这些场景中，时间至关重要，因此，掌握相关背景信息可能是快速解决问题和陷入事件兔子洞的漫长旅程之间的区别。&lt;/p&gt;&#xA;&lt;p&gt;为了解决 Grafana Labs 的这个问题，我们开发了一个仅基于 PromQL 的异常检测框架。到目前为止，它对我们来说效果很好，无论是在内部用于我们自己的调试，还是在外部作为 &lt;a href=&#34;/docs/grafana-cloud/monitor-applications/application-observability/manual/automatic-baseline/&#34;&gt;Grafana 云应用程序的一部分可观察性&lt;/a&gt;——现在我们很高兴与您分享！&lt;/p&gt;&#xA;&lt;p&gt;这篇博文基于&lt;a href=&#34;https://www.youtube.com/watch?v=BTAba-Vq3xE&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;我们最近的 PromCon谈话&lt;/a&gt;，我们将介绍如何开发这个&lt;a href=&#34;https://github.com/grafana/promql-anomaly-detection&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;可靠的开源框架&lt;/a&gt;以及如何立即开始使用它。&lt;/p&gt;&#xA;&lt;h2 id=&#34;how-we-approached-building-an-anomaly-detection-framework&#34;&gt;我们如何构建异常检测框架&lt;/h2&gt;&#xA;&lt;p&gt;有多种方法可以解决异常检测问题，但我们需要我们的框架遵守以下原则：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;无外部系统。&lt;/strong&gt;它必须与 Prometheus 兼容才能与 &lt;a href=&#34;/oss/mimir/&#34;&gt;Grafana Mimir&lt;/a&gt; 配合使用。虽然可以使用外部工具从 Prometheus 获取数据并写回其中，但我们希望它仅与内置的 Prometheus 功能一起使用，以便任何人都可以使用它，而不需要外部依赖项。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;大规模性能。&lt;/strong&gt;我们在 Mimir 中管理所有指标数据，并为 Grafana Cloud 用户管理多租户实例，因此我们需要该框架能够大规模运行。&lt; /里&gt;&#xA;&lt;li&gt;&lt;strong&gt;没有魔法。&lt;/strong&gt;它必须是我们可以向彼此和其他同事解释的东西。它还需要是我们可以自信地信任来完成这项工作的东西。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这些是我们的限制，但我们认为这种方法将引起更广泛的受众的共鸣，而不仅仅是 Grafana Labs。事实上，该框架可以与任何与 Prometheus 兼容的指标后端配合使用。&lt;/p&gt;&#xA;&lt;h2 id=&#34;建立-baselines-a-first-attempt&#34;&gt;建立基线：第一次尝试&lt;/h2&gt;&#xA;&lt;p&gt;我们从相同的公式开始（基于&lt;a href=&#34;https://www.statisticshowto.com/probability-and-statistics/z-score/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;z-score 公式&lt;/a&gt;），大多数人都从异常检测开始：&lt;/p&gt;&#xA;&lt;p&gt;基线 = 平均值 ± stddev * 乘数&lt;/p&gt;&#xA;&lt;p&gt;这个公式如此受欢迎，因为它有助于建立一条中线（通常是跟随趋势的移动平均线）并定义行为的上限和下限，以便这些范围之外的所有内容都被视为异常。&lt;/p&gt;&#xA;&lt;p&gt;为了实现这一点，我们使用了 Prometheus &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;记录规则&lt;/一个&gt;。让我们简要地看一下我们如何定义每个组件。&lt;/p&gt;&#xA;&lt;h3 id=&#34;average&#34;&gt;平均&lt;/h3&gt;&#xA;&lt;p&gt;选择时间窗口是我们在这里必须做出的最大选择，因为您的中线落后于指标的程度和您必须应用的平滑因子之间需要进行权衡。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1634px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/average.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/average.png”data-srcset =“/media/blog/anomaly-detection-oss/average.png？w = 320 320w，/media/blog/异常检测-oss/average.png？w=550 550w，/media/blog/anomaly-detection-oss/average.png？w=750 750w，/media/blog/anomaly-detection-oss/average.png？ w=900 900w，/media/blog/anomaly-detection-oss/average.png？w=1040 1040w，/media/blog/anomaly-detection-oss/average.png？w=1240 1240w，/media/blog/异常检测-oss/average.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示请求和平均时间序列的 Grafana 仪表板&#34;&#xA;宽度=“1634”&#xA;高度=“479”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/average.png”&#xA;alt=&#34;Grafana 仪表板显示请求和平均时间序列&#34;&#xA;宽度=“1634”&#xA;高度=“479”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;我们发现一小时是最佳时间，因为系统针对短期异常检测（小时间范围内的大偏差）进行了调整。以下是我们如何应用该记录规则：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：avg_1h&#xA;expr: avg_over_time(metric[1h])&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;h3 id=&#34;standard-deviation&#34;&gt;标准差&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus 有一个 &lt;code&gt;std_over_time&lt;/code&gt; 函数，我们在这里选择了一个更大的时间窗口，这样我们就可以合并尽可能多的信息来得出结果实际上适应指标波动的第 i 个频段：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：stddev_26h&#xA;expr: stddev_over_time(metric[26h]) &lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;我们通常使用 24 小时来处理这些类型的事情，但我们选择了 26 小时，以便为用户提供更多的空间。例如，如果每 24 小时发生一次，您可能会出现奇怪的模式，即您的带开始收缩或扩张。或者也许是夏令时，有机模式因此发生了变化。额外的两个小时为我们提供了缓冲，以便我们获得更准确的预测。&lt;/p&gt;&#xA;&lt;h3 id=&#34;multiplier-and-final-formula&#34;&gt;乘数和最终公式&lt;/h3&gt;&#xA;&lt;p&gt;乘数是调谐参数的一部分：数字越大，频带越宽，灵敏度越低，数字越小，灵敏度越高。典型的乘数是二或三，具体取决于用例，我们发现两个是最适合的。&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：stddev_multiplier&#xA;表达式：2&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;总而言之，我们如何将初始公式表达为记录规则：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：upper_band_st&#xA;expr: avg_1h + stddev_26h * on() group_left stddev_multiplier&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;块引用&gt;&#xA;&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;当你在 Prometheus 中进行乘法运算时，它会尝试匹配左侧和右侧的标签。我们使用&lt;code&gt;group_left&lt;/code&gt;告诉Prometheus忽略标签，因为等式右侧没有任何标签。&lt;/p&gt;&#xA;&lt;/块引用&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：825px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;项目类型=“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/final-formula.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/final-formula.png”data-srcset =“/media/blog/anomaly-detection-oss/final-formula.png？w = 320 320w，/媒体/博客/异常检测-oss/final-formula.png?w=550 550w，/media/blog/anomaly-detection-oss/final-formula.png?w=750 750w，/media/blog/anomaly-检测-oss/final-formula.png?w=900 900w，/media/blog/anomaly-detection-oss/final-formula.png?w=1040 1040w，/media/blog/anomaly-detection-oss/final- Formula.png?w=1240 1240w，/media/blog/anomaly-detection-oss/final-formula.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;仪表板异常检测&#34;&#xA;宽度=“825”&#xA;高度=“426”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/final-formula.png”&#xA;alt=&#34;异常检测仪表板&#34;&#xA;宽度=“825”&#xA;高度=“426”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;上面的面板是我们第一次尝试构建这个框架的结果。它看起来相当不错：出现了一个峰值，正如您通过绿色阴影区域看到的那样，我们检测到了异常，并且我们的条带（灰色区域）已经扩展以适应数据中增加的可变性。&lt;/p &gt;&#xA;&lt;p&gt;我们对最初的尝试感到满意，但在生产中使用此框架时遇到了几个问题。&lt;/p&gt;&#xA;&lt;h2 id=&#34;overcoming-challenges&#34;&gt;克服挑战&lt;/h2&gt;&#xA;&lt;p&gt;接下来，让我们看看我们是如何解决最初尝试中出现的这些问题的。&lt;/p&gt;&#xA;&lt;h3 id=&#34;extreme-outliers&#34;&gt;极端异常值&lt;/h3&gt;&#xA;&lt;p&gt;由于标准差公式对差异进行平方，因此它的增长速度比平均值快得多。因此，极端的尖峰可能会导致您的频带快速扩展，并且您停止检测异常，从本质上使您的系统变得毫无用处。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1866px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/outliers.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/outliers.png”data-srcset =“/media/blog/anomaly-detection-oss/outliers.png？w = 320 320w，/media/blog/异常检测-oss/outliers.png？w=550 550w，/media/blog/anomaly-detection-oss/outliers.png？w=750 750w，/media/blog/anomaly-detection-oss/outliers.png？ w=900 900w，/media/blog/anomaly-detection-oss/outliers.png？w=1040 1040w，/media/blog/anomaly-detection-oss/outliers.png？w=1240 1240w，/media/blog/异常检测-oss/outliers.png?w=1920 1920w&#34;&#xA;data-sizes =“auto”alt =“带中的极端异常值”&#xA;宽度=“1866”&#xA;高度=“564”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/outliers.png”&#xA;alt=&#34;带内极端异常值&#34;&#xA;宽度=“1866”&#xA;高度=“564”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;我们需要控制这些频段扩展的速度，因此我们添加了一个平滑函数来解决频带灵敏度和误报之间的权衡。我们按照以下记录规则做到了这一点：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：stddev_1h&#xA;expr: stddev_over_time(metric[1h]) &lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：stddev_st&#xA;expr: avg_over_time (stddev_1h[26h]) &lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;h3 id=&#34;low-sensitivity&#34;&gt;低灵敏度&lt;/h3&gt;&#xA;&lt;p&gt;平滑函数实现了我们想要的效果，但它也导致了一些过度校正。条带太窄且不够敏感，这可能会导致大量误报，因为条带没有捕获正常波动。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1732px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/sensitive.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/sensitive.png”data-srcset =“/media/blog/anomaly-detection-oss/sensitive.png？w = 320 320w，/media/blog/异常检测-oss/sensitive.png?w=550 550w，/media/blog/anomaly-detection-oss/sensitive.png?w=750 750w，/media/blog/anomaly-detection-oss/sensitive.png？ w=900 900w，/media/blog/anomaly-detection-oss/sensitive.png？w=1040 1040w，/media/blog/anomaly-detection-oss/sensitive.png？w=1240 1240w，/media/blog/异常检测-oss/sensitive.png?w=1920 1920w&#34;&#xA;data-sizes=“auto”alt=“低敏感度带”&#xA;宽度=“1732”&#xA;高度=“473”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/sensitive.png”&#xA;alt=&#34;低灵敏度波段&#34;&#xA;宽度=“1732”&#xA;高度=“473”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;这又回到了标准差。当周期稳定且标准差接近于零时，条带扩展得不够快。您最终会得到结合了高变异性时期和低变异性时期的淡化数据集，因此我们过滤掉了那些低变异性时期：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span类=“鳕鱼”电子剪贴板&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：stddev_1h:filtered&#xA;表达式: |&#xA;stddev_over_time(度量[1h])&#xA;&gt; ??????&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;在记录规则的最后一行中提出阈值是一个挑战。我们希望这个框架适用于任何指标，但不同的指标有不同的量级。例如，如果您有每秒 10 个请求的指标，并且添加了 5 个请求，那么这就是一个巨大的飞跃。但如果您将相同的数字添加到每秒 1,000 个请求的指标中，则可能微不足道。为了适应阈值，我们使用了一个统计概念，称为&lt;a href=&#34;https://en.wikipedia.org/wiki/Coefficient_of_variation&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;变异系数&lt;/a &gt;：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：threshold_by_covar&#xA;指数：0.5&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：stddev_1h:filtered&#xA;表达式: |&#xA;stddev_over_time(度量[1h])&#xA;&gt; avg_1h * on() group_left Threshold_by_covar&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;结果是灵敏度和平滑度之间的良好折衷：&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1732px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/sensitive-smooth.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/anomaly-detection-oss/sensitive-smooth.png&#34;data-srcset=&#34;/media/blog/anomaly-detection-oss/sensitive-smooth.png?w=320 320w, /媒体/博客/异常检测-oss/sensitive-smooth.png?w=550 550w，/media/blog/anomaly-detection-oss/sensitive-smooth.png?w=750 750w，/media/blog/anomaly-检测-oss/sensitive-smooth.png?w=900 900w，/media/blog/anomaly-detection-oss/sensitive-smooth.png?w=1040 1040w，/media/blog/anomaly-detection-oss/sensitive-smooth.png?w=1240 1240w，/media/blog/anomaly-detection-oss/sensitive-平滑.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;影响平滑度和灵敏度的频段&#34;&#xA;宽度=“1732”&#xA;高度=“473”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/sensitive-smooth.png”&#xA;alt=&#34;会影响平滑度和灵敏度的频段&#34;&#xA;宽度=“1732”&#xA;高度=“473”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h3 id=&#34;discontinuities&#34;&gt;不连续性&lt;/h3&gt;&#xA;&lt;p&gt;过滤低变异周期带来了另一个挑战，因为延长稳定性能的窗口基本上会过滤掉所有内容。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1514px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/discontinuity.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/discontinuity.png”data-srcset =“/media/blog/anomaly-detection-oss/discontinuity.png？w = 320 320w，/media/blog/异常检测-oss/discontinuity.png？w=550 550w，/media/blog/anomaly-detection-oss/discontinuity.png？w=750 750w，/media/blog/anomaly-detection-oss/discontinuity.png？ w=900 900w，/media/blog/anomaly-detection-oss/discontinuity.png？w=1040 1040w，/media/blog/anomaly-detection-oss/discontinuity.png？w=1240 1240w，/media/blog/异常检测-oss/discontinuity.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana 仪表板中的不连续性&#34;&#xA;宽度=“1514”&#xA;高度=“343”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/discontinuity.png”&#xA;alt=&#34;Grafana 仪表板中的不连续性&#34;&#xA;宽度=“1514”&#xA;高度=“343”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;为了解决这个问题，我们引入了一个新的频段来补充我们刚刚定义的频段。它基于平均值，其目的是定义我们愿意接受的最小宽度：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：margin_multiplier&#xA;表达式：2&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;langu年龄-无&gt;-记录：margin_upper_band&#xA;expr: avg_1h + avg_1h * on() group_left margin_multiplier&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;这会创建一个更加明确的范围，有助于设置最小的上边距和下边距。从那里，我们将两个乐队结合起来。&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：upper_band&#xA;表达式: |&#xA;最大限度（&#xA;margin_upper_band 或&#xA;上带_st&#xA;）&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;组合这些频段的结果如下所示：&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：812px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/combined-bands.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/combined-bands.png”data-srcset =“/media/blog/anomaly-detection-oss/combined-bands.png？w = 320 320w，/媒体/博客/异常检测-oss/combined-bands.png？w = 550 550w，/媒体/博客/异常检测-oss/combined-bands.png？w = 750 750w，/媒体/博客/异常-检测-oss/combined-bands.png?w=900 900w, /media/blog/anomaly-detection-oss/combined-bands.png?w=1040 1040w, /media/blog/anomaly-detection-oss/combined- band.png?w=1240 1240w，/media/blog/anomaly-detection-oss/combined-bands.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana 仪表板中的组合频段&#34;&#xA;宽度=“812”&#xA;高度=“385”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/combined-bands.png”&#xA;alt=&#34;Grafana 仪表板中的组合频段&#34;&#xA;宽度=“812”&#xA;高度=“385”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h3 id=&#34;long-term-recurrent-patterns&#34;&gt;长期重复模式&lt;/h3&gt;&#xA;&lt;p&gt;我们必须适应的最后一个场景是季节性，例如 cron 作业或每周同一时间发生的任何其他峰值。对于此记录规则，这是一个相对简单的修复，它使用了我们之前使用的相同公式，但时间窗口较小：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：upper_band_lt&#xA;表达式: |&#xA;avg_1h 偏移 23h30m&#xA;+ stddev_1h 偏移 23h30m * on() group_left stddev_multiplier&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;这条规则回顾一下过去的行为来预测未来的行为并在我们达到任何峰值之前扩大范围。这是一个简单的解决方案，但我们发现它在实践中效果非常好。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1153px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/recurrent-patterns.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/recurrent-patterns.png”data-srcset =“/media/blog/anomaly-detection-oss/recurrent-patterns.png？w = 320 320w，/媒体/博客/异常检测-oss/recurrent-patterns.png？w=550 550w，/media/blog/anomaly-detection-oss/recurrent-patterns.png？w=750 750w，/media/blog/anomaly-检测-oss/recurrent-patterns.png?w=900 900w, /media/blog/anomaly-detection-oss/recurrent-patterns.png?w=1040 1040w, /media/blog/anomaly-detection-oss/recurrent-模式.png？w = 1240 1240w，/媒体/博客/异常检测-oss/recurrent-patterns.png？w = 1920 1920w”&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana 仪表板中的重复模式&#34;&#xA;宽度=“1153”&#xA;高度=“349”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/recurrent-patterns.png”&#xA;alt=&#34;Grafana 仪表板中的重复模式&#34;&#xA;宽度=“1153”&#xA;高度=“349”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;总的来说，我们现在定义三个频段：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：upper_band&#xA;表达式: |&#xA;最大限度（&#xA;margin_upper_band 或&#xA;上带_st&#xA;上带_lt&#xA;）&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;我们最终得到一个如下所示的图表：&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：707px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/final.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/final.png”data-srcset =“/media/blog/anomaly-detection-oss/final.png？w = 320 320w，/media/blog/异常检测-oss/final.png？w=550 550w，/media/blog/anomaly-detection-oss/final.png？w=750 750w，/media/blog/anomaly-detection-oss/final.png？ w=900 900w，/media/blog/anomaly-detection-oss/final.png？w=1040 1040w，/media/blog/anomaly-detection-oss/final.png？w=1240 1240w，/media/blog/异常检测-oss/final.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana 仪表板中的组合异常检测框架&#34;&#xA;宽度=“707”&#xA;高度=“367”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/媒体/博客/异常检测-oss/final.png&#34;&#xA;alt=&#34;Grafana 仪表板中的组合异常检测框架&#34;&#xA;宽度=“707”&#xA;高度=“367”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h2 id=&#34;how-you-can-use-the-framework-for-your-systems&#34;&gt;如何在您的系统中使用该框架&lt;/h2&gt;&#xA;&lt;p&gt;我们刚刚描述的规则构成了可重用框架的构建块适用于任何指标&lt;/a&gt;。您需要做的就是将记录和警报规则添加到 Prometheus 实例中，然后标记指标：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;- 记录：异常：请求：rate5m&#xA;expr: sum(rate(duration_milliseconds_count[5m])) by (作业)&#xA;标签：&#xA;anomaly_name：“otel_demo_requests”&#xA;anomaly_type：“请求”&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;您需要将 &lt;code&gt;anomaly_name&lt;/code&gt; 条目替换为指标的唯一标识符。您还可以从四种默认类型之一中进行选择：&lt;code&gt;请求&lt;/code&gt;、&lt;code&gt;延迟&lt;/code&gt;、&lt;code&gt;错误&lt;/code&gt;和&lt;code&gt;资源&lt;/code&gt;。&lt;/code&gt; p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1726px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/anomaly-dashboard.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/anomaly-dashboard.png”data-srcset =“/media/blog/anomaly-detection-oss/anomaly-dashboard.png？w = 320 320w，/媒体/博客/异常检测-oss/异常-仪表板.png？w = 550 550w，/媒体/博客/异常检测-oss/异常-仪表板.png？w = 750 750w，/媒体/博客/异常-检测-oss/anomaly-dashboard.png?w=900 900w，/media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=1040 1040w，/media/blog/anomaly-detection-oss/anomaly-仪表板.png?w=1240 1240w，/media/blog/anomaly-detection-oss/anomaly-dashboard.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;异常检测仪表板&#34;&#xA;宽度=“1726”&#xA;高度=“1226”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/anomaly-dashboard.png”&#xA;alt=&#34;异常检测仪表板&#34;&#xA;宽度=“1726”&#xA;高度=“1226”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;要亲自尝试，请转到 &lt;a href=&#34;https://github.com/grafana/promql-anomaly-detection&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;GitHub 存储库&lt;/a &gt;，您可以在其中找到所需的一切，包括记录和警报规则、仪表板和更多使用示例。您还可以在 &lt;a href 中测试它=&#34;https://github.com/grafana/promql-anomaly-detection/tree/main/demo&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;演示环境&lt;/a&gt;，一切都已设置完毕。 &lt;/p&gt;&#xA;&lt;p&gt;我们很高兴看到人们如何使用它，并且我们绝对希望听到有关如何改进或添加您需要的更多功能的反馈。请通过 Grafana 社区的&lt;a href=&#34;https://grafana.slack.com/archives/C07L168PJR5&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;#promql-anomaly-detection 频道&lt;/a&gt;进行联系Slack，或在存储库中创建问题和 PR。&lt;/p&gt;&#xA;&lt;p&gt;如果您想详细了解此处讨论的主题，请查看我们的 &lt;a href=&#34;https://www.youtube.com/watch?v=BTAba-Vq3xE&#34; target=&#34;_blank&#34; rel=&#34; noopener noreferrer&#34;&gt;YouTube 上的完整 PromCon 演讲&lt;/a&gt;。您还可以在此处下载&lt;a href=&#34;https://grafana.com/files/Promcon-2024-Practical-anomaly-detection-at-scale-with-PromQL.pdf&#34;下载&gt;幻灯片 (2.8 MB)&lt; /a&gt;.&lt;/p&gt;&#xA;&lt;h3 id=&#34;where-to-go-from-here&#34;&gt;从这里去哪里&lt;/h3&gt;&#xA;&lt;p&gt;异常检测可以提供很好的背景信息，但异常本身并不足以发出足够强的信号来表明出现问题。因此，使数据具有可操作性的下一步是将框架与预先建立的基于 SLO 的警报联系起来，作为根本原因分析工作流程的一部分。&lt;/p&gt;&#xA;&lt;p&gt;例如，您可以将这些警报链接回可视化工具，例如 &lt;a href=&#34;/products/cloud/asserts/&#34;&gt;Grafana Cloud Asserts&lt;/a&gt;，以显示系统中的所有异常情况。为了说明这一点，让我们简要看看我们是如何在 Grafana Cloud 中做到这一点的。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/anomaly-detection-oss/asserts.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/anomaly-detection-oss/asserts.png”data-srcset =“/media/blog/anomaly-detection-oss/asserts.png？w = 320 320w，/media/blog/异常检测-oss/asserts.png？w=550 550w，/media/blog/anomaly-detection-oss/asserts.png？w=750 750w，/media/blog/anomaly-detection-oss/asserts.png？ w=900 900w，/media/blog/anomaly-detection-oss/asserts.png？w=1040 1040w，/media/blog/anomaly-detection-oss/asserts.png？w=1240 1240w，/media/blog/异常检测-oss/asserts.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana Cloud 断言 UI&#34;&#xA;宽度=“1999”&#xA;高度=“1150”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/anomaly-detection-oss/asserts.png”&#xA;alt=&#34;Grafana Cloud 断言 UI&#34;&#xA;宽度=“1999”&#xA;高度=“1150”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;正如您从上图中看到的，当警报触发时，我们能够跟踪我们的系统以了解相互依赖性以及警报的上游和下游流动的内容，这会立即添加上下文以帮助加速我们的故障排除。 &lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;&lt;a href=&#34;/products/cloud/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana Cloud &lt;/a&gt;是 eas开始使用指标、日志、跟踪、仪表板等的最佳方式。我们为每个用例提供慷慨的永久免费套餐和计划。 &lt;a href=&#34;/auth/sign-up/create-user/?pg=blog&amp;plcmt=body-txt&#34;&gt;立即免费注册！&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</description>
      <pubDate>Thu, 03 Oct 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Inside PromQL: A closer look at the mechanics of a Prometheus query】PromQL 内部：深入了解 Prometheus 查询的机制</title>
      <link>https://grafana.com/blog/2024/10/08/inside-promql-a-closer-look-at-the-mechanics-of-a-prometheus-query/</link>
      <description>【&lt;p&gt;Even though I&amp;rsquo;m a Prometheus maintainer and work inside the Prometheus code, I found many of the details of PromQL, the Prometheus query language, obscure. Many times I would look something up, or go deep into the code to find out exactly what it did, only to forget it again the next month.&lt;/p&gt;&#xA;&lt;p&gt;So, trying to live up to my job title of Distinguished Engineer at Grafana Labs, I resolved to write the definitive guide: what really happens when I execute a PromQL query?&lt;/p&gt;&#xA;&lt;p&gt;At PromCon 2024 last month, I shared my findings with the broader Prometheus community in a session called &lt;a href=&#34;https://www.youtube.com/watch?v=t53-7vUhbqY&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;“Inside a PromQL Query: Understanding the Mechanics.”&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;In this blog post, I recap and expand on some of the main points I touched on during that talk. My hope is to offer you a peek under the hood of Prometheus, and a better understanding of how data flows from its source to its final destination at the API. Read on to learn more, and to explore additional resources you can use to further dig into this (extensive) topic.&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;Note: This is a description of PromQL implementation as of the Prometheus 2.54 release and 3.0 beta release. Details are likely to change over time.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-overview&#34;&gt;PromQL overview&lt;/h2&gt;&#xA;&lt;p&gt;Before diving into the mechanics of a PromQL query, it’s important to reiterate a few fundamental concepts.&lt;/p&gt;&#xA;&lt;p&gt;The purpose of a PromQL query is to express which metrics you want to use, and which operations you want to perform on those metrics, to compute a result.&lt;/p&gt;&#xA;&lt;p&gt;Typically, these queries are used to populate a dashboard, and there are two primary query types:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;An &lt;em&gt;instant query&lt;/em&gt; to look at single point in time:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 301px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-stat-resized.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-stat-resized.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-stat-resized.png?w=320 320w, /media/blog/promql-query/promql-stat-resized.png?w=550 550w, /media/blog/promql-query/promql-stat-resized.png?w=750 750w, /media/blog/promql-query/promql-stat-resized.png?w=900 900w, /media/blog/promql-query/promql-stat-resized.png?w=1040 1040w, /media/blog/promql-query/promql-stat-resized.png?w=1240 1240w, /media/blog/promql-query/promql-stat-resized.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of a PromQL instant query on a dashboard.&#34;&#xA;width=&#34;301&#34;&#xA;height=&#34;216&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-stat-resized.png&#34;&#xA;alt=&#34;A screenshot of a PromQL instant query on a dashboard.&#34;&#xA;width=&#34;301&#34;&#xA;height=&#34;216&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;ol start=&#34;2&#34;&gt;&#xA;&lt;li&gt;A &lt;em&gt;range query&lt;/em&gt; to see variation over a time range:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 499px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-range-query-resized.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-range-query-resized.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-range-query-resized.png?w=320 320w, /media/blog/promql-query/promql-range-query-resized.png?w=550 550w, /media/blog/promql-query/promql-range-query-resized.png?w=750 750w, /media/blog/promql-query/promql-range-query-resized.png?w=900 900w, /media/blog/promql-query/promql-range-query-resized.png?w=1040 1040w, /media/blog/promql-query/promql-range-query-resized.png?w=1240 1240w, /media/blog/promql-query/promql-range-query-resized.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of a PromQL range query on a graph.&#34;&#xA;width=&#34;499&#34;&#xA;height=&#34;245&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-range-query-resized.png&#34;&#xA;alt=&#34;A screenshot of a PromQL range query on a graph.&#34;&#xA;width=&#34;499&#34;&#xA;height=&#34;245&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;PromQL is defined in great detail in &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/basics/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;the documentation&lt;/a&gt;, so we won&amp;rsquo;t go too deep here, but briefly a query is built up from:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Selectors, with a metric name and label matchers. For example, &lt;code&gt;http_requests_total{status=&amp;quot;200&amp;quot;}&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Functions, such as &lt;code&gt;abs&lt;/code&gt; to take the absolute value or &lt;code&gt;rate&lt;/code&gt; to compute the rate of increase per second.&lt;/li&gt;&#xA;&lt;li&gt;Aggregations, like &lt;code&gt;sum&lt;/code&gt; and &lt;code&gt;max&lt;/code&gt;, with optional dimensions, e.g., &lt;code&gt;sum by (status)&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Operators, like &lt;code&gt;&amp;gt;&lt;/code&gt; and &lt;code&gt;+&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;An example query is &lt;code&gt;sum by (status) (rate(http_requests_total[5m]) &amp;gt; 0)&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;p&gt;This takes the 5-minute rate of HTTP requests, filters to those that had some requests, then sums by status.&lt;/p&gt;&#xA;&lt;p&gt;Inside Prometheus, the module that does most of the work is called the &amp;ldquo;engine.&amp;rdquo; PromQL is processed by the parser to create an &lt;a href=&#34;https://en.wikipedia.org/wiki/Abstract_syntax_tree&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Abstract Syntax Tree (AST)&lt;/a&gt; which the engine executes, pulling data from storage, and then outputs the result. (We’ll cover ASTs more below.)&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1340px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-diagram.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-diagram.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-diagram.png?w=320 320w, /media/blog/promql-query/promql-diagram.png?w=550 550w, /media/blog/promql-query/promql-diagram.png?w=750 750w, /media/blog/promql-query/promql-diagram.png?w=900 900w, /media/blog/promql-query/promql-diagram.png?w=1040 1040w, /media/blog/promql-query/promql-diagram.png?w=1240 1240w, /media/blog/promql-query/promql-diagram.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A diagram of PromQL query execution.&#34;&#xA;width=&#34;1340&#34;&#xA;height=&#34;462&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-diagram.png&#34;&#xA;alt=&#34;A diagram of PromQL query execution.&#34;&#xA;width=&#34;1340&#34;&#xA;height=&#34;462&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h3 id=&#34;parsing&#34;&gt;Parsing&lt;/h3&gt;&#xA;&lt;p&gt;The parser takes the textual form of PromQL and transforms it into a data structure to drive the PromQL engine. As an example, let&amp;rsquo;s take this query:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;rate(http_requests_total[5m]) &amp;gt; 0&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;The parser will turn it into the following tree:&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 506px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-parser-tree-resized.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-parser-tree-resized.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-parser-tree-resized.png?w=320 320w, /media/blog/promql-query/promql-parser-tree-resized.png?w=550 550w, /media/blog/promql-query/promql-parser-tree-resized.png?w=750 750w, /media/blog/promql-query/promql-parser-tree-resized.png?w=900 900w, /media/blog/promql-query/promql-parser-tree-resized.png?w=1040 1040w, /media/blog/promql-query/promql-parser-tree-resized.png?w=1240 1240w, /media/blog/promql-query/promql-parser-tree-resized.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A diagram of a tree from the parser. &#34;&#xA;width=&#34;506&#34;&#xA;height=&#34;359&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-parser-tree-resized.png&#34;&#xA;alt=&#34;A diagram of a tree from the parser. &#34;&#xA;width=&#34;506&#34;&#xA;height=&#34;359&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;As mentioned above, the technical name for this is an Abstract Syntax Tree. Simply put, it’s a data structure with nodes representing selectors, operators, functions, etc. It has one root (at the top of the picture — computer trees grow downwards), and you can &amp;ldquo;walk&amp;rdquo; down the links to find everything that was in the original query.&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-execution&#34;&gt;PromQL execution&lt;/h2&gt;&#xA;&lt;p&gt;The first thing the PromQL engine does is walk the AST and call &lt;code&gt;Select()&lt;/code&gt; for every selector node. &lt;code&gt;Select()&lt;/code&gt; is an interface implemented by Prometheus&amp;rsquo; built-in storage and any remote storage that Prometheus is configured to talk to. We&amp;rsquo;ll focus on how the built-in storage works.&lt;/p&gt;&#xA;&lt;h3 id=&#34;how-selectors-are-looked-up-in-the-index&#34;&gt;How selectors are looked up in the index&lt;/h3&gt;&#xA;&lt;p&gt;To illustrate how series are looked up, we&amp;rsquo;ll use some sample data. We&amp;rsquo;re counting requests to an HTTP server, split by HTTP method and response status. In addition to these labels, each series has an ID, which is just an arbitrary number.&lt;/p&gt;&#xA;&lt;table&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;&lt;strong&gt;ID&lt;/strong&gt;&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;strong&gt;Series&lt;/strong&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;13&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;GET&#34;,status=&#34;200&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;42&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;GET&#34;,status=&#34;404&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;23&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;PUT&#34;,status=&#34;200&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;21&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;PUT&#34;,status=&#34;404&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;73&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;PUT&#34;,status=&#34;500&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;A selector in PromQL looks like a series, but it doesn&amp;rsquo;t have to specify all labels. For example &lt;code&gt;http_requests_total{status=&amp;quot;200&amp;quot;}&lt;/code&gt; should fetch the two series that have that status.&lt;/p&gt;&#xA;&lt;p&gt;The index starts with label names. Under each name are all the values for that label, and against each value is a list of series IDs. Traditionally, in databases, these lists are given the unusual name &amp;ldquo;postings.&amp;rdquo;&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 858px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-postings.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-postings.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-postings.png?w=320 320w, /media/blog/promql-query/promql-postings.png?w=550 550w, /media/blog/promql-query/promql-postings.png?w=750 750w, /media/blog/promql-query/promql-postings.png?w=900 900w, /media/blog/promql-query/promql-postings.png?w=1040 1040w, /media/blog/promql-query/promql-postings.png?w=1240 1240w, /media/blog/promql-query/promql-postings.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A diagram of an index with label names.&#34;&#xA;width=&#34;858&#34;&#xA;height=&#34;600&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-postings.png&#34;&#xA;alt=&#34;A diagram of an index with label names.&#34;&#xA;width=&#34;858&#34;&#xA;height=&#34;600&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;The name of the metric is just another label, with the special name &lt;code&gt;__name__&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1311px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-metric-name.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-metric-name.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-metric-name.png?w=320 320w, /media/blog/promql-query/promql-metric-name.png?w=550 550w, /media/blog/promql-query/promql-metric-name.png?w=750 750w, /media/blog/promql-query/promql-metric-name.png?w=900 900w, /media/blog/promql-query/promql-metric-name.png?w=1040 1040w, /media/blog/promql-query/promql-metric-name.png?w=1240 1240w, /media/blog/promql-query/promql-metric-name.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;An example of a metric name.&#34;&#xA;width=&#34;1311&#34;&#xA;height=&#34;120&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-metric-name.png&#34;&#xA;alt=&#34;An example of a metric name.&#34;&#xA;width=&#34;1311&#34;&#xA;height=&#34;120&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;So, a selector like &lt;code&gt;http_requests_total{status=&amp;quot;200&amp;quot;}&lt;/code&gt; is equivalent to &lt;code&gt;{__name__=&amp;quot;http_requests_total&amp;quot;,status=&amp;quot;200&amp;quot;}&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;p&gt;To look up the index, we take all the postings lists that match each part and intersect, to give us all series that match all parts of the selector.&lt;/p&gt;&#xA;&lt;p&gt;A selector can use not-equals, in which case, we take away any series that match. First, we evaluate all selectors that add to the result, and then we remove parts.&lt;/p&gt;&#xA;&lt;p&gt;Selectors can match a regular expression, like &lt;code&gt;status=~&amp;quot;.00&amp;quot;&lt;/code&gt;. Regular expressions are matched against each possible value to find out which series to include.&lt;/p&gt;&#xA;&lt;p&gt;Prometheus has a special handling for regular expressions, like &lt;code&gt;status=~&amp;quot;200|404&amp;quot;&lt;/code&gt;, which can only match a fixed set of strings. In this case, the string values are looked up directly in the index, avoiding a scan of all possible values.&lt;/p&gt;&#xA;&lt;p&gt;For lots of low-level detail on how the postings index is stored on disk, see Ganesh Vernekar&amp;rsquo;s blog post &lt;a href=&#34;https://ganeshvernekar.com/blog/prometheus-tsdb-persistent-block-and-its-index/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;TSDB: Persistent Block and its Index&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;This section described what happens when the PromQL engine calls &lt;code&gt;Select()&lt;/code&gt; to get series. Next, we will look at how the individual data points, or samples, are fetched from series.&lt;/p&gt;&#xA;&lt;h3 id=&#34;sample-timestamps&#34;&gt;Sample timestamps&lt;/h3&gt;&#xA;&lt;p&gt;To illustrate the concepts of series and samples, let&amp;rsquo;s look at a simple query, shown here in Grafana.&lt;/p&gt;&#xA;&lt;p&gt;The query returned 14 time series, each relating to a different source of data. Each sample has a value, plotted on the vertical axis and a timestamp, which Grafana lays out horizontally. Each series is drawn in a different color. The timestamps are in nice, regular intervals, according to the &lt;strong&gt;step&lt;/strong&gt; parameter; in this case, Grafana picked 1 minute. Having all points lined up is what you want if you&amp;rsquo;re going to compare the values, or do arithmetic on them.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1694px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-graph.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-graph.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-graph.png?w=320 320w, /media/blog/promql-query/promql-graph.png?w=550 550w, /media/blog/promql-query/promql-graph.png?w=750 750w, /media/blog/promql-query/promql-graph.png?w=900 900w, /media/blog/promql-query/promql-graph.png?w=1040 1040w, /media/blog/promql-query/promql-graph.png?w=1240 1240w, /media/blog/promql-query/promql-graph.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of a Grafana graph.&#34;&#xA;width=&#34;1694&#34;&#xA;height=&#34;842&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-graph.png&#34;&#xA;alt=&#34;A screenshot of a Grafana graph.&#34;&#xA;width=&#34;1694&#34;&#xA;height=&#34;842&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;However, real-world data is not usually so neat. In Grafana, if you select &lt;strong&gt;Type: Instant&lt;/strong&gt; but put the whole dashboard range in as a range vector selector &lt;code&gt;[$__range]&lt;/code&gt;, you can see the underlying data points. This little trick is extremely useful when working with PromQL to understand what goes into the computation.&lt;/p&gt;&#xA;&lt;p&gt;In our example, each data source provides data at a different time offset, so the points as a whole look scattered across the panel.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1694px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-range.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-range.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-range.png?w=320 320w, /media/blog/promql-query/promql-range.png?w=550 550w, /media/blog/promql-query/promql-range.png?w=750 750w, /media/blog/promql-query/promql-range.png?w=900 900w, /media/blog/promql-query/promql-range.png?w=1040 1040w, /media/blog/promql-query/promql-range.png?w=1240 1240w, /media/blog/promql-query/promql-range.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A Grafana graph for a range vector.&#34;&#xA;width=&#34;1694&#34;&#xA;height=&#34;842&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-range.png&#34;&#xA;alt=&#34;A Grafana graph for a range vector.&#34;&#xA;width=&#34;1694&#34;&#xA;height=&#34;842&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;When PromQL takes a sample from each time series, all at the same timestamp, this is called an &lt;strong&gt;instant vector.&lt;/strong&gt; A &lt;strong&gt;range vector,&lt;/strong&gt; on the other hand, is a set of time series containing a range of data points over time for each series. In PromQL, a range vector is specified with a duration in square brackets, like &lt;code&gt;[5m]&lt;/code&gt; for five minutes.&lt;/p&gt;&#xA;&lt;p&gt;Note that &amp;ldquo;range vector&amp;rdquo; is different from &amp;ldquo;range query.&amp;rdquo; A range vector is found inside a PromQL expression, while a range query executes a whole PromQL expression at regular intervals from a start time to an end time.&lt;/p&gt;&#xA;&lt;h3 id=&#34;expanding-series-to-samples&#34;&gt;Expanding series to samples&lt;/h3&gt;&#xA;&lt;p&gt;Down at the code level inside the PromQL engine, the call to &lt;code&gt;Select()&lt;/code&gt; gives us an &amp;ldquo;iterator&amp;rdquo; abstraction; as each selector node is visited, the nodes are turned into sets of &lt;code&gt;Series&lt;/code&gt; objects. Every time we need a data point, we &lt;code&gt;seek&lt;/code&gt; to the time requested minus the lookback time, and then step forward, sample by sample, until we hit the time requested.&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;Sample&amp;rdquo; can be either a floating-point number or (if the currently experimental &lt;a href=&#34;https://prometheus.io/docs/concepts/metric_types/#histogram&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;native histograms feature&lt;/a&gt; is enabled) a complete histogram.&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-functions&#34;&gt;PromQL functions&lt;/h2&gt;&#xA;&lt;p&gt;PromQL has about 75 &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/functions/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;functions&lt;/a&gt; defined, which can be grouped into categories based on how they work:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Simple functions that take in one data point and output one result. Examples include &lt;code&gt;abs&lt;/code&gt; and &lt;code&gt;sqrt&lt;/code&gt;. Given an instant vector, they loop over all series, compute the result, and output an instant vector.&lt;/li&gt;&#xA;&lt;li&gt;A couple of very similar functions that take extra parameters, such as &lt;code&gt;clamp&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;A set of date/time functions, such as &lt;code&gt;month&lt;/code&gt;, &lt;code&gt;year&lt;/code&gt;, and &lt;code&gt;timestamp&lt;/code&gt;, that either work the same as above or, if given no parameter, operate on the current time that PromQL is looking at.&lt;/li&gt;&#xA;&lt;li&gt;Histogram functions that only work on native histogram samples.&lt;/li&gt;&#xA;&lt;li&gt;Functions that operate on a range vector, like &lt;code&gt;rate&lt;/code&gt;, &lt;code&gt;max_over_time&lt;/code&gt;, and &lt;code&gt;resets&lt;/code&gt;. These compute a result from the whole set of points in the time range window for each series.&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;label_join&lt;/code&gt; and &lt;code&gt;label_replace&lt;/code&gt;, which work on series and not on samples, and are handled specially.&lt;/li&gt;&#xA;&lt;li&gt;Sorting functions that take an instant vector and sort by either values or labels.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;For most functions, the output set of series corresponds one-to-one with the input set of series, however, the series name (the &lt;code&gt;__name__&lt;/code&gt; label) is removed on the grounds that &lt;code&gt;f(foo)&lt;/code&gt; is not &lt;code&gt;foo&lt;/code&gt;. The one exception is the function &lt;code&gt;last_over_time&lt;/code&gt;, because its values do exactly match the original values from the series, just shifted in time.&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-aggregations&#34;&gt;PromQL aggregations&lt;/h2&gt;&#xA;&lt;p&gt;Aggregations look like functions, but work very differently. For example, this aggregation will evaluate the rate part then sum by status:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;sum by (status) (rate(http_requests_total[5m]))&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;There are three styles of aggregation:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;sum&lt;/code&gt;, &lt;code&gt;avg&lt;/code&gt;, &lt;code&gt;count&lt;/code&gt;, &lt;code&gt;stdvar&lt;/code&gt;, &lt;code&gt;stddev&lt;/code&gt;, or &lt;code&gt;quantile&lt;/code&gt;: These produce one output series for each group specified in the expression, with just the labels from &lt;code&gt;by(...)&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;topk&lt;/code&gt;, &lt;code&gt;bottomk&lt;/code&gt;, &lt;code&gt;limitk&lt;/code&gt;, or &lt;code&gt;limit_ratio&lt;/code&gt;: Output has the same labels as the input, but just k (which is a number, and the first parameter to the aggregation) of them per group.&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;count_values&lt;/code&gt;: Output has the &lt;code&gt;by(...)&lt;/code&gt; labels plus one more, which is the one being counted.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;In each case, we construct an object for each output series, and loop over the inputs to accumulate the desired result.&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-operators&#34;&gt;PromQL operators&lt;/h2&gt;&#xA;&lt;p&gt;PromQL has many operators, as you would expect from a rich language:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Arithmetic binary operators &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;-&lt;/code&gt;, &lt;code&gt;*&lt;/code&gt;, &lt;code&gt;/&lt;/code&gt;, &lt;code&gt;%&lt;/code&gt;, &lt;code&gt;^&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Comparison binary operators &lt;code&gt;==&lt;/code&gt;, &lt;code&gt;!=&lt;/code&gt;, &lt;code&gt;&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;amp;lt;&lt;/code&gt; , &lt;code&gt;&amp;gt;=&lt;/code&gt;, &lt;code&gt;&amp;amp;lt;=&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Logical/set binary operators &lt;code&gt;and&lt;/code&gt;, &lt;code&gt;or&lt;/code&gt;, &lt;code&gt;unless&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;When a binary operator is used between two instant vectors, PromQL goes through a process of matching labels. Here is a basic example, where PromQL will match labels on each side one-for-one:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;mem_total_mb - mem_free_mb&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 494px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-matching-labels.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-matching-labels.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-matching-labels.png?w=320 320w, /media/blog/promql-query/promql-matching-labels.png?w=550 550w, /media/blog/promql-query/promql-matching-labels.png?w=750 750w, /media/blog/promql-query/promql-matching-labels.png?w=900 900w, /media/blog/promql-query/promql-matching-labels.png?w=1040 1040w, /media/blog/promql-query/promql-matching-labels.png?w=1240 1240w, /media/blog/promql-query/promql-matching-labels.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A diagram showing label matching.&#34;&#xA;width=&#34;494&#34;&#xA;height=&#34;191&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-matching-labels.png&#34;&#xA;alt=&#34;A diagram showing label matching.&#34;&#xA;width=&#34;494&#34;&#xA;height=&#34;191&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;As with functions, there is no &lt;code&gt;__name__&lt;/code&gt; label on the output.&lt;/p&gt;&#xA;&lt;p&gt;A common pattern using operators in PromQL is to &amp;ldquo;join&amp;rdquo; a series with some values with an &amp;ldquo;info&amp;rdquo; series containing more labels, and where every value is 1. To illustrate:&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;button x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;Copy code to clipboard&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;Copy&lt;/span&gt;&#xA;&lt;/button&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;disk_mb * on (host) group_left(team) host_info&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 665px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-join-a-series.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-join-a-series.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-join-a-series.png?w=320 320w, /media/blog/promql-query/promql-join-a-series.png?w=550 550w, /media/blog/promql-query/promql-join-a-series.png?w=750 750w, /media/blog/promql-query/promql-join-a-series.png?w=900 900w, /media/blog/promql-query/promql-join-a-series.png?w=1040 1040w, /media/blog/promql-query/promql-join-a-series.png?w=1240 1240w, /media/blog/promql-query/promql-join-a-series.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A diagram depicting joining a series with values to an info series.&#34;&#xA;width=&#34;665&#34;&#xA;height=&#34;98&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-join-a-series.png&#34;&#xA;alt=&#34;A diagram depicting joining a series with values to an info series.&#34;&#xA;width=&#34;665&#34;&#xA;height=&#34;98&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;In the expression, &lt;code&gt;on&lt;/code&gt; gives the list of labels to match on, and &lt;code&gt;group_left&lt;/code&gt; says the left-hand side can have multiple matches. Extra fields in brackets are added from the other side.&lt;/p&gt;&#xA;&lt;p&gt;The PromQL engine first extracts the “signature” of each series, with just the &lt;code&gt;on&lt;/code&gt; labels, then constructs a map (hash table) of signatures on the “one” side, and then goes through the “many” side and finds the match.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 665px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-hash-table.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-hash-table.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-hash-table.png?w=320 320w, /media/blog/promql-query/promql-hash-table.png?w=550 550w, /media/blog/promql-query/promql-hash-table.png?w=750 750w, /media/blog/promql-query/promql-hash-table.png?w=900 900w, /media/blog/promql-query/promql-hash-table.png?w=1040 1040w, /media/blog/promql-query/promql-hash-table.png?w=1240 1240w, /media/blog/promql-query/promql-hash-table.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;An example of a hash table.&#34;&#xA;width=&#34;665&#34;&#xA;height=&#34;99&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-hash-table.png&#34;&#xA;alt=&#34;An example of a hash table.&#34;&#xA;width=&#34;665&#34;&#xA;height=&#34;99&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Finally, the result series are assembled, taking all labels (except &lt;code&gt;__name__&lt;/code&gt;) from the “many” side and the extra labels listed after &lt;code&gt;group_left&lt;/code&gt; from the “one” side.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 441px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-result-series.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-result-series.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-result-series.png?w=320 320w, /media/blog/promql-query/promql-result-series.png?w=550 550w, /media/blog/promql-query/promql-result-series.png?w=750 750w, /media/blog/promql-query/promql-result-series.png?w=900 900w, /media/blog/promql-query/promql-result-series.png?w=1040 1040w, /media/blog/promql-query/promql-result-series.png?w=1240 1240w, /media/blog/promql-query/promql-result-series.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;An example of the results series.&#34;&#xA;width=&#34;441&#34;&#xA;height=&#34;107&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-result-series.png&#34;&#xA;alt=&#34;An example of the results series.&#34;&#xA;width=&#34;441&#34;&#xA;height=&#34;107&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Binary operators can be one of the most computationally expensive parts of PromQL, because the process of building a hash table and looking for matches is repeated on every time step, in case series have started or stopped since the last step.&lt;/p&gt;&#xA;&lt;h2 id=&#34;sorting&#34;&gt;Sorting&lt;/h2&gt;&#xA;&lt;p&gt;Data from an instant query comes back in an arbitrary order, unless you include a function like &lt;code&gt;sort&lt;/code&gt; or &lt;code&gt;sort_by_labels&lt;/code&gt; to request a particular order. On the other hand, range queries are always sorted alphabetically by labels after all query processing, so including a sorting function in the PromQL for a range query is just wasting time.&lt;/p&gt;&#xA;&lt;h2 id=&#34;output&#34;&gt;Output&lt;/h2&gt;&#xA;&lt;p&gt;PromQL queries are most commonly sent to Prometheus over its &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/api/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;HTTP API&lt;/a&gt;, where the results come back in JSON. The translation to JSON is done by the &lt;code&gt;web/api&lt;/code&gt; package of Prometheus, outside of the PromQL engine.&lt;/p&gt;&#xA;&lt;p&gt;If an error occurs while executing the query, you will not receive any data, but instead an &lt;code&gt;error&lt;/code&gt; string together with an &lt;code&gt;errorType&lt;/code&gt; that classifies the error into a category, such as &lt;code&gt;bad_data&lt;/code&gt; or &lt;code&gt;timeout&lt;/code&gt;. Inside the PromQL engine, errors are reported using Go&amp;rsquo;s &lt;code&gt;panic&lt;/code&gt; call, used like an exception in Java or C++. It avoids the code having to check for errors at every point along the way.&lt;/p&gt;&#xA;&lt;p&gt;If the query does complete successfully, in addition to the data you requested, you may also receive a set of &lt;code&gt;&amp;quot;infos&amp;quot;&lt;/code&gt; and/or &lt;code&gt;&amp;quot;warnings&amp;quot;&lt;/code&gt;. Info is milder — for instance, a counter name not ending in &lt;code&gt;_total&lt;/code&gt; — while warnings are more serious and likely indicate a problem with your query. An example of a warning is a quantile parameter outside the range 0..1.&lt;/p&gt;&#xA;&lt;p&gt;You can also ask for query execution statistics by adding &lt;code&gt;&amp;amp;stats=1&lt;/code&gt; to your query URL. This will get you an extra section at the end of the JSON with timing and data size details, such as &lt;code&gt;queryPreparationTime&lt;/code&gt; and &lt;code&gt;execTotalTime&lt;/code&gt;. These measurements are also collected into a summary metric &lt;code&gt;prometheus_engine_query_duration_seconds&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;h2 id=&#34;how-can-you-see-inside&#34;&gt;How can you see inside?&lt;/h2&gt;&#xA;&lt;p&gt;For even more detail than metrics or query execution statistics, you can use tracing and profiling to gain visibility into your queries.&lt;/p&gt;&#xA;&lt;h3 id=&#34;tracing&#34;&gt;Tracing&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus is instrumented with OpenTelemetry tracing, so if you have a distributed tracing system like &lt;a href=&#34;https://www.jaegertracing.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Jaeger&lt;/a&gt; or &lt;a href=&#34;https://go2.grafana.com/tempo-on-grafana-cloud.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Grafana Tempo&lt;/a&gt;, you can use that to view individual queries and see how they were executed.&lt;/p&gt;&#xA;&lt;p&gt;This example is the query &lt;code&gt;sum by(job, mode) (rate(node_cpu_seconds_total[1m])) \ / on(job) group_left sum by(job)(rate(node_cpu_seconds_total[1m]))&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;p&gt;Traces are made up of &lt;em&gt;spans&lt;/em&gt;, each with a start and end time. In the viewer, time goes from left to right, and flow from top to bottom. The indentation of trace spans shows how the PromQL engine executes each node in the AST. In this case, a BinaryExpr node calls two AggregateExpr nodes, each of which calls a Call node representing the &lt;code&gt;rate()&lt;/code&gt; function. Data fetching for range vector selectors appears as part of each Call span.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1333px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-tracing.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-tracing.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-tracing.png?w=320 320w, /media/blog/promql-query/promql-tracing.png?w=550 550w, /media/blog/promql-query/promql-tracing.png?w=750 750w, /media/blog/promql-query/promql-tracing.png?w=900 900w, /media/blog/promql-query/promql-tracing.png?w=1040 1040w, /media/blog/promql-query/promql-tracing.png?w=1240 1240w, /media/blog/promql-query/promql-tracing.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;A screenshot of traces.&#34;&#xA;width=&#34;1333&#34;&#xA;height=&#34;369&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-tracing.png&#34;&#xA;alt=&#34;A screenshot of traces.&#34;&#xA;width=&#34;1333&#34;&#xA;height=&#34;369&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h3 id=&#34;profiling&#34;&gt;Profiling&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus is also instrumented for CPU and memory profiling, courtesy of the Go language runtime, so we can take a look at CPU usage. The image below shows Prometheus executing a mix of queries over a 30-second period, so it can&amp;rsquo;t be mapped directly to an individual query, but you can still see how the calls break down. This is a &lt;a href=&#34;/docs/grafana/latest/panels-visualizations/visualizations/flame-graph/&#34;&gt;flame graph view&lt;/a&gt;, in which calls from one function to another go from top to bottom, and the width of each bar indicates how much of the profile time was spent in that function.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1680px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/promql-query/promql-profiling.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/promql-query/promql-profiling.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-profiling.png?w=320 320w, /media/blog/promql-query/promql-profiling.png?w=550 550w, /media/blog/promql-query/promql-profiling.png?w=750 750w, /media/blog/promql-query/promql-profiling.png?w=900 900w, /media/blog/promql-query/promql-profiling.png?w=1040 1040w, /media/blog/promql-query/promql-profiling.png?w=1240 1240w, /media/blog/promql-query/promql-profiling.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;An example of a flame graph.&#34;&#xA;width=&#34;1680&#34;&#xA;height=&#34;650&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/promql-query/promql-profiling.png&#34;&#xA;alt=&#34;An example of a flame graph.&#34;&#xA;width=&#34;1680&#34;&#xA;height=&#34;650&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h2 id=&#34;how-to-learn-more&#34;&gt;How to learn more&lt;/h2&gt;&#xA;&lt;p&gt;As I mentioned in my PromCon 2024 talk, there’s &lt;em&gt;a lot&lt;/em&gt; to cover in terms of PromQL query execution and how to make your own queries more effective. While I hope this blog post and my talk are helpful resources — you can find the &lt;a href=&#34;https://grafana.com/files/PromCon_2024_Inside-a-PromQL-Query.pdf&#34; download&gt;full slide deck here (3.4MB)&lt;/a&gt; — I realize you could go much, much deeper into this topic.&lt;/p&gt;&#xA;&lt;p&gt;If you&amp;rsquo;re learning PromQL, Grafana&amp;rsquo;s &lt;a href=&#34;/docs/grafana/latest/datasources/prometheus/query-editor/#builder-mode&#34;&gt;builder mode&lt;/a&gt; for the Prometheus query editor is very useful to see how expressions build up, and makes it easy to see what operations are available. &lt;a href=&#34;https://promlens.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;PromLens&lt;/a&gt;, a stand-alone tool and another query builder for PromQL, takes this a step further and helps you build, understand, and optimize your queries. The &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/basics/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Prometheus documentation&lt;/a&gt; is the ultimate reference, but this helpful &lt;a href=&#34;https://promlabs.com/promql-cheat-sheet/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;PromQL cheat sheet&lt;/a&gt; may be easier to digest.&lt;/p&gt;&#xA;&lt;p&gt;Lastly, there is a large &lt;a href=&#34;https://grafana.slack.com/archives/C02GM2KE6QJ&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Grafana Community Slack&lt;/a&gt; and several &lt;a href=&#34;https://prometheus.io/community/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Prometheus community channels&lt;/a&gt; that you can use to seek advice or swap tips. I look forward to seeing you there.&lt;/p&gt;】&lt;p&gt;尽管我是 Prometheus 维护者并在 Prometheus 代码中工作，但我发现 PromQL（Prometheus 查询语言）的许多细节都晦涩难懂。很多时候我会查找一些东西，或者深入研究代码以找出它到底做了什么，但下个月又忘记了。&lt;/p&gt;&#xA;&lt;p&gt;因此，为了不辜负我在 Grafana Labs 的杰出工程师的职位，我决定编写权威指南：执行 PromQL 查询时到底会发生什么？&lt;/p&gt;&#xA;&lt;p&gt;在上个月的 PromCon 2024 上，我在名为 &lt;a href=&#34;https://www.youtube.com/watch?v=t53-7vUhbqY&#34; target=&#34;_blank&#34; 的会议上与更广泛的 Prometheus 社区分享了我的发现rel=&#34;noopener noreferrer&#34;&gt;“PromQL 查询内部：了解机制。”&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;在这篇博文中，我回顾并扩展了我在那次演讲中谈到的一些要点。我的希望是让您了解 Prometheus 的底层，并更好地了解数据如何通过 API 从源头流向最终目的地。请继续阅读以了解更多信息，并探索可用于进一步深入研究这个（广泛的）主题的其他资源。&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;注意：这是 Prometheus 2.54 版本和 3.0 beta 版本中 PromQL 实现的描述。详细信息可能会随着时间而改变。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-overview&#34;&gt;PromQL 概述&lt;/h2&gt;&#xA;&lt;p&gt;在深入研究 PromQL 查询的机制之前，重申一些基本概念非常重要。&lt;/p&gt;&#xA;&lt;p&gt;PromQL 查询的目的是表达您想要使用哪些指标，以及您想要对这些指标执行哪些操作来计算结果。&lt;/p&gt;&#xA;&lt;p&gt;通常，这些查询用于填充仪表板，有两种主要查询类型：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;查看单个时间点的&lt;em&gt;即时查询&lt;/em&gt;：&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：301px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-stat-resized.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/promql-query/promql-stat-resized.png”data-srcset =“/media/blog/promql-query/promql-stat-resized.png？w = 320 320w，/媒体/博客/promql-query/promql-stat-resized.png？w=550 550w，/media/blog/promql-query/promql-stat-resized.png？w=750 750w，/media/blog/promql-查询/promql-stat-resized.png?w=900 900w，/media/blog/promql-query/promql-stat-resized.png?w=1040 1040w，/media/blog/promql-query/promql-stat- resized.png?w=1240 1240w，/media/blog/promql-query/promql-stat-resized.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;仪表板上 PromQL 即时查询的屏幕截图。&#34;&#xA;宽度=“301”&#xA;高度=“216”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-stat-resized.png”&#xA;alt=&#34;仪表板上 PromQL 即时查询的屏幕截图。&#34;&#xA;宽度=“301”&#xA;高度=“216”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;ol开始=“2”&gt;&#xA;&lt;li&gt;&lt;em&gt;范围查询&lt;/em&gt;一段时间内的变化：&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：499px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-range-query-resized.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/promql-query/promql-range-query-resized.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-range-query-resized.png?w= 320 320w，/media/blog/promql-query/promql-range-query-resized.png?w=550 550w，/media/blog/promql-query/promql-range-query-resized.png?w=750 750w , /media/blog/promql-query/promql-range-query-resized.png?w=900 900w, /media/blog/promql-query/promql-range-query-resized.png?w=1040 1040w, /媒体/博客/promql-query/promql-range-query-resized.png?w=1240 1240w，/media/blog/promql-query/promql-range-query-resized.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;图表上 PromQL 范围查询的屏幕截图。&#34;&#xA;宽度=“499”&#xA;高度=“245”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-range-query-resized.png”&#xA;alt=&#34;图表上 PromQL 范围查询的屏幕截图。&#34;&#xA;宽度=“499”&#xA;高度=“245”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;PromQL 在&lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/basics/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;文档中进行了详细定义&lt;/ a&gt;，所以我们不会在这里太深入，但简单地说，一个查询是由以下内容构建的：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;选择器，带有指标名称和标签匹配器。例如，&lt;code&gt;http_requests_total{status=&#34;200&#34;}&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;li&gt;函数，例如用于获取绝对值的 &lt;code&gt;abs&lt;/code&gt; 或用于计算每秒增长率的&lt;code&gt;rate&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;li&gt;聚合，例如 &lt;code&gt;sum&lt;/code&gt; 和 &lt;code&gt;max&lt;/code&gt;，具有可选维度，例如 &lt;code&gt;sum by (status)&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;li&gt;运算符，例如 &lt;code&gt;&gt;&lt;/code&gt; 和 &lt;code&gt;+&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;示例查询是&lt;code&gt;sum by (status) (rate(http_requests_total[5m]) &gt; 0)&lt;/code&gt;。&lt;/p&gt;&#xA;&lt;p&gt;这需要 5 分钟的 HTTP 请求率，过滤出那些有一些请求的请求，然后按状态求和。&lt;/p&gt;&#xA;&lt;p&gt;在 Prometheus 内部，完成大部分工作的模块称为“引擎”。 PromQL 由解析器处理以创建&lt;a href=&#34;https://en.wikipedia.org/wiki/Abstract_syntax_tree&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;抽象语法树 (AST)&lt;/a&gt;引擎执行该命令，从存储中提取数据，然后输出结果。 （我们将在下面详细介绍 AST。）&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1340px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-diagram.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/promql-query/promql-diagram.png&#34;data-srcset=&#34;/media/blog/promql-查询/promql-diagram.png?w=320 320w，/media/blog/promql-query/promql-diagram.png?w=550 550w，/media/blog/promql-query/promql-diagram.png?w= 750 750w，/media/blog/promql-query/promql-diagram.png？w=900 900w，/media/blog/promql-query/promql-diagram.png？w=1040 1040w，/media/blog/promql-查询/promql-diagram.png？w=1240 1240w，/media/blog/promql-query/promql-diagram.png？w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;PromQL 查询执行图。&#34;&#xA;宽度=“1340”&#xA;高度=“462”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-diagram.png”&#xA;alt=&#34;PromQL 查询执行图。&#34;&#xA;宽度=“1340”&#xA;高度=“462”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h3 id=&#34;parsing&#34;&gt;解析&lt;/h3&gt;&#xA;&lt;p&gt;解析器采用 PromQL 的文本形式并将其转换为数据结构以驱动 PromQL 引擎。举个例子，让我们看一下这个查询：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;速率(http_requests_total[5m]) &gt; 0&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;解析器会将其转换为以下树：&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：506px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-parser-tree-resized.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/promql-query/promql-parser-tree-resized.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-parser-tree-resized.png?w= 320 320w，/media/blog/promql-query/promql-parser-tree-resized.png?w=550 550w，/media/blog/promql-query/promql-parser-tree-resized.png?w=750 750w , /media/blog/promql-query/promql-parser-tree-resized.png?w=900 900w, /media/blog/promql-query/promql-parser-tree-resized.png?w=1040 1040w, /媒体/博客/promql-query/promql-parser-tree-resized.png?w=1240 1240w，/media/blog/promql-query/promql-parser-tree-resized.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;解析器中的树图。&#34;&#xA;宽度=“506”&#xA;高度=“359”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-parser-tree-resized.png”&#xA;alt=&#34;来自解析器的树图。&#34;&#xA;宽度=“506”&#xA;高度=“359”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;如上所述，其技术名称是抽象语法树。简单地说，它是一种数据结构，其中的节点代表选择器、运算符、函数等。它有一个根（在图片的顶部 - 计算机树向下生长），您可以沿着链接“走”下去找到所有内容在原始查询中。&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-execution&#34;&gt;PromQL 执行&lt;/h2&gt;&#xA;&lt;p&gt;的PromQL 引擎做的第一件事是遍历 AST 并为每个选择器节点调用 &lt;code&gt;Select()&lt;/code&gt;。 &lt;code&gt;Select()&lt;/code&gt; 是 Prometheus 的内置存储和 Prometheus 配置为与之通信的任何远程存储实现的接口。我们将重点关注内置存储的工作原理。&lt;/p&gt;&#xA;&lt;h3 id=&#34;how-selectors-are-looked-up-in-the-index&#34;&gt;如何在索引中查找选择器&lt;/h3&gt;&#xA;&lt;p&gt;为了说明如何查找系列，我们将使用一些示例数据。我们对 HTTP 服务器的请求进行计数，按 HTTP 方法和响应状态划分。除了这些标签之外，每个系列还有一个 ID，它只是一个任意数字。&lt;/p&gt;&#xA;&lt;表&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;&lt;strong&gt;ID&lt;/strong&gt;&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;strong&gt;系列&lt;/strong&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;13&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;GET&#34;,status=&#34;200&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;42&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;GET&#34;,status=&#34;404&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;23&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;PUT&#34;,status=&#34;200&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;21&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;PUT&#34;,status=&#34;404&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;tr&gt;&#xA;&lt;td&gt;73&#xA;&lt;/td&gt;&#xA;&lt;td&gt;&lt;code&gt;http_requests_total{method=&#34;PUT&#34;,status=&#34;500&#34;}&lt;/code&gt;&#xA;&lt;/td&gt;&#xA;&lt;/tr&gt;&#xA;&lt;/表&gt;&#xA;&lt;p&gt;PromQL 中的选择器看起来像一个系列，但它不必指定所有标签。例如，&lt;code&gt;http_requests_total{status=&#34;200&#34;}&lt;/code&gt; 应获取具有该状态的两个系列。&lt;/p&gt;&#xA;&lt;p&gt;索引以标签名称开头。每个名称下都有该标签的所有值，每个值后面都有一个系列 ID 列表。传统上，在数据库中，这些列表被赋予一个不寻常的名称“帖子”。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：858px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-postings.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/promql-query/promql-postings.png”data-srcset =“/media/blog/promql-query/promql-postings.png？w = 320 320w，/media/blog/ promql-query/promql-postings.png?w=550 550w，/media/blog/promql-query/promql-postings.png?w=750 750w，/media/blog/promql-query/promql-postings.png？ w=900 900w，/media/blog/promql-query/promql-postings.png？w=1040 1040w，/media/blog/promql-query/promql-postings.png？w=1240 1240w，/media/blog/ promql-query/promql-postings.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;带有标签名称的索引图。&#34;&#xA;宽度=“858”&#xA;高度=“600”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-postings.png”&#xA;alt=&#34;带有标签名称的索引图。&#34;&#xA;宽度=“858”&#xA;高度=“600”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;指标的名称只是另一个标签，具有特殊名称 &lt;code&gt;__name__&lt;/code&gt;。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1311px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;项目类型=“ht”tp://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-metric-name.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/promql-query/promql-metric-name.png”data-srcset =“/media/blog/promql-query/promql-metric-name.png？w = 320 320w，/媒体/博客/promql-query/promql-metric-name.png？w=550 550w，/media/blog/promql-query/promql-metric-name.png？w=750 750w，/media/blog/promql-查询/promql-metric-name.png？w=900 900w，/media/blog/promql-query/promql-metric-name.png？w=1040 1040w，/media/blog/promql-query/promql-metric- name.png?w=1240 1240w，/media/blog/promql-query/promql-metric-name.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;指标名称示例。&#34;&#xA;宽度=“1311”&#xA;高度=“120”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-metric-name.png”&#xA;alt=&#34;指标名称示例。&#34;&#xA;宽度=“1311”&#xA;高度=“120”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;因此，像 &lt;code&gt;http_requests_total{status=&#34;200&#34;}&lt;/code&gt; 这样的选择器相当于 &lt;code&gt;{__name__=&#34;http_requests_total&#34;,status=&#34;200&#34;}&lt;/code&gt;。&lt;/p &gt;&#xA;&lt;p&gt;为了查找索引，我们获取与每个部分匹配并相交的所有发布列表，从而为我们提供与选择器的所有部分匹配的所有系列。&lt;/p&gt;&#xA;&lt;p&gt;选择器可以使用不等于，在这种情况下，我们会删除任何匹配的系列。首先，我们评估添加到结果中的所有选择器，然后删除部分。&lt;/p&gt;&#xA;&lt;p&gt;选择器可以匹配正则表达式，例如&lt;code&gt;status=~&#34;.00&#34;&lt;/code&gt;。正则表达式与每个可能的值进行匹配，以找出要包含的系列。&lt;/p&gt;&#xA;&lt;p&gt;Prometheus 对正则表达式有特殊的处理，例如 &lt;code&gt;status=~&#34;200|404&#34;&lt;/code&gt;，它只能匹配一组固定的字符串。在这种情况下，直接在索引中查找字符串值，避免扫描所有可能的值。&lt;/p&gt;&#xA;&lt;p&gt;有关如何将发布索引存储在磁盘上的大量底层详细信息，请参阅 Ganesh Vernekar 的博客文章 &lt;a href=&#34;https://ganeshvernekar.com/blog/prometheus-tsdb-persistent-block-and- its-index/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;TSDB：持久块及其索引&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;p&gt;本节描述了当 PromQL 引擎调用 &lt;code&gt;Select()&lt;/code&gt; 获取系列时会发生什么。接下来，我们将了解如何从系列中获取各个数据点或样本。&lt;/p&gt;&#xA;&lt;h3 id=&#34;sample-timestamps&#34;&gt;时间戳示例&lt;/h3&gt;&#xA;&lt;p&gt;为了说明系列和示例的概念，让我们看一个简单的查询，如 Grafana 中所示。&lt;/p&gt;&#xA;&lt;p&gt;查询返回 14 个时间序列，每个时间序列都与不同的数据源相关。每个样本都有一个绘制在垂直轴上的值和一个时间戳（Grafana 水平放置）。每个系列都用不同的颜色绘制。根据 &lt;strong&gt;step&lt;/strong&gt; 参数，时间戳的间隔很好，有规律；在这种情况下，格拉法纳选择了 1 分钟。如果你要去的话，把所有的点都排列起来就是你想要的g 比较值，或对它们进行算术运算。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1694px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-graph.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/promql-query/promql-graph.png”data-srcset =“/media/blog/promql-query/promql-graph.png？w = 320 320w，/media/blog/ promql-query/promql-graph.png?w=550 550w，/media/blog/promql-query/promql-graph.png?w=750 750w，/media/blog/promql-query/promql-graph.png？ w=900 900w，/media/blog/promql-query/promql-graph.png？w=1040 1040w，/media/blog/promql-query/promql-graph.png？w=1240 1240w，/media/blog/ promql-query/promql-graph.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Grafana 图表的屏幕截图。&#34;&#xA;宽度=“1694”&#xA;高度=“842”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-graph.png”&#xA;alt=&#34;Grafana 图的屏幕截图。&#34;&#xA;宽度=“1694”&#xA;高度=“842”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;然而，现实世界的数据通常并不那么整齐。在 Grafana 中，如果您选择&lt;strong&gt;类型：即时&lt;/strong&gt;，但将整个仪表板范围作为范围向量选择器&lt;code&gt;[$__range]&lt;/code&gt;，您可以看到基础数据点。当使用 PromQL 来了解计算内容时，这个小技巧非常有用。&lt;/p&gt;&#xA;&lt;p&gt;在我们的示例中，每个数据源以不同的时间偏移提供数据，因此整个点看起来分散在面板上。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1694px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-range.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/promql-query/promql-range.png”data-srcset =“/media/blog/promql-query/promql-range.png？w = 320 320w，/media/blog/ promql-query/promql-range.png?w=550 550w，/media/blog/promql-query/promql-range.png?w=750 750w，/media/blog/promql-query/promql-range.png？ w=900 900w，/media/blog/promql-query/promql-range.png？w=1040 1040w，/media/blog/promql-query/promql-range.png？w=1240 1240w，/media/blog/ promql-query/promql-range.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;范围向量的 Grafana 图。&#34;&#xA;宽度=“1694”&#xA;高度=“842”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-range.png”&#xA;alt=&#34;范围向量的 Grafana 图。&#34;&#xA;宽度=“1694”&#xA;高度=“842”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;当 PromQL 从每个时间序列中提取样本时，所有样本都在相同的时间戳处，这称为&lt;strong&gt;即时向量。&lt;/strong&gt;另一方面，&lt;strong&gt;范围向量&lt;/strong&gt;是一组时间序列，其中包含每个序列随时间变化的一系列数据点。在 PromQL 中，范围向量用方括号中的持续时间指定，例如 &lt;code&gt;[5m]&lt;/code&gt; 表示五分钟.&lt;/p&gt;&#xA;&lt;p&gt;请注意，“范围向量”与“范围查询”不同。范围向量位于 PromQL 表达式内，而范围查询则从开始时间到结束时间以固定间隔执行整个 PromQL 表达式。&lt;/p&gt;&#xA;&lt;h3 id=&#34;expanding-series-to-samples&#34;&gt;将系列扩展到样本&lt;/h3&gt;&#xA;&lt;p&gt;在 PromQL 引擎内部的代码级别，对 &lt;code&gt;Select()&lt;/code&gt; 的调用为我们提供了一个“迭代器”抽象；当访问每个选择器节点时，这些节点将变成&lt;code&gt;Series&lt;/code&gt; 对象集。每次我们需要一个数据点时，我们都会&lt;code&gt;寻找&lt;/code&gt;请求的时间减去回溯时间，然后向前一步一步，逐个样本，直到达到请求的时间。&lt;/p&gt;&#xA;&lt;p&gt;“Sample”可以是浮点数或者（如果当前实验&lt;a href=&#34;https://prometheus.io/docs/concepts/metric_types/#histogram&#34; target=&#34;_blank&#34; rel=&#34; noopener noreferrer&#34;&gt;原生直方图功能&lt;/a&gt;已启用）完整的直方图。&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-functions&#34;&gt;PromQL 函数&lt;/h2&gt;&#xA;&lt;p&gt;PromQL 定义了大约 75 个&lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/functions/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;函数&lt;/a&gt;，可以根据其工作原理将其分为几类：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;接收一个数据点并输出一个结果的简单函数。示例包括 &lt;code&gt;abs&lt;/code&gt; 和 &lt;code&gt;sqrt&lt;/code&gt;。给定一个瞬时向量，它们循环所有序列，计算结果，并输出一个瞬时向量。&lt;/li&gt;&#xA;&lt;li&gt;几个非常相似的函数，需要额外的参数，例如 &lt;code&gt;clamp&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;li&gt;一组日期/时间函数，例如&lt;code&gt;月&lt;/code&gt;、&lt;code&gt;年&lt;/code&gt;和&lt;code&gt;时间戳&lt;/code&gt;，其工作方式与上面相同，或者，如果没有给出参数，则对 PromQL 正在查看的当前时间进行操作。&lt;/li&gt;&#xA;&lt;li&gt;仅适用于原生直方图样本的直方图函数。&lt;/li&gt;&#xA;&lt;li&gt;对范围向量进行操作的函数，例如 &lt;code&gt;rate&lt;/code&gt;、&lt;code&gt;max_over_time&lt;/code&gt; 和 &lt;code&gt;resets&lt;/code&gt;。这些计算每个系列的时间范围窗口中的整组点的结果。&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;label_join&lt;/code&gt; 和 &lt;code&gt;label_replace&lt;/code&gt;，适用于系列而不是样本，并且经过特殊处理。&lt;/li&gt;&#xA;&lt;li&gt;排序函数，采用即时向量并按值或标签进行排序。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;对于大多数函数，系列的输出集与系列的输入集一一对应，但是，系列名称（&lt;code&gt;__name__&lt;/code&gt;标签）被删除，因为&lt;code &gt;f(foo)&lt;/code&gt; 不是 &lt;code&gt;foo&lt;/code&gt;。唯一的例外是函数 &lt;code&gt;last_over_time&lt;/code&gt;，因为它的值与该系列中的原始值完全匹配，只是时间上发生了变化。&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-aggregations&#34;&gt;PromQL 聚合&lt;/h2&gt;&#xA;&lt;p&gt;聚合看起来像函数，但工作方式却截然不同。例如，此聚合将评估费率部分，然后按状态求和：&lt;/p&gt;&#xA;&lt;div 类=“鳕鱼”电子片段代码-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;按（状态）求和（费率(http_requests_total[5m])）&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;共有三种聚合方式：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;sum&lt;/code&gt;、&lt;code&gt;avg&lt;/code&gt;、&lt;code&gt;count&lt;/code&gt;、&lt;code&gt;stdvar&lt;/code&gt;、&lt;code&gt;stddev&lt;/code&gt; 或 &lt; code&gt;quantile&lt;/code&gt;：它们为表达式中指定的每个组生成一个输出系列，仅包含来自 &lt;code&gt;by(...)&lt;/code&gt; 的标签。&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;topk&lt;/code&gt;、&lt;code&gt;bottomk&lt;/code&gt;、&lt;code&gt;limitk&lt;/code&gt; 或 &lt;code&gt;limit_ratio&lt;/code&gt;：输出与输入具有相同的标签，但是每组只有 k 个（这是一个数字，也是聚合的第一个参数）。&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;count_values&lt;/code&gt;：输出包含 &lt;code&gt;by(...)&lt;/code&gt; 标签以及一个正在计数的标签。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;在每种情况下，我们都会为每个输出系列构建一个对象，并循环输入以累积所需的结果。&lt;/p&gt;&#xA;&lt;h2 id=&#34;promql-operators&#34;&gt;PromQL 运算符&lt;/h2&gt;&#xA;&lt;p&gt;PromQL 有许多运算符，正如您对丰富的语言所期望的那样：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;二元算术运算符 &lt;code&gt;+&lt;/code&gt;、&lt;code&gt;-&lt;/code&gt;、&lt;code&gt;*&lt;/code&gt;、&lt;code&gt;/&lt;/code&gt;、&lt;code&gt;%&lt;/code&gt; , &lt;code&gt;^&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;比较二元运算符 &lt;code&gt;==&lt;/code&gt;、&lt;code&gt;!=&lt;/code&gt;、&lt;code&gt;&gt;&lt;/code&gt;、&lt;code&gt;&lt;&lt;/code&gt; 、&lt;code&gt;&gt;= &lt;/code&gt;，&lt;code&gt;&lt;=&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;逻辑/集合二元运算符&lt;code&gt;and&lt;/code&gt;、&lt;code&gt;or&lt;/code&gt;、&lt;code&gt;unless&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;当在两个即时向量之间使用二元运算符时，PromQL 会经历一个匹配标签的过程。这是一个基本示例，其中 PromQL 将一对一匹配每一侧的标签：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;mem_total_mb - mem_free_mb&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：494px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-matching-labels.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/promql-query/promql-matching-labels.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-matching-labels.png?w=320 320w，/media/blog/promql-query/promql-matching-labels.png?w=550 550w，/media/blog/promql-query/promql-matching-labels.png？ w=750 750w，/media/blog/promql-query/promql-matching-labels.png？w=900 900w，/media/blog/promql-query/promql-matching-labels.png？w=1040 1040w，/媒体/博客/promql-query/promql-matching-labels.png？w=1240 1240w，/media/blog/promql-query/promql-matching-labels.png？w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;显示标签匹配的图表。&#34;&#xA;宽度=“494”&#xA;身高=“191”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-matching-labels.png”&#xA;alt=&#34;显示标签匹配的图表。&#34;&#xA;宽度=“494”&#xA;身高=“191”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;与函数一样，输出上没有 &lt;code&gt;__name__&lt;/code&gt; 标签。&lt;/p&gt;&#xA;&lt;p&gt;在 PromQL 中使用运算符的常见模式是将具有某些值的系列与包含更多标签的“信息”系列“连接”，其中每个值都是 1。举例说明：&lt;/p&gt;&#xA;&lt;div class=&#34;code-snippet code-snippet__mini&#34;&gt;&lt;div class=&#34;lang-toolbar__mini&#34;&gt;&#xA;&lt;span class=&#34;code-clipboard&#34;&gt;&#xA;&lt;按钮 x-data=&#34;app_code_snippet()&#34; x-init=&#34;init()&#34; @click=&#34;copy()&#34;&gt;&#xA;&lt;img class=&#34;code-clipboard__icon&#34; src=&#34;/media/images/icons/icon-copy-small-2.svg&#34; alt=&#34;将代码复制到剪贴板&#34; width=&#34;14&#34; height=&#34;13&#34;&gt;&#xA;&lt;span&gt;复制&lt;/span&gt;&#xA;&lt;/按钮&gt;&#xA;&lt;/span&gt;&#xA;&lt;/div&gt;&lt;div class=&#34;code-snippet code-snippet__border&#34;&gt;&#xA;&lt;pre data-expanded=&#34;false&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;disk_mb * 在（主机）group_left（团队）host_info&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：665px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-join-a-series.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/promql-query/promql-join-a-series.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-join-a-series.png?w= 320 320w，/media/blog/promql-query/promql-join-a-series.png?w=550 550w，/media/blog/promql-query/promql-join-a-series.png?w=750 750w ，/media/blog/promql-query/promql-join-a-series.png?w=900 900w，/media/blog/promql-query/promql-join-a-series.png?w=1040 1040w，/媒体/博客/promql-query/promql-join-a-series.png?w=1240 1240w，/media/blog/promql-query/promql-join-a-series.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;描述将具有值的系列连接到信息系列的图表。&#34;&#xA;宽度=“665”&#xA;高度=“98”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-join-a-series.png”&#xA;alt=&#34;描述将具有值的系列连接到信息系列的图表。&#34;&#xA;宽度=“665”&#xA;高度=“98”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;在表达式中，&lt;code&gt;on&lt;/code&gt; 给出要匹配的标签列表，&lt;code&gt;group_left&lt;/code&gt; 表示左侧可以有多个匹配项。括号中的额外字段是从另一侧添加的。&lt;/p&gt;&#xA;&lt;p&gt;PromQL 引擎首先提取每个系列的“签名”，仅包含 &lt;code&gt;on&lt;/code&gt; 标签，然后 c构造“一”侧签名的映射（哈希表），然后遍历“多”侧并找到匹配项。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：665px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-hash-table.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/promql-query/promql-hash-table.png”data-srcset =“/media/blog/promql-query/promql-hash-table.png？w = 320 320w，/媒体/博客/promql-query/promql-hash-table.png？w=550 550w，/media/blog/promql-query/promql-hash-table.png？w=750 750w，/media/blog/promql-查询/promql-hash-table.png?w=900 900w，/media/blog/promql-query/promql-hash-table.png?w=1040 1040w，/media/blog/promql-query/promql-hash- table.png?w=1240 1240w，/media/blog/promql-query/promql-hash-table.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;哈希表的示例。&#34;&#xA;宽度=“665”&#xA;高度=“99”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-hash-table.png”&#xA;alt=&#34;哈希表的示例。&#34;&#xA;宽度=“665”&#xA;高度=“99”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;最后，组装结果系列，从“many”一侧取出所有标签（除了&lt;code&gt;__name__&lt;/code&gt;），并从“one”一侧取出&lt;code&gt;group_left&lt;/code&gt;后面列出的额外标签侧面。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：441px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-result-series.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/promql-query/promql-result-series.png”data-srcset =“/media/blog/promql-query/promql-result-series.png？w = 320 320w，/媒体/博客/promql-query/promql-result-series.png？w=550 550w，/media/blog/promql-query/promql-result-series.png？w=750 750w，/media/blog/promql-查询/promql-result-series.png?w=900 900w，/media/blog/promql-query/promql-result-series.png?w=1040 1040w，/media/blog/promql-query/promql-result- series.png?w=1240 1240w，/media/blog/promql-query/promql-result-series.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;结果系列的示例。&#34;&#xA;宽度=“441”&#xA;高度=“107”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-result-series.png”&#xA;alt=&#34;结果系列的示例。&#34;&#xA;宽度=“441”&#xA;高度=“107”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;二元运算符可能是 PromQL 中计算成本最高的部分之一，因为构建哈希表和查找匹配项的过程会在每个时间步骤中重复，以防系列自上一步以来开始或停止。&lt;/ p&gt;&#xA;&lt;h2 id=&#34;sorting&#34;&gt;排序&lt;/h2&gt;&#xA;&lt;p&gt;来自即时查询的数据以任意顺序返回，除非您包含 &lt;code&gt;sort&lt;/code&gt; 或 &lt;code&gt;sort_by_labels&lt;/code&gt; 等函数来请求特定顺序。另一方面，拉在所有查询处理之后，nge 查询总是按标签按字母顺序排序，因此在 PromQL 中包含范围查询的排序函数只是浪费时间。&lt;/p&gt;&#xA;&lt;h2 id=&#34;output&#34;&gt;输出&lt;/h2&gt;&#xA;&lt;p&gt;PromQL 查询最常通过其 &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/api/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;HTTP 发送到 Prometheus API&lt;/a&gt;，结果以 JSON 形式返回。到 JSON 的转换是由 Prometheus 的 &lt;code&gt;web/api&lt;/code&gt; 包在 PromQL 引擎之外完成的。&lt;/p&gt;&#xA;&lt;p&gt;如果执行查询时发生错误，您将不会收到任何数据，而是收到 &lt;code&gt;error&lt;/code&gt; 字符串以及将错误分类为类别的 &lt;code&gt;errorType&lt;/code&gt;，例如 &lt;code&gt;bad_data&lt;/code&gt; 或 &lt;code&gt;timeout&lt;/code&gt;。在 PromQL 引擎内部，使用 Go 的 &lt;code&gt;panic&lt;/code&gt; 调用来报告错误，就像 Java 或 C++ 中的异常一样。它避免了代码必须在整个过程中的每个点检查错误。&lt;/p&gt;&#xA;&lt;p&gt;如果查询成功完成，除了您请求的数据之外，您还可能收到一组&lt;code&gt;“信息”&lt;/code&gt; 和/或&lt;code&gt;“警告”&lt;/code&gt;。信息比较温和——例如，计数器名称不以 &lt;code&gt;_total&lt;/code&gt; 结尾——而警告则更严重，可能表明您的查询存在问题。警告的一个示例是分位数参数超出范围 0..1。&lt;/p&gt;&#xA;&lt;p&gt;您还可以通过将 &lt;code&gt;&amp;stats=1&lt;/code&gt; 添加到查询 URL 来获取查询执行统计信息。这将在 JSON 末尾提供一个额外的部分，其中包含时间和数据大小详细信息，例如 &lt;code&gt;queryPreparationTime&lt;/code&gt; 和 &lt;code&gt;execTotalTime&lt;/code&gt;。这些测量结果也会收集到一个汇总指标 &lt;code&gt;prometheus_engine_query_duration_seconds&lt;/code&gt; 中。&lt;/p&gt;&#xA;&lt;h2 id=&#34;how-can-you-see-inside&#34;&gt;如何看到内部？&lt;/h2&gt;&#xA;&lt;p&gt;要获得比指标或查询执行统计信息更详细的信息，您可以使用跟踪和分析来了解查询。&lt;/p&gt;&#xA;&lt;h3 id=&#34;tracing&#34;&gt;跟踪&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus 配备了 OpenTelemetry 跟踪，因此如果您有一个分布式跟踪系统，例如 &lt;a href=&#34;https://www.jaegertracing.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Jaeger&lt;/ a&gt; 或 &lt;a href=&#34;https://go2.grafana.com/tempo-on-grafana-cloud.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Grafana Tempo&lt;/a&gt;，您可以使用用于查看各个查询并了解它们是如何执行的。&lt;/p&gt;&#xA;&lt;p&gt;这个例子是查询&lt;code&gt;sum by(job, mode) (rate(node_cpu_seconds_total[1m])) \ / on(job) group_left sum by(job)(rate(node_cpu_seconds_total[1m]))&lt;/代码&gt;.&lt;/p&gt;&#xA;&lt;p&gt;轨迹由&lt;em&gt;跨度&lt;/em&gt;组成，每个跨度都有开始和结束时间。在查看器中，时间从左到右流动，从上到下流动。跟踪跨度的缩进显示了 PromQL 引擎如何执行 AST 中的每个节点。在这种情况下，BinaryExpr 节点调用两个​​ AggregateExpr 节点，每个节点都调用代表 &lt;code&gt;rate() 的 Call 节点&lt;/code&gt; 函数。范围向量选择器的数据获取显示为每个调用范围的一部分。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1333px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-tracing.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src =“/media/blog/promql-query/promql-tracing.png”data-srcset =“/media/blog/promql-query/promql-tracing.png？w = 320 320w，/media/blog/ promql-query/promql-tracing.png?w=550 550w，/media/blog/promql-query/promql-tracing.png?w=750 750w，/media/blog/promql-query/promql-tracing.png？ w=900 900w，/media/blog/promql-query/promql-tracing.png？w=1040 1040w，/media/blog/promql-query/promql-tracing.png？w=1240 1240w，/media/blog/ promql-query/promql-tracing.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;跟踪的屏幕截图。&#34;&#xA;宽度=“1333”&#xA;高度=“369”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-tracing.png”&#xA;alt=&#34;痕迹的屏幕截图。&#34;&#xA;宽度=“1333”&#xA;高度=“369”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h3 id=&#34;profiling&#34;&gt;分析&lt;/h3&gt;&#xA;&lt;p&gt;Prometheus 还可以通过 Go 语言运行时进行 CPU 和内存分析，因此我们可以查看 CPU 使用情况。下图显示 Prometheus 在 30 秒的时间内执行混合查询，因此它无法直接映射到单个查询，但您仍然可以看到调用是如何分解的。这是一个火焰图视图，其中从一个函数到另一个函数的调用从上到下进行，并且每个条形的宽度表示该函数花费了多少配置文件时间。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1680px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/promql-query/promql-profiling.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/promql-query/promql-profiling.png&#34;data-srcset=&#34;/media/blog/promql-query/promql-profiling.png?w=320 320w，/media/blog/ promql-query/promql-profiling.png?w=550 550w，/media/blog/promql-query/promql-profiling.png?w=750 750w，/media/blog/promql-query/promql-profiling.png？ w=900 900w，/media/blog/promql-query/promql-profiling.png？w=1040 1040w，/media/blog/promql-query/promql-profiling.png？w=1240 1240w，/media/blog/ promql-query/promql-profiling.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;火焰图示例。&#34;&#xA;宽度=“1680”&#xA;高度=“650”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/promql-query/promql-profiling.png”&#xA;alt=&#34;火焰图示例。&#34;&#xA;宽度=“1680”&#xA;高度=“650”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h2 id=&#34;how-to-learn-more&#34;&gt;如何了解更多信息&lt;/h2&gt;&#xA;&lt;p&gt;正如我在 PromCon 2024 演讲中提到的，在 PromQL 查询执行方面有&lt;em&gt;很多内容&lt;/em&gt;以及如何使您自己的查询更有效。虽然我希望这篇博文和我的演讲是有用的资源 - 您可以在此处找到&lt;a href=&#34;https://grafana.com/files/PromCon_2024_Inside-a-PromQL-Query.pdf&#34; 下载&gt;完整幻灯片 (3.4 MB)&lt;/a&gt;——我意识到你可以更深入地探讨这个话题。&lt;/p&gt;&#xA;&lt;p&gt;如果您正在学习 PromQL，Grafana 的 Prometheus 查询编辑器&lt;a href=&#34;/docs/grafana/latest/datasources/prometheus/query-editor/#builder-mode&#34;&gt;构建器模式&lt;/a&gt;非常有用对于查看表达式如何构建非常有用，并且可以轻松查看可用的操作。 &lt;a href=&#34;https://promlens.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;PromLens&lt;/a&gt; 是一个独立的工具，也是 PromQL 的另一个查询构建器，它更进一步，帮助您构建、理解和优化查询。 &lt;a href=&#34;https://prometheus.io/docs/prometheus/latest/querying/basics/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Prometheus 文档&lt;/a&gt; 是最终参考，但是这个有帮助的 &lt;a href=&#34;https://promlabs.com/promql-cheat-sheet/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;PromQL 备忘单&lt;/a&gt;可能更容易理解。&lt;/p&gt;&#xA;&lt;p&gt;最后，有一个大型 &lt;a href=&#34;https://grafana.slack.com/archives/C02GM2KE6QJ&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Grafana Community Slack&lt;/a&gt; 和几个 &lt; a href=&#34;https://prometheus.io/community/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Prometheus 社区频道&lt;/a&gt;，您可以用来寻求建议或交流技巧。我期待在那里见到您。&lt;/p&gt;</description>
      <pubDate>Tue, 08 Oct 2024 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>【Convert your dashboards into comprehensive web applications with the Business Suite for Grafana】使用 Business Suite for Grafana 将您的仪表板转换为全面的 Web 应用程序</title>
      <link>https://grafana.com/blog/2024/09/27/convert-your-dashboards-into-comprehensive-web-applications-with-the-business-suite-for-grafana/</link>
      <description>【&lt;p&gt;&lt;em&gt;Daria Volkova is a &lt;a href=&#34;/community/champions/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana Champion&lt;/a&gt; and &lt;a href=&#34;https://volkovlabs.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Volkov Labs&lt;/a&gt; co-founder.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;https://volkovlabs.io/plugins/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Business Suite for Grafana&lt;/a&gt; is a collection of uniquely positioned plugins developed by Volkov Labs. Each offers flexible and adaptable solutions for a wide range of business needs that go beyond observability, including file uploads, building a chart of any kind and configuration, leveraging all aspects of web design, video streaming, and more.&lt;/p&gt;&#xA;&lt;p&gt;This blog post provides details, examples, and short tutorials. Here you&amp;rsquo;ll learn what each plugin does, how others are using them, and the best way to get started.&lt;/p&gt;&#xA;&lt;p&gt;Currently, the Business Suite consists of 10 plugins, each developed for a niche task:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Business Input data source&lt;/li&gt;&#xA;&lt;li&gt;Business Media panel&lt;/li&gt;&#xA;&lt;li&gt;Business Variable panel&lt;/li&gt;&#xA;&lt;li&gt;Business Text panel&lt;/li&gt;&#xA;&lt;li&gt;Business News data source&lt;/li&gt;&#xA;&lt;li&gt;Business Satellite data source&lt;/li&gt;&#xA;&lt;li&gt;Business Forms panel&lt;/li&gt;&#xA;&lt;li&gt;Business Charts panel&lt;/li&gt;&#xA;&lt;li&gt;Business Calendar panel&lt;/li&gt;&#xA;&lt;li&gt;Business Table panel&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;The plugins are supported and maintained by Volkov Labs, so let us show you how you can put them to use today.&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-input-data-source&#34;&gt;Business Input data source&lt;/h2&gt;&#xA;&lt;p&gt;The Business Suits includes six visualization panels. You can use the Business Input data source to start playing with any of them.&lt;/p&gt;&#xA;&lt;p&gt;Go to the Grafana catalog and install it with one click. Alternatively, you can use &lt;a href=&#34;/grafana/plugins/marcusolsson-static-datasource/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;this link&lt;/a&gt;. From there, select it on your visualization panel and create any data frame for your experiments.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1623px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-input.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-input.png&#34;data-srcset=&#34;/media/blog/business-suite/business-input.png?w=320 320w, /media/blog/business-suite/business-input.png?w=550 550w, /media/blog/business-suite/business-input.png?w=750 750w, /media/blog/business-suite/business-input.png?w=900 900w, /media/blog/business-suite/business-input.png?w=1040 1040w, /media/blog/business-suite/business-input.png?w=1240 1240w, /media/blog/business-suite/business-input.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Buiness Input data source panel with text overlayed to describe various fields&#34;&#xA;width=&#34;1623&#34;&#xA;height=&#34;569&#34;&#xA;title=&#34;*Create any data frame for your experiment*s.&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-input.png&#34;&#xA;alt=&#34;Buiness Input data source panel with text overlayed to describe various fields&#34;&#xA;width=&#34;1623&#34;&#xA;height=&#34;569&#34;&#xA;title=&#34;*Create any data frame for your experiment*s.&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;Create any data frame for your experiment&lt;/em&gt;s.&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;The data frame example above would probably be the most utilized functionality. But the Business Input data source has much more to offer. It is enriched with the JavaScript module to simplify the data emulation.&lt;/p&gt;&#xA;&lt;p&gt;In short, the latest version of this plugin allows you to:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Create static visualizations that don&amp;rsquo;t depend on a specific data source.&lt;/li&gt;&#xA;&lt;li&gt;Specify values &lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-static-datasource/panels/business-charts/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;manually or use the JavaScript Values Editor&lt;/a&gt; code.&lt;/li&gt;&#xA;&lt;li&gt;Store data and images directly in the dashboard.&lt;/li&gt;&#xA;&lt;li&gt;Use the dashboard variables and global variables.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;In addition, the Business Input data source supports LLM models (OpenAI, custom) using the &lt;a href=&#34;/grafana/plugins/grafana-llm-app/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Grafana LLM App&lt;/a&gt;. When the LLM app is configured, a text area appears in the code editor mode.&lt;/p&gt;&#xA;&lt;p&gt;This text area allows you to use the response that will be received from the LLM app together with OpenAI. The result is stored in &lt;code&gt;context.llmResult.&lt;/code&gt;&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 820px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link&#34;&#xA;href=&#34;/media/blog/business-suite/business-input-add-query.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload &#34;&#xA;data-src=&#34;/media/blog/business-suite/business-input-add-query.png&#34;data-srcset=&#34;/media/blog/business-suite/business-input-add-query.png?w=320 320w, /media/blog/business-suite/business-input-add-query.png?w=550 550w, /media/blog/business-suite/business-input-add-query.png?w=750 750w, /media/blog/business-suite/business-input-add-query.png?w=900 900w, /media/blog/business-suite/business-input-add-query.png?w=1040 1040w, /media/blog/business-suite/business-input-add-query.png?w=1240 1240w, /media/blog/business-suite/business-input-add-query.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Business Input data source panel screenshot&#34;&#xA;width=&#34;820&#34;&#xA;height=&#34;1230&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-input-add-query.png&#34;&#xA;alt=&#34;Business Input data source panel screenshot&#34;&#xA;width=&#34;820&#34;&#xA;height=&#34;1230&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h2 id=&#34;business-media-panel&#34;&gt;Business Media panel&lt;/h2&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;/grafana/plugins/volkovlabs-image-panel/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Media panel&lt;/a&gt; is a Grafana plugin that renders images, PDFs, audio, and video files. The supported formats include: PNG, JPG, GIF, MP4, WEBM, MP3, OGG, and PDF.&lt;/p&gt;&#xA;&lt;p&gt;During &lt;a href=&#34;/events/grafanacon/2024/grafana-used-to-monitor-japan-slim-moon-lander/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;GrafanaCon 2024&lt;/a&gt;, we learned that this plugin was used by the Japan Aerospace Exploration Agency (JAXA) in their breathtaking &lt;a href=&#34;https://global.jaxa.jp/press/2024/01/20240125-1_e.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;moon landing project&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/JAXA-GCON.jpg&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/JAXA-GCON.jpg&#34;data-srcset=&#34;/media/blog/business-suite/JAXA-GCON.jpg?w=320 320w, /media/blog/business-suite/JAXA-GCON.jpg?w=550 550w, /media/blog/business-suite/JAXA-GCON.jpg?w=750 750w, /media/blog/business-suite/JAXA-GCON.jpg?w=900 900w, /media/blog/business-suite/JAXA-GCON.jpg?w=1040 1040w, /media/blog/business-suite/JAXA-GCON.jpg?w=1240 1240w, /media/blog/business-suite/JAXA-GCON.jpg?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Picture of the JAXA talk during GrafanaCON 2024&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1538&#34;&#xA;title=&#34;*The JAXA moon landing project utilizes the Business Media panel: sun-view and Earth-view 3D images.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/JAXA-GCON.jpg&#34;&#xA;alt=&#34;Picture of the JAXA talk during GrafanaCON 2024&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1538&#34;&#xA;title=&#34;*The JAXA moon landing project utilizes the Business Media panel: sun-view and Earth-view 3D images.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The JAXA moon landing project utilizes the Business Media panel: sun-view and Earth-view 3D images.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;It was staggering to realize that the &lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-image-panel/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Business Media &lt;/a&gt; panel was chosen to monitor the probe movements in real time.&lt;/p&gt;&#xA;&lt;p&gt;To start playing with the Business Media plugin:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Install the &lt;a href=&#34;/grafana/plugins/marcusolsson-static-datasource/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Input data source&lt;/a&gt; and choose it for your visualization panel.&lt;/li&gt;&#xA;&lt;li&gt;Add a field to store an image in the &amp;ldquo;String&amp;rdquo; format.&lt;/li&gt;&#xA;&lt;li&gt;Convert any image into base64. (There are plenty of free online services to do so.) Paste the value into the appropriate field of the Business Input data source.&lt;/li&gt;&#xA;&lt;li&gt;Select the Business Media visualization panel.&lt;/li&gt;&#xA;&lt;li&gt;Specify the Media &lt;strong&gt;type&lt;/strong&gt; — &amp;ldquo;Image.&amp;rdquo;&lt;/li&gt;&#xA;&lt;li&gt;Specify the field containing your image in the base64 format.&lt;/li&gt;&#xA;&lt;li&gt;Enjoy your image on the Grafana dashboard.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-media.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-media.png&#34;data-srcset=&#34;/media/blog/business-suite/business-media.png?w=320 320w, /media/blog/business-suite/business-media.png?w=550 550w, /media/blog/business-suite/business-media.png?w=750 750w, /media/blog/business-suite/business-media.png?w=900 900w, /media/blog/business-suite/business-media.png?w=1040 1040w, /media/blog/business-suite/business-media.png?w=1240 1240w, /media/blog/business-suite/business-media.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;UI screenshot showing how to store and display your first image using the Business Media panel in seven steps.&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1497&#34;&#xA;title=&#34;*Store and display your first image using the Business Media panel following these seven steps.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-media.png&#34;&#xA;alt=&#34;UI screenshot showing how to store and display your first image using the Business Media panel in seven steps.&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1497&#34;&#xA;title=&#34;*Store and display your first image using the Business Media panel following these seven steps.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;Store and display your first image using the Business Media panel following these seven steps.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h2 id=&#34;business-variable-panel&#34;&gt;Business Variable panel&lt;/h2&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;/grafana/plugins/volkovlabs-variable-panel/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Variable panel&lt;/a&gt; builds on top of the native dashboard variables. It allows you to have dashboard filters in a separate panel, which you can place anywhere on the dashboard.&lt;/p&gt;&#xA;&lt;p&gt;In addition, the Business Variable panel offers many layouts with robust options, including minimize, slider, buttons, and advanced tree view layouts. In the tree view layout you can add multiple tabs, search, and filtering. The Grafana thresholds feature is also supported.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1309px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-variable-layouts.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-variable-layouts.png&#34;data-srcset=&#34;/media/blog/business-suite/business-variable-layouts.png?w=320 320w, /media/blog/business-suite/business-variable-layouts.png?w=550 550w, /media/blog/business-suite/business-variable-layouts.png?w=750 750w, /media/blog/business-suite/business-variable-layouts.png?w=900 900w, /media/blog/business-suite/business-variable-layouts.png?w=1040 1040w, /media/blog/business-suite/business-variable-layouts.png?w=1240 1240w, /media/blog/business-suite/business-variable-layouts.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;The Business Variable panel layouts: tree view, minimize, slider, and buttons.&#34;&#xA;width=&#34;1309&#34;&#xA;height=&#34;361&#34;&#xA;title=&#34;*The Business Variable panel layouts: tree view, minimize, slider, and buttons.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-variable-layouts.png&#34;&#xA;alt=&#34;The Business Variable panel layouts: tree view, minimize, slider, and buttons.&#34;&#xA;width=&#34;1309&#34;&#xA;height=&#34;361&#34;&#xA;title=&#34;*The Business Variable panel layouts: tree view, minimize, slider, and buttons.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The Business Variable panel layouts: tree view, minimize, slider, and buttons.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Dashboard redirection is one of the most popular use cases this panel solves with ease.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 720px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-variable.gif&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-variable.gif&#34;alt=&#34;Switching between dashboards&#34;&#xA;width=&#34;720&#34;&#xA;height=&#34;480&#34;&#xA;title=&#34;*With the Business Variable panel you can switch between dashboards.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-variable.gif&#34;&#xA;alt=&#34;Switching between dashboards&#34;&#xA;width=&#34;720&#34;&#xA;height=&#34;480&#34;&#xA;title=&#34;*With the Business Variable panel you can switch between dashboards.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;With the Business Variable panel you can switch between dashboards.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;This feature allows the corresponding dashboard to be opened to a variable value. It is useful, for instance, if the Business Variable panel displays a list of some devices where every device requires a specific dashboard.&lt;/p&gt;&#xA;&lt;p&gt;The corresponding dashboard opens when a user selects a device in the Business Variable panel.&lt;/p&gt;&#xA;&lt;p&gt;You can find a &lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-variable-panel/redirect/?pg=blog&amp;amp;plcmt=body-txt&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;step-by-step tutorial here&lt;/a&gt;, but the best way to get started with this panel is to review the &lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-variable-panel/layout/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Display Mode section&lt;/a&gt; of the plugin documentation.&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-text-panel&#34;&gt;Business Text panel&lt;/h2&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;/grafana/plugins/marcusolsson-dynamictext-panel/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Text panel&lt;/a&gt; allows you to bring web design to your Grafana dashboard. You can use handlebars, Markdown, HTML, and CSS to create styles of any complexity.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-text.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-text.png&#34;data-srcset=&#34;/media/blog/business-suite/business-text.png?w=320 320w, /media/blog/business-suite/business-text.png?w=550 550w, /media/blog/business-suite/business-text.png?w=750 750w, /media/blog/business-suite/business-text.png?w=900 900w, /media/blog/business-suite/business-text.png?w=1040 1040w, /media/blog/business-suite/business-text.png?w=1240 1240w, /media/blog/business-suite/business-text.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Business Text panel&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;762&#34;&#xA;title=&#34;*Convert hard to read data into easy to grasp profile cards with the Business Text panel.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-text.png&#34;&#xA;alt=&#34;Business Text panel&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;762&#34;&#xA;title=&#34;*Convert hard to read data into easy to grasp profile cards with the Business Text panel.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;Convert hard to read data into easy to grasp profile cards with the Business Text panel.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;However, this is just the tip of the iceberg. After we added the ability to use custom JavaScript code with the plugin, it turned into a mini development framework within Grafana dashboards.&lt;/p&gt;&#xA;&lt;p&gt;That might be one of the big reasons it&amp;rsquo;s one of our most popular plugins, with more than 7 million downloads. (And don&amp;rsquo;t just take our word for it. A community member recently described the plugin as &amp;ldquo;&lt;a href=&#34;https://community.grafana.com/t/recommendation-business-text-panel-for-javascript-shenanigans/125839/?pg=blog&amp;amp;plcmt=body-txt&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;absurdly useful&lt;/a&gt;.&amp;rdquo;)&lt;/p&gt;&#xA;&lt;p&gt;With the external libraries feature, beloved panels like Flowchart can have a second life. Simply import an appropriate external library and write your code addressing the Flowchart libraries directly.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1076px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/flowchart-library.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/flowchart-library.png&#34;data-srcset=&#34;/media/blog/business-suite/flowchart-library.png?w=320 320w, /media/blog/business-suite/flowchart-library.png?w=550 550w, /media/blog/business-suite/flowchart-library.png?w=750 750w, /media/blog/business-suite/flowchart-library.png?w=900 900w, /media/blog/business-suite/flowchart-library.png?w=1040 1040w, /media/blog/business-suite/flowchart-library.png?w=1240 1240w, /media/blog/business-suite/flowchart-library.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Business Text panel UI&#34;&#xA;width=&#34;1076&#34;&#xA;height=&#34;986&#34;&#xA;title=&#34;*Import an appropriate external library and write your code addressing the Flowchart libraries directly.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/flowchart-library.png&#34;&#xA;alt=&#34;Business Text panel UI&#34;&#xA;width=&#34;1076&#34;&#xA;height=&#34;986&#34;&#xA;title=&#34;*Import an appropriate external library and write your code addressing the Flowchart libraries directly.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;Import an appropriate external library and write your code addressing the Flowchart libraries directly.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Our documentation describes that use case in detail. Please &lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-dynamictext-panel/external/#flowchart&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;find it here&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;And to get started with these powerful tools, explore &lt;a href=&#34;https://echarts.volkovlabs.io/d/ddtpy13k0obggc/business-news?orgId=1&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;our demo server&lt;/a&gt;. This server features a dashboard that displays news from the Business News data source, using the Business Text panel to present them on the Grafana dashboard. Feel free to open any panel in Edit mode and see how it can be done for yourself.&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-news-data-source&#34;&gt;Business News data source&lt;/h2&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;/grafana/plugins/volkovlabs-rss-datasource/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business News data source&lt;/a&gt; is a plugin for Grafana that retrieves RSS/Atom feeds and allows you to visualize them using Business Text and other visualization panels.&lt;/p&gt;&#xA;&lt;p&gt;Using the Business News data source, your Grafana dashboard can display all the latest news and updates from various web resources. For instance, the dashboard in the image below gives access to five online projects to keep you immediately informed about any fresh updates.&lt;/p&gt;&#xA;&lt;p&gt;The Business News panel supports dashboard and global variables. That is demonstrated by the Business Variable panel (no. 1 in the image below), which allows switching between Volkov Labs, Grafana, and News channel.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1226px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-news.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-news.png&#34;data-srcset=&#34;/media/blog/business-suite/business-news.png?w=320 320w, /media/blog/business-suite/business-news.png?w=550 550w, /media/blog/business-suite/business-news.png?w=750 750w, /media/blog/business-suite/business-news.png?w=900 900w, /media/blog/business-suite/business-news.png?w=1040 1040w, /media/blog/business-suite/business-news.png?w=1240 1240w, /media/blog/business-suite/business-news.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Business News data source UI &#34;&#xA;width=&#34;1226&#34;&#xA;height=&#34;948&#34;&#xA;title=&#34;*The dashboard combines five Business News data sources each paired with the Business Text panel.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-news.png&#34;&#xA;alt=&#34;Business News data source UI &#34;&#xA;width=&#34;1226&#34;&#xA;height=&#34;948&#34;&#xA;title=&#34;*The dashboard combines five Business News data sources each paired with the Business Text panel.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The dashboard combines five Business News data sources each paired with the Business Text panel.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;For the Business News data source configuration you need to specify Name and Feed URL as shown below.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 561px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/grafana-news.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/grafana-news.png&#34;data-srcset=&#34;/media/blog/business-suite/grafana-news.png?w=320 320w, /media/blog/business-suite/grafana-news.png?w=550 550w, /media/blog/business-suite/grafana-news.png?w=750 750w, /media/blog/business-suite/grafana-news.png?w=900 900w, /media/blog/business-suite/grafana-news.png?w=1040 1040w, /media/blog/business-suite/grafana-news.png?w=1240 1240w, /media/blog/business-suite/grafana-news.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;The Business News data source configuration.&#34;&#xA;width=&#34;561&#34;&#xA;height=&#34;337&#34;&#xA;title=&#34;*The Business News data source configuration.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/grafana-news.png&#34;&#xA;alt=&#34;The Business News data source configuration.&#34;&#xA;width=&#34;561&#34;&#xA;height=&#34;337&#34;&#xA;title=&#34;*The Business News data source configuration.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The Business News data source configuration.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;You can start playing with the Business News panel on &lt;a href=&#34;https://demo.volkovlabs.io/d/ddtpy13k0obggc/business-news?orgId=1&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;our demo server&lt;/a&gt; now.&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-satellite-data-source&#34;&gt;Business Satellite data source&lt;/h2&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;/grafana/plugins/volkovlabs-grapi-datasource/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Satellite data source&lt;/a&gt; facilitates access to the Grafana configuration database, the central repository for all Grafana settings, metadata, alerts, and annotations.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1685px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-satellite-workflow.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-satellite-workflow.png&#34;data-srcset=&#34;/media/blog/business-suite/business-satellite-workflow.png?w=320 320w, /media/blog/business-suite/business-satellite-workflow.png?w=550 550w, /media/blog/business-suite/business-satellite-workflow.png?w=750 750w, /media/blog/business-suite/business-satellite-workflow.png?w=900 900w, /media/blog/business-suite/business-satellite-workflow.png?w=1040 1040w, /media/blog/business-suite/business-satellite-workflow.png?w=1240 1240w, /media/blog/business-suite/business-satellite-workflow.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;The Business Satellite data source workflow&#34;&#xA;width=&#34;1685&#34;&#xA;height=&#34;778&#34;&#xA;title=&#34;*The Business Satellite data source simplifies access to the Grafana configuration storage.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-satellite-workflow.png&#34;&#xA;alt=&#34;The Business Satellite data source workflow&#34;&#xA;width=&#34;1685&#34;&#xA;height=&#34;778&#34;&#xA;title=&#34;*The Business Satellite data source simplifies access to the Grafana configuration storage.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The Business Satellite data source simplifies access to the Grafana configuration storage.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;By default, Grafana offers widgets, the predefined visualization panels that work via an invisible data source. The widgets are not customizable. With the Business Satellite data source, you can access the Grafana APIs and display the results on any visualization panel, which means you can get as creative as needed for your use case.&lt;/p&gt;&#xA;&lt;p&gt;As of now, the Business Satellite data source supports the following API calls:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Annotations&lt;/li&gt;&#xA;&lt;li&gt;Dashboards metadata&lt;/li&gt;&#xA;&lt;li&gt;Data sources&lt;/li&gt;&#xA;&lt;li&gt;Alerts&lt;/li&gt;&#xA;&lt;li&gt;Health information&lt;/li&gt;&#xA;&lt;li&gt;Organization users&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/Business-satellite.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/Business-satellite.png&#34;data-srcset=&#34;/media/blog/business-suite/Business-satellite.png?w=320 320w, /media/blog/business-suite/Business-satellite.png?w=550 550w, /media/blog/business-suite/Business-satellite.png?w=750 750w, /media/blog/business-suite/Business-satellite.png?w=900 900w, /media/blog/business-suite/Business-satellite.png?w=1040 1040w, /media/blog/business-suite/Business-satellite.png?w=1240 1240w, /media/blog/business-suite/Business-satellite.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Business Satellite data source UI&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1305&#34;&#xA;title=&#34;*All data pieces are fetched via the Business Satellite data source.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/Business-satellite.png&#34;&#xA;alt=&#34;Business Satellite data source UI&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1305&#34;&#xA;title=&#34;*All data pieces are fetched via the Business Satellite data source.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;All data pieces are fetched via the Business Satellite data source.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;We use this plugin to display alerts and annotation history in a table visualization where we can filter by many criteria such as device name, location, or user.&lt;/p&gt;&#xA;&lt;p&gt;The plugin also allows you to create a particular setting to work with multiple Grafana instances from one Grafana dashboard. In that setting, you can create one Grafana dashboard to analyze all other Grafana instances in one place. For example, you can ensure you&amp;rsquo;re using the correct Grafana versions, review the latest modifications (who, what, when), and many other things.&lt;/p&gt;&#xA;&lt;p&gt;The best way to start with the Business Satellite data source is to do the following:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Install the&lt;a href=&#34;/grafana/plugins/volkovlabs-grapi-datasource/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt; Business Satellite data source&lt;/a&gt; from the Grafana catalog.&lt;/li&gt;&#xA;&lt;li&gt;Add a new data source and configure it to be in the &amp;ldquo;Local&amp;rdquo; &lt;strong&gt;request mode&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 676px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/use-local.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/use-local.png&#34;data-srcset=&#34;/media/blog/business-suite/use-local.png?w=320 320w, /media/blog/business-suite/use-local.png?w=550 550w, /media/blog/business-suite/use-local.png?w=750 750w, /media/blog/business-suite/use-local.png?w=900 900w, /media/blog/business-suite/use-local.png?w=1040 1040w, /media/blog/business-suite/use-local.png?w=1240 1240w, /media/blog/business-suite/use-local.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;local request mode&#34;&#xA;width=&#34;676&#34;&#xA;height=&#34;481&#34;&#xA;title=&#34;*Use Local to quickly start with the Business Satellite data source.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/use-local.png&#34;&#xA;alt=&#34;local request mode&#34;&#xA;width=&#34;676&#34;&#xA;height=&#34;481&#34;&#xA;title=&#34;*Use Local to quickly start with the Business Satellite data source.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;Use Local to quickly start with the Business Satellite data source.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;&lt;em&gt;Use Local to quickly start with the Business Satellite data source.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;Add a visualization panel and connect to the newly created Business data source.&lt;/li&gt;&#xA;&lt;li&gt;Review all available request types and what they fetch.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 854px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-satellite.gif&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-satellite.gif&#34;alt=&#34;Review all aavailable requests in the UI&#34;&#xA;width=&#34;854&#34;&#xA;height=&#34;480&#34;&#xA;title=&#34;*The best way to start with the Business Satellite is to review all available requests.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-satellite.gif&#34;&#xA;alt=&#34;Review all aavailable requests in the UI&#34;&#xA;width=&#34;854&#34;&#xA;height=&#34;480&#34;&#xA;title=&#34;*The best way to start with the Business Satellite is to review all available requests.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The best way to start with the Business Satellite is to review all available requests.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h2 id=&#34;business-charts-panel&#34;&gt;Business Charts panel&lt;/h2&gt;&#xA;&lt;p&gt;With the &lt;a href=&#34;/grafana/plugins/volkovlabs-echarts-panel/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Charts panel&lt;/a&gt;, which is powered by the &lt;a href=&#34;https://echarts.apache.org&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Apache ECharts library&lt;/a&gt;, you can build highly customizable charts of any kind, from simple lines, bars, radar, and theme rivers to maps and 3D simulations.&lt;/p&gt;&#xA;&lt;p&gt;Every element is configurable. For instance, you can style fonts, colors, distances, positions, animation, and any other thing that comes to mind. We are yet to find what &lt;em&gt;can&amp;rsquo;t&lt;/em&gt; be customized in this panel. The graphs can be dynamic or transforming from one to another.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1280px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-charts.gif&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-charts.gif&#34;alt=&#34;A few examples of the Business Charts panel.&#34;&#xA;width=&#34;1280&#34;&#xA;height=&#34;720&#34;&#xA;title=&#34;*A few examples of the Business Charts panel.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-charts.gif&#34;&#xA;alt=&#34;A few examples of the Business Charts panel.&#34;&#xA;width=&#34;1280&#34;&#xA;height=&#34;720&#34;&#xA;title=&#34;*A few examples of the Business Charts panel.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;A few examples of the Business Charts panel.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;The best way to start with the Business Charts is to do the following:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Visit &lt;a href=&#34;https://echarts.volkovlabs.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;our demo project&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Pick any category of charts and use the “click for more” link.&lt;/li&gt;&#xA;&lt;li&gt;Scroll to review available examples in the selected category and go into ‘Edit’ mode of any chart of your preference.&lt;/li&gt;&#xA;&lt;li&gt;Open the &lt;strong&gt;Code&lt;/strong&gt; section and copy the &lt;strong&gt;Function&lt;/strong&gt; context (Ctrl+A, Ctrl+C).&lt;/li&gt;&#xA;&lt;li&gt;Go back to your Grafana dashboard, add a new visualization panel — Business Charts.&lt;/li&gt;&#xA;&lt;li&gt;Replace the &lt;strong&gt;Function&lt;/strong&gt; option with what you have copied (Ctrl+A, Ctrl+V).&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Save&lt;/strong&gt;, &lt;strong&gt;Apply&lt;/strong&gt; and you will see the same graph on your Grafana dashboard!&lt;/li&gt;&#xA;&lt;li&gt;Start experimenting with the code to achieve the style and functionality you need. Our &lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-echarts-panel/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;documentation&lt;/a&gt; should help to progress further.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 720px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-charts-2.gif&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-charts-2.gif&#34;alt=&#34;Business Charts panel UI&#34;&#xA;width=&#34;720&#34;&#xA;height=&#34;480&#34;&#xA;title=&#34;*The best way to start with the Business Charts is to copy any chart code to your Grafana dashboard.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-charts-2.gif&#34;&#xA;alt=&#34;Business Charts panel UI&#34;&#xA;width=&#34;720&#34;&#xA;height=&#34;480&#34;&#xA;title=&#34;*The best way to start with the Business Charts is to copy any chart code to your Grafana dashboard.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The best way to start with the Business Charts is to copy any chart code to your Grafana dashboard.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;h2 id=&#34;business-forms-panel&#34;&gt;Business Forms panel&lt;/h2&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;/grafana/plugins/volkovlabs-form-panel/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Forms panel&lt;/a&gt; is a conceptually new plugin for Grafana. It is the first plugin that allows you to insert and update application data, as well as modify configuration directly from your Grafana dashboard.&lt;/p&gt;&#xA;&lt;p&gt;With this plugin, you can convert any Grafana dashboard into a fully functional web application. For instance, if your dashboard monitors device performance and is able to signal when a certain metric is out of the range (e.g., the temperature is too high), the dashboard users can stay in Grafana to send a signal and turn on a fan (to reduce the temperature).&lt;/p&gt;&#xA;&lt;p&gt;Another example is using your dashboard to collect data points, like user feedback on the latest changes or any changes in the database (new/updated metrics value).&lt;/p&gt;&#xA;&lt;p&gt;This plugin is for advanced users who already have particular requirements in mind. And having requirements is a good way to start with this plugin. Over the last two years, we listened carefully to the community needs and were able to come up with the data flow that solves use cases that are known to us.&lt;/p&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1366px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-forms-data-flow.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-forms-data-flow.png&#34;data-srcset=&#34;/media/blog/business-suite/business-forms-data-flow.png?w=320 320w, /media/blog/business-suite/business-forms-data-flow.png?w=550 550w, /media/blog/business-suite/business-forms-data-flow.png?w=750 750w, /media/blog/business-suite/business-forms-data-flow.png?w=900 900w, /media/blog/business-suite/business-forms-data-flow.png?w=1040 1040w, /media/blog/business-suite/business-forms-data-flow.png?w=1240 1240w, /media/blog/business-suite/business-forms-data-flow.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;The Business Forms data flow&#34;&#xA;width=&#34;1366&#34;&#xA;height=&#34;1314&#34;&#xA;title=&#34;*The Business Forms data flow*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-forms-data-flow.png&#34;&#xA;alt=&#34;The Business Forms data flow&#34;&#xA;width=&#34;1366&#34;&#xA;height=&#34;1314&#34;&#xA;title=&#34;*The Business Forms data flow*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The Business Forms data flow&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;Also, it is important to mention, in the &lt;a href=&#34;https://volkovlabs.io/plugins/business-forms/servers/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;plugin documentation&lt;/a&gt; we share a ready-to-use code for five basic API servers, which you are copy/paste into your project:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;InfluxDB API&lt;/li&gt;&#xA;&lt;li&gt;JSON&lt;/li&gt;&#xA;&lt;li&gt;MySQL&lt;/li&gt;&#xA;&lt;li&gt;Node-RED&lt;/li&gt;&#xA;&lt;li&gt;PostgreSQL&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;This should give you a good start in your programming endeavors.&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-calendar-panel&#34;&gt;Business Calendar panel&lt;/h2&gt;&#xA;&lt;p&gt;Imagine having all the informational tidbits that you analyze every day neatly organized in one place. Why not add schedules, important events, and release dates to that mix with the Business Calendar panel and seamlessly integrate it with other Grafana features like filters?&lt;/p&gt;&#xA;&lt;p&gt;The &lt;a href=&#34;/grafana/plugins/marcusolsson-calendar-panel/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Calendar pane&lt;/a&gt; brings the&lt;a href=&#34;https://github.com/jquense/react-big-calendar&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt; Big Calendar&lt;/a&gt; library to Grafana with its modern design and incredible performance. Among many other features, enjoy the following capabilities:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Intuitive multi-language toolbar&lt;/li&gt;&#xA;&lt;li&gt;The ability to combine data from any data sources&lt;/li&gt;&#xA;&lt;li&gt;Event coloring based on the Grafana thresholds&lt;/li&gt;&#xA;&lt;li&gt;Displaying annotations across all dashboards for the specified period&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1999px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/configure-events.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/configure-events.png&#34;data-srcset=&#34;/media/blog/business-suite/configure-events.png?w=320 320w, /media/blog/business-suite/configure-events.png?w=550 550w, /media/blog/business-suite/configure-events.png?w=750 750w, /media/blog/business-suite/configure-events.png?w=900 900w, /media/blog/business-suite/configure-events.png?w=1040 1040w, /media/blog/business-suite/configure-events.png?w=1240 1240w, /media/blog/business-suite/configure-events.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;The Business Calendar panel in the Month layout&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1163&#34;&#xA;title=&#34;*The Business Calendar panel in the Month layout*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/configure-events.png&#34;&#xA;alt=&#34;The Business Calendar panel in the Month layout&#34;&#xA;width=&#34;1999&#34;&#xA;height=&#34;1163&#34;&#xA;title=&#34;*The Business Calendar panel in the Month layout*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The Business Calendar panel in the Month layout&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 1280px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-calendar.gif&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-calendar.gif&#34;alt=&#34;Business Calendar panel&#34;&#xA;width=&#34;1280&#34;&#xA;height=&#34;720&#34;&#xA;title=&#34;*The Business Calendar panel in the Agenda layout with Grafana Thresholds background colors.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-calendar.gif&#34;&#xA;alt=&#34;Business Calendar panel&#34;&#xA;width=&#34;1280&#34;&#xA;height=&#34;720&#34;&#xA;title=&#34;*The Business Calendar panel in the Agenda layout with Grafana Thresholds background colors.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;The Business Calendar panel in the Agenda layout with Grafana Thresholds background colors.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;You can start playing with the Business Calendar panel on our demo server following &lt;a href=&#34;https://echarts.volkovlabs.io/d/cdtmkqipv7mdcc/business-calendar?orgId=1&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;this link&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-table-panel&#34;&gt;Business Table panel&lt;/h2&gt;&#xA;&lt;p&gt;We created the &lt;a href=&#34;/grafana/plugins/volkovlabs-table-panel/?pg=blog&amp;amp;plcmt=body-txt&#34;&gt;Business Table panel&lt;/a&gt; to simplify user interaction with table-organized data. Currently, the main features include:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Summarizing a large amount of data&lt;/li&gt;&#xA;&lt;li&gt;Tree view with expandable and collapsible elements&lt;/li&gt;&#xA;&lt;li&gt;Supporting tabs for multiple data frame views&lt;/li&gt;&#xA;&lt;li&gt;Grafana&amp;rsquo;s thresholds are incorporated&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;figure&#xA;class=&#34;figure-wrapper figure-wrapper__lightbox w-100p &#34;&#xA;style=&#34;max-width: 917px;&#34;&#xA;itemprop=&#34;associatedMedia&#34;&#xA;itemscope=&#34;&#34;&#xA;itemtype=&#34;http://schema.org/ImageObject&#34;&#xA;&gt;&#xA;&lt;a&#xA;class=&#34;lightbox-link captioned&#34;&#xA;href=&#34;/media/blog/business-suite/business-table.png&#34;&#xA;itemprop=&#34;contentUrl&#34;&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;class=&#34;lazyload mb-0&#34;&#xA;data-src=&#34;/media/blog/business-suite/business-table.png&#34;data-srcset=&#34;/media/blog/business-suite/business-table.png?w=320 320w, /media/blog/business-suite/business-table.png?w=550 550w, /media/blog/business-suite/business-table.png?w=750 750w, /media/blog/business-suite/business-table.png?w=900 900w, /media/blog/business-suite/business-table.png?w=1040 1040w, /media/blog/business-suite/business-table.png?w=1240 1240w, /media/blog/business-suite/business-table.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Business Table panel&#34;&#xA;width=&#34;917&#34;&#xA;height=&#34;499&#34;&#xA;title=&#34;*Tabs and grouped columns in the Business Table panel.*&#34;&#xA;/&gt;&#xA;&lt;noscript&gt;&#xA;&lt;img&#xA;src=&#34;/media/blog/business-suite/business-table.png&#34;&#xA;alt=&#34;Business Table panel&#34;&#xA;width=&#34;917&#34;&#xA;height=&#34;499&#34;&#xA;title=&#34;*Tabs and grouped columns in the Business Table panel.*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p caption text-gray-13 &#34;&gt;&lt;em&gt;Tabs and grouped columns in the Business Table panel.&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/figure&gt;&#xA;&lt;p&gt;The best way to start with a plugin is to review the details about its first release in &lt;a href=&#34;https://volkovlabs.io/blog/business-table-1.2.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;our blog post.&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;what-does-the-future-hold&#34;&gt;&lt;strong&gt;What does the future hold?&lt;/strong&gt;&lt;/h2&gt;&#xA;&lt;p&gt;We are always on the lookout for the latest Grafana news and upcoming features to ensure our plugins are compatible with the latest Grafana updates. Our &lt;a href=&#34;https://volkovlabs.io/blog/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;company blog&lt;/a&gt; is the best way to follow our newest plugin releases with new features and demos.&lt;/p&gt;&#xA;&lt;p&gt;We plan to continue expanding and improving our existing plugins, and the Grafana community is an excellent resource for helping determine what should happen next for each plugin.&lt;/p&gt;&#xA;&lt;p&gt;We carefully study all the questions we receive on our YouTube channel and GitHub repository, and we use many of them as inspiration. Based on our three years of active interaction with the community, we can attest that those ideas will never cease to pour in.&lt;/p&gt;&#xA;&lt;p&gt;Grafana is one of a kind, incredible tool that can be a focal point of your web application development. We have productive experience with it and will continue to explore and create together! Bravo Grafana!&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;Want to share your Grafana story and dashboards with the community? Drop us a note at &lt;a href=&#34;mailto:stories@grafana.com&#34;&gt;stories@grafana.com&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;】&lt;p&gt;&lt;em&gt;Daria Volkova 是 &lt;a href=&#34;/community/champions/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana 冠军&lt;/a&gt;和&lt;a href=&#34;https://volkovlabs.io/ “ target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Volkov Labs&lt;/a&gt; 联合创始人。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://volkovlabs.io/plugins/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Grafana Business Suite&lt;/a&gt; 是由 Volkov 开发的一系列定位独特的插件实验室。每个解决方案都提供灵活且适应性强的解决方案，可满足超出可观察性的广泛业务需求，包括文件上传、构建任何类型和配置的图表、利用网页设计、视频流等的各个方面。&lt;/p&gt;&#xA;&lt;p&gt;这篇博文提供了详细信息、示例和简短教程。在这里，您将了解每个插件的用途、其他人如何使用它们以及最佳入门方法。&lt;/p&gt;&#xA;&lt;p&gt;目前，商务套件由 10 个插件组成，每个插件都是针对特定任务而开发的：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;业务输入数据源&lt;/li&gt;&#xA;&lt;li&gt;商业媒体面板&lt;/li&gt;&#xA;&lt;li&gt;业务变量面板&lt;/li&gt;&#xA;&lt;li&gt;业务文本面板&lt;/li&gt;&#xA;&lt;li&gt;商业新闻数据源&lt;/li&gt;&#xA;&lt;li&gt;商业卫星数据源&lt;/li&gt;&#xA;&lt;li&gt;业务表单面板&lt;/li&gt;&#xA;&lt;li&gt;业务图表面板&lt;/li&gt;&#xA;&lt;li&gt;商务日历面板&lt;/li&gt;&#xA;&lt;li&gt;商务桌面面板&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这些插件由 Volkov Labs 支持和维护，所以让我们向您展示如何立即使用它们。&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-input-data-source&#34;&gt;业务输入数据源&lt;/h2&gt;&#xA;&lt;p&gt;商务套装包括六个可视化面板。您可以使用业务输入数据源来开始使用其中的任何一个。&lt;/p&gt;&#xA;&lt;p&gt;进入Grafana目录，一键安装。或者，您也可以使用&lt;a href=&#34;/grafana/plugins/marcusolsson-static-datasource/?pg=blog&amp;plcmt=body-txt&#34;&gt;此链接&lt;/a&gt;。从那里，在可视化面板上选择它并为您的实验创建任何数据框架。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1623px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-input.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-input.png&#34;data-srcset=&#34;/media/blog/business-suite/business-input.png?w=320 320w，/media/blog/商务套件/business-input.png？w=550 550w，/media/blog/business-suite/business-input.png？w=750 750w，/media/blog/business-suite/business-input.png？ w=900 900w，/media/blog/business-suite/business-input.png？w=1040 1040w，/media/blog/business-suite/business-input.png？w=1240 1240w，/media/blog/商务套房/商务输入.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;业务输入数据源面板，其中叠加文本来描述各个字段&#34;&#xA;宽度=“1623”&#xA;高度=“569”&#xA;title=&#34;*为您的实验创建任何数据框*。&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-input.png”&#xA;alt=&#34;业务输入数据带有文本的源面板用于描述各个字段”&#xA;宽度=“1623”&#xA;高度=“569”&#xA;title=&#34;*为您的实验创建任何数据框*。&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;为您的实验创建任何数据框&lt;/em&gt;。&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;上面的数据框示例可能是最常用的功能。但业务输入数据源可以提供更多功能。它通过 JavaScript 模块进行了丰富，以简化数据模拟。&lt;/p&gt;&#xA;&lt;p&gt;简而言之，该插件的最新版本允许您：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;创建不依赖于特定数据源的静态可视化效果。&lt;/li&gt;&#xA;&lt;li&gt;手动指定值或使用 JavaScript 指定值值编辑器&lt;/a&gt;代码。&lt;/li&gt;&#xA;&lt;li&gt;直接将数据和图像存储在仪表板中。&lt;/li&gt;&#xA;&lt;li&gt;使用仪表板变量和全局变量。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;此外，业务输入数据源使用 &lt;a href=&#34;/grafana/plugins/grafana-llm-app/?pg=blog&amp;plcmt=body-txt&#34;&gt;Grafana LLM 应用程序支持 LLM 模型（OpenAI、自定义） &lt;/a&gt;。配置 LLM 应用程序后，代码编辑器模式中会出现一个文本区域。&lt;/p&gt;&#xA;&lt;p&gt;此文本区域允许您将从 LLM 应用程序收到的响应与 OpenAI 一起使用。结果存储在&lt;code&gt;context.llmResult中。&lt;/code&gt;&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：820px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接”&#xA;href=&#34;/media/blog/business-suite/business-input-add-query.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“延迟加载”&#xA;data-src=&#34;/media/blog/business-suite/business-input-add-query.png&#34;data-srcset=&#34;/media/blog/business-suite/business-input-add-query.png?w= 320 320w，/media/blog/business-suite/business-input-add-query.png?w=550 550w，/media/blog/business-suite/business-input-add-query.png?w=750 750w , /media/blog/business-suite/business-input-add-query.png?w=900 900w, /media/blog/business-suite/business-input-add-query.png?w=1040 1040w, /媒体/博客/business-suite/business-input-add-query.png?w=1240 1240w，/media/blog/business-suite/business-input-add-query.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;业务输入数据源面板屏幕截图&#34;&#xA;宽度=“820”&#xA;高度=“1230”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-input-add-query.png”&#xA;alt=&#34;业务输入数据源面板截图&#34;&#xA;宽度=“820”&#xA;高度=“1230”&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h2 id=&#34;business-media-panel&#34;&gt;商业媒体面板&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/grafana/plugins/volkovlabs-image-panel/?pg=blog&amp;plcmt=body-txt&#34;&gt;商业媒体面板&lt;/a&gt;是一个 Grafana 插件，可呈现图像、PDF、音频和视频文件。支持的格式包括：PNG、JPG、GIF、MP4、WEBM、MP3、OGG 和 PDF。&lt;/p&gt;&#xA;&lt;p&gt;期间&lt;a href=&#34;/events/grafanacon/2024/grafana-used-to-monitor-japan-slim-moon-lander/?pg=blog&amp;plcmt=body-txt&#34;&gt;GrafanaCon 2024&lt;/a&gt;，我们了解到该插件被日本宇宙航空研究开发机构（JAXA）使用）在他们令人惊叹的&lt;a href=&#34;https://global.jaxa.jp/press/2024/01/20240125-1_e.html&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;登月计划&lt;/a&gt; .&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/JAXA-GCON.jpg&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/JAXA-GCON.jpg&#34;data-srcset=&#34;/media/blog/business-suite/JAXA-GCON.jpg?w=320 320w，/media/blog/商务套件/JAXA-GCON.jpg？w=550 550w，/media/blog/business-suite/JAXA-GCON.jpg？w=750 750w，/media/blog/business-suite/JAXA-GCON.jpg？ w=900 900w，/media/blog/business-suite/JAXA-GCON.jpg？w=1040 1040w，/media/blog/business-suite/JAXA-GCON.jpg？w=1240 1240w，/media/blog/商务套房/JAXA-GCON.jpg?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;GrafanaCON 2024 期间 JAXA 演讲的图片&#34;&#xA;宽度=“1999”&#xA;高度=“1538”&#xA;title=&#34;*JAXA 登月项目利用商业媒体面板：太阳视图和地球视图 3D 图像。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/JAXA-GCON.jpg&#34;&#xA;alt=&#34;GrafanaCON 2024 期间 JAXA 演讲的图片&#34;&#xA;宽度=“1999”&#xA;高度=“1538”&#xA;title=&#34;*JAXA 登月项目利用商业媒体面板：太阳视图和地球视图 3D 图像。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;JAXA 登月项目利用商业媒体面板：太阳视图和地球视图 3D 图像。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;令人震惊的是，&lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-image-panel/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;商业媒体&lt;/a&gt;选择面板来实时监控探头运动。&lt;/p&gt;&#xA;&lt;p&gt;要开始使用 Business Media 插件：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;安装&lt;a href=&#34;/grafana/plugins/marcusolsson-static-datasource/?pg=blog&amp;plcmt=body-txt&#34;&gt;业务输入数据源&lt;/a&gt;并为您的可视化面板选择它。&lt;/li &gt;&#xA;&lt;li&gt;添加一个字段以“字符串”格式存储图像。&lt;/li&gt;&#xA;&lt;li&gt;将任何图像转换为 Base64。 （有很多免费在线服务可以执行此操作。）将值粘贴到业务输入数据源的相应字段中。&lt;/li&gt;&#xA;&lt;li&gt;选择商业媒体可视化面板。&lt;/li&gt;&#xA;&lt;li&gt;指定媒体&lt;strong&gt;类型&lt;/strong&gt; - “图像”。&lt;/li&gt;&#xA;&lt;li&gt;指定包含 Base64 格式图像的字段。&lt;/li&gt;&#xA;&lt;li&gt;在 Grafana 仪表板上欣赏您的图像。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;链接=“/media/blog/business-suite/business-media.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-media.png&#34;data-srcset=&#34;/media/blog/business-suite/business-media.png?w=320 320w，/media/blog/商务套件/商务媒体.png？w=550 550w，/media/blog/商务套件/商务媒体.png？w=750 750w，/media/blog/商务套件/商务媒体.png？ w=900 900w，/media/blog/business-suite/business-media.png？w=1040 1040w，/media/blog/business-suite/business-media.png？w=1240 1240w，/media/blog/商务套房/商务媒体.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;UI 屏幕截图，显示如何通过七个步骤使用商业媒体面板存储和显示您的第一张图像。&#34;&#xA;宽度=“1999”&#xA;高度=“1497”&#xA;title=&#34;*按照以下七个步骤使用商业媒体面板存储并显示您的第一张图像。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-media.png”&#xA;alt=&#34;UI 屏幕截图，显示如何通过七个步骤使用商业媒体面板存储和显示您的第一张图像。&#34;&#xA;宽度=“1999”&#xA;高度=“1497”&#xA;title=&#34;*按照以下七个步骤使用商业媒体面板存储并显示您的第一张图像。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;按照以下七个步骤使用商业媒体面板存储并显示您的第一张图像。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h2 id=&#34;business-variable-panel&#34;&gt;业务变量面板&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/grafana/plugins/volkovlabs-variable-panel/?pg=blog&amp;plcmt=body-txt&#34;&gt;业务变量面板&lt;/a&gt;构建在本机仪表板变量之上。它允许您在单独的面板中设置仪表板过滤器，您可以将其放置在仪表板上的任何位置。&lt;/p&gt;&#xA;&lt;p&gt;此外，业务变量面板提供了许多具有强大选项的布局，包括最小化、滑块、按钮和高级树视图布局。在树视图布局中，您可以添加多个选项卡、搜索和过滤。还支持 Grafana 阈值功能。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1309px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-variable-layouts.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src =“/media/blog/business-suite/business-variable-layouts.png”data-srcset =“/media/blog/business-suite/business-variable-layouts.png？w = 320 320w，/媒体/博客/business-suite/business-variable-layouts.png？w=550 550w，/media/blog/business-suite/business-variable-layouts.png？w=750 750w，/media/blog/business- suite/business-variable-layouts.png?w=900 900w，/media/blog/business-suite/business-variable-layouts.png?w=1040 1040w，/media/blog/business-suite/business-variable-布局.png?w=1240 1240w，/media/blog/business-suite/business-variable-layouts.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;业务变量面板布局：树视图、最小化、滑块和按钮。”&#xA;宽度=“1309”&#xA;高度=“361”&#xA;title=&#34;*业务变量面板布局：树视图、最小化、滑块和按钮。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-variable-layouts.png”&#xA;alt=&#34;业务变量面板布局：树视图、最小化、滑块和按钮。&#34;&#xA;宽度=“1309”&#xA;高度=“361”&#xA;title=&#34;*业务变量面板布局：树视图、最小化、滑块和按钮。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;业务变量面板布局：树视图、最小化、滑块和按钮。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;仪表板重定向是该面板可以轻松解决的最流行的用例之一。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：720px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-variable.gif&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-variable.gif&#34;alt=&#34;在仪表板之间切换&#34;&#xA;宽度=“720”&#xA;高度=“480”&#xA;title=&#34;*通过业务变量面板，您可以在仪表板之间切换。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/business-variable.gif&#34;&#xA;alt=&#34;在仪表板之间切换&#34;&#xA;宽度=“720”&#xA;高度=“480”&#xA;title=&#34;*通过业务变量面板，您可以在仪表板之间切换。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;通过业务变量面板，您可以在仪表板之间切换。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;此功能允许将相应的仪表板打开到变量值。例如，如果业务变量面板显示一些设备的列表，其中每个设备都需要特定的仪表板，那么它会很有用。&lt;/p&gt;&#xA;&lt;p&gt;当用户在业务变量面板中选择设备时，相应的仪表板将打开。&lt;/p&gt;&#xA;&lt;p&gt;您可以找到&lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-variable-panel/redirect/?pg=blog&amp;plcmt=body-txt&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34; &gt;这里有分步教程&lt;/a&gt;，但是开始使用此面板的最佳方法是查看&lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-variable-panel/layout/ &#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;插件文档的显示模式部分&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-text-panel&#34;&gt;商务文本面板&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/grafana/plugins/marcusolsson-dynamictext-panel/?pg=blog&amp;plcmt=body-txt&#34;&gt;业务文本面板&lt;/a&gt;可让您将网页设计引入 Grafana 仪表板。您可以使用把手、Markdown、HTML 和 CSS 创建任意复杂的样式。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/商务套装e/business-text.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-text.png&#34;data-srcset=&#34;/media/blog/business-suite/business-text.png?w=320 320w，/media/blog/商务套件/商务文本.png？w = 550 550w，/媒体/博客/商务套件/商务文本.png？w = 750 750w，/媒体/博客/商务套件/商务文本.png？ w=900 900w，/media/blog/business-suite/business-text.png？w=1040 1040w，/media/blog/business-suite/business-text.png？w=1240 1240w，/media/blog/商务套房/商务文本.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;业务文本面板&#34;&#xA;宽度=“1999”&#xA;高度=“762”&#xA;title=&#34;*使用商务文本面板将难以阅读的数据转换为易于掌握的个人资料卡。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-text.png”&#xA;alt=&#34;业务文本面板&#34;&#xA;宽度=“1999”&#xA;高度=“762”&#xA;title=&#34;*使用商务文本面板将难以阅读的数据转换为易于掌握的个人资料卡。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;使用业务文本面板将难以阅读的数据转换为易于掌握的个人资料卡。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;然而，这只是冰山一角。在我们添加了通过插件使用自定义 JavaScript 代码的功能后，它变成了 Grafana 仪表板中的迷你开发框架。&lt;/p&gt;&#xA;&lt;p&gt;这可能是它成为我们最受欢迎的插件之一（下载量超过 700 万次）的重要原因之一。 （不要只相信我们的话。一位社区成员最近将该插件描述为“&lt;a href=&#34;https://community.grafana.com/t/recommendation-business-text-panel-for-javascript- shenanigans/125839/?pg=blog&amp;plcmt=body-txt&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;非常有用&lt;/a&gt;。”）&lt;/p&gt;&#xA;&lt;p&gt;借助外部库功能，诸如流程图之类的受人喜爱的面板可以获得第二次生命。只需导入适当的外部库并直接编写处理流程图库的代码即可。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1076px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/flowchart-library.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/flowchart-library.png&#34;data-srcset=&#34;/media/blog/business-suite/flowchart-library.png?w=320 320w，/media/blog/业务套件/flowchart-library.png？w=550 550w，/media/blog/business-suite/flowchart-library.png？w=750 750w，/media/blog/business-suite/flowchart-library.png？ w=900 900w，/media/blog/business-suite/flowchart-library.png？w=1040 1040w，/media/blog/business-suite/flowchart-library.png？w=1240 1240w，/media/blog/商务套房/流程图库.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;业务文本面板 UI&#34;&#xA;宽度=“1076”&#xA;高度=“986”&#xA;title=&#34;*导入适当的外部库并令状e 您的代码直接寻址流程图库。*”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/flowchart-library.png”&#xA;alt=&#34;业务文本面板 UI&#34;&#xA;宽度=“1076”&#xA;高度=“986”&#xA;title=&#34;*导入适当的外部库并编写直接寻址流程图库的代码。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;导入适当的外部库并编写直接寻址流程图库的代码。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;我们的文档详细描述了该用例。请&lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-dynamictext-panel/external/#flowchart&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;在这里找到它&lt;/a&gt;。&lt;/p &gt;&#xA;&lt;p&gt;要开始使用这些强大的工具，请探索 &lt;a href=&#34;https://echarts.volkovlabs.io/d/ddtpy13k0obggc/business-news?orgId=1&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer &#34;&gt;我们的演示服务器&lt;/a&gt;。该服务器具有一个仪表板，可显示来自商业新闻数据源的新闻，并使用商业文本面板将它们呈现在 Grafana 仪表板上。请随意在编辑模式下打开任何面板，看看如何自己完成。&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-news-data-source&#34;&gt;商业新闻数据源&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/grafana/plugins/volkovlabs-rss-datasource/?pg=blog&amp;plcmt=body-txt&#34;&gt;商业新闻数据源&lt;/a&gt;是 Grafana 的一个插件，用于检索 RSS/Atom 提要和允许您使用商业文本和其他可视化面板将它们可视化。&lt;/p&gt;&#xA;&lt;p&gt;使用商业新闻数据源，您的 Grafana 仪表板可以显示来自各种网络资源的所有最新新闻和更新。例如，下图中的仪表板可以访问五个在线项目，让您立即了解任何最新更新。&lt;/p&gt;&#xA;&lt;p&gt;商业新闻面板支持仪表板和全局变量。业务变量面板（下图中的 1 号）演示了这一点，该面板允许在 Volkov Labs、Grafana 和新闻频道之间切换。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1226px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-news.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-news.png&#34;data-srcset=&#34;/media/blog/business-suite/business-news.png?w=320 320w，/media/blog/商务套房/商务新闻.png？w=550 550w，/media/blog/商务套件/商务新闻.png？w=750 750w，/media/blog/商务套件/商务新闻.png？ w=900 900w，/media/blog/business-suite/business-news.png?w=1040 1040w，/media/blog/business-suite/business-news.png?w=1240 1240w，/media/blog/商务套房/商务新闻.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;商业新闻数据源 UI &#34;&#xA;宽度=“1226”&#xA;高度=“948”&#xA;title=&#34;*仪表板结合了五个商业新闻数据源，每个数据源与商业新闻配对文本面板。*”&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/business-news.png&#34;&#xA;alt=&#34;商业新闻数据源 UI &#34;&#xA;宽度=“1226”&#xA;高度=“948”&#xA;title=&#34;*仪表板结合了五个商业新闻数据源，每个数据源都与商业文本面板配对。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;仪表板结合了五个商业新闻数据源，每个数据源都与商业文本面板配对。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;对于商业新闻数据源配置，您需要指定名称和 Feed URL，如下所示。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：561px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/grafana-news.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/grafana-news.png&#34;data-srcset=&#34;/media/blog/business-suite/grafana-news.png?w=320 320w，/media/blog/商务套件/grafana-news.png？w=550 550w，/media/blog/business-suite/grafana-news.png？w=750 750w，/media/blog/business-suite/grafana-news.png？ w=900 900w，/media/blog/business-suite/grafana-news.png？w=1040 1040w，/media/blog/business-suite/grafana-news.png？w=1240 1240w，/media/blog/商务套房/grafana-news.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;商业新闻数据源配置。&#34;&#xA;宽度=“561”&#xA;高度=“337”&#xA;title=&#34;*商业新闻数据源配置。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/grafana-news.png&#34;&#xA;alt=&#34;商业新闻数据源配置。&#34;&#xA;宽度=“561”&#xA;高度=“337”&#xA;title=&#34;*商业新闻数据源配置。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;商业新闻数据源配置。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;您可以开始使用 &lt;a href=&#34;https://demo.volkovlabs.io/d/ddtpy13k0obggc/business-news?orgId=1&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer 上的商业新闻面板&#34;&gt;我们的演示服务器现在&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-satellite-data-source&#34;&gt;商业卫星数据源&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/grafana/plugins/volkovlabs-grapi-datasource/?pg=blog&amp;plcmt=body-txt&#34;&gt;Business Satellite 数据源&lt;/a&gt;有助于访问 Grafana 配置数据库，该数据库是所有 Grafana 设置、元数据、警报和注释。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1685px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-satellite-workflow.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-satellite-workflow.png&#34;data-srcset=&#34;/media/blog/business-suite/business-satellite-workflow.png?w=320 320w, /媒体/博客/商务套件/商务卫星工作flow.png?w=550 550w, /media/blog/business-suite/business-satellite-workflow.png?w=750 750w, /media/blog/business-suite/business-satellite-workflow.png?w= 900 900w，/media/blog/business-suite/business-satellite-workflow.png?w=1040 1040w，/media/blog/business-suite/business-satellite-workflow.png?w=1240 1240w，/media/博客/business-suite/business-satellite-workflow.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;Business Satellite 数据源工作流程&#34;&#xA;宽度=“1685”&#xA;高度=“778”&#xA;title=&#34;*Business Satellite 数据源简化了对 Grafana 配置存储的访问。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/business-satellite-workflow.png&#34;&#xA;alt=&#34;Business Satellite 数据源工作流程&#34;&#xA;宽度=“1685”&#xA;高度=“778”&#xA;title=&#34;*Business Satellite 数据源简化了对 Grafana 配置存储的访问。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;Business Satellite 数据源简化了对 Grafana 配置存储的访问。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;默认情况下，Grafana 提供小部件，即通过不可见数据源工作的预定义可视化面板。小部件不可定制。借助 Business Satellite 数据源，您可以访问 Grafana API 并在任何可视化面板上显示结果，这意味着您可以根据用例的需要发挥创意。&lt;/p&gt;&#xA;&lt;p&gt;截至目前，Business Satellite 数据源支持以下 API 调用：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;注释&lt;/li&gt;&#xA;&lt;li&gt;仪表板元数据&lt;/li&gt;&#xA;&lt;li&gt;数据来源&lt;/li&gt;&#xA;&lt;li&gt;提醒&lt;/li&gt;&#xA;&lt;li&gt;健康信息&lt;/li&gt;&#xA;&lt;li&gt;组织用户&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/Business-satellite.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/Business-satellite.png&#34;data-srcset=&#34;/media/blog/business-suite/Business-satellite.png?w=320 320w，/media/blog/商务套件/商务卫星.png？w=550 550w，/media/blog/business-suite/Business-satellite.png？w=750 750w，/media/blog/business-suite/Business-satellite.png？ w=900 900w，/media/blog/business-suite/Business-satellite.png?w=1040 1040w，/media/blog/business-suite/Business-satellite.png?w=1240 1240w，/media/blog/商务套房/商务卫星.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;Business Satellite 数据源 UI&#34;&#xA;宽度=“1999”&#xA;高度=“1305”&#xA;title=&#34;*所有数据均通过 Business Satellite 数据源获取。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/Business-satellite.png&#34;&#xA;alt=&#34;Business Satellite 数据源 UI&#34;&#xA;宽度=“1999”&#xA;高度=“1305”&#xA;title=&#34;*所有数据均通过 Business Satellite 数据源获取。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;所有数据片段均通过 Business Satellite 获取数据源。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;我们使用此插件在表格可视化中显示警报和注释历史记录，我们可以根据设备名称、位置或用户等许多条件进行过滤。&lt;/p&gt;&#xA;&lt;p&gt;该插件还允许您创建一项特定设置，以便从一个 Grafana 仪表板处理多个 Grafana 实例。在该设置中，您可以创建一个 Grafana 仪表板来在一处分析所有其他 Grafana 实例。例如，您可以确保使用正确的 Grafana 版本、查看最新的修改（谁、什么、何时）以及许多其他内容。&lt;/p&gt;&#xA;&lt;p&gt;开始使用 Business Satellite 数据源的最佳方法是执行以下操作：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;从 Grafana 目录安装&lt;a href=&#34;/grafana/plugins/volkovlabs-grapi-datasource/?pg=blog&amp;plcmt=body-txt&#34;&gt;Business Satellite 数据源&lt;/a&gt;。&lt;/li&gt;&#xA;&lt;li&gt;添加新数据源并将其配置为“本地”&lt;strong&gt;请求模式&lt;/strong&gt;。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：676px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/use-local.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/use-local.png&#34;data-srcset=&#34;/media/blog/business-suite/use-local.png?w=320 320w，/media/blog/商务套件/use-local.png？w=550 550w，/media/blog/business-suite/use-local.png？w=750 750w，/media/blog/business-suite/use-local.png？ w=900 900w，/media/blog/business-suite/use-local.png？w=1040 1040w，/media/blog/business-suite/use-local.png？w=1240 1240w，/media/blog/商务套房/use-local.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;本地请求模式&#34;&#xA;宽度=“676”&#xA;高度=“481”&#xA;title=&#34;*使用 Local 快速启动 Business Satellite 数据源。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/use-local.png&#34;&#xA;alt=&#34;本地请求模式&#34;&#xA;宽度=“676”&#xA;高度=“481”&#xA;title=&#34;*使用 Local 快速启动 Business Satellite 数据源。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;使用 Local 快速启动 Business Satellite 数据源。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;&lt;em&gt;使用 Local 快速启动 Business Satellite 数据源。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;ol开始=“3”&gt;&#xA;&lt;li&gt;添加可视化面板并连接到新创建的业务数据源。&lt;/li&gt;&#xA;&lt;li&gt;查看所有可用的请求类型及其获取的内容。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：854px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-satellite.gif&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-satellite.gif&#34;alt=&#34;查看我的所有可用请求在用户界面中”&#xA;宽度=“854”&#xA;高度=“480”&#xA;title=&#34;*开始使用 Business Satellite 的最佳方法是查看所有可用的请求。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/business-satellite.gif&#34;&#xA;alt=&#34;查看 UI 中所有可用的请求&#34;&#xA;宽度=“854”&#xA;高度=“480”&#xA;title=&#34;*开始使用 Business Satellite 的最佳方法是查看所有可用的请求。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;开始使用 Business Satellite 的最佳方法是查看所有可用的请求。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h2 id=&#34;business-charts-panel&#34;&gt;业务图表面板&lt;/h2&gt;&#xA;&lt;p&gt;使用由 &lt;a href=&#34;https 提供支持的&lt;a href=&#34;/grafana/plugins/volkovlabs-echarts-panel/?pg=blog&amp;plcmt=body-txt&#34;&gt;业务图表面板&lt;/a&gt; ://echarts.apache.org&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Apache ECharts 库&lt;/a&gt;，您可以从简单的线条、条形图、雷达图和主题河流构建任何类型的高度可定制的图表地图和 3D 模拟。&lt;/p&gt;&#xA;&lt;p&gt;每个元素都是可配置的。例如，您可以设置字体、颜色、距离、位置、动画和任何其他想到的东西的样式。我们尚未发现哪些内容&lt;em&gt;不能&lt;/em&gt;在此面板中自定义。这些图表可以是动态的，也可以从一个图表转变为另一个图表。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1280px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-charts.gif&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-charts.gif&#34;alt=&#34;商业图表面板的一些示例。&#34;&#xA;宽度=“1280”&#xA;高度=“720”&#xA;title=&#34;*商业图表面板的一些示例。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-charts.gif”&#xA;alt=&#34;商业图表面板的一些示例。&#34;&#xA;宽度=“1280”&#xA;高度=“720”&#xA;title=&#34;*商业图表面板的一些示例。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;业务图表面板的一些示例。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;开始使用业务图表的最佳方法是执行以下操作：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;访问&lt;a href=&#34;https://echarts.volkovlabs.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;我们的演示项目&lt;/a&gt;。&lt;/li&gt;&#xA;&lt;li&gt;选择任意类别的图表并使用“点击查看更多”链接。&lt;/li&gt;&#xA;&lt;li&gt;滚动查看所选类别中的可用示例，然后进入您喜欢的任何图表的“编辑”模式。&lt;/li&gt;&#xA;&lt;li&gt;打开&lt;strong&gt;代码&lt;/strong&gt;部分并复制&lt;strong&gt;函数&lt;/strong&gt;上下文（Ctrl+A、Ctrl+C）。&lt;/li&gt;&#xA;&lt;li&gt;返回 Grafana 仪表板，添加新的可视化面板 - 业务图表。&lt;/li&gt;&#xA;&lt;li&gt;将&lt;strong&gt;函数&lt;/strong&gt;选项替换为您复制的内容（Ctrl+A、Ctrl+V）。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;保存&lt;/strong&gt;，&lt;strong&gt;应用&lt;/strong&gt;，您将看到相同的图表在您的 Grafana 仪表板上！&lt;/li&gt;&#xA;&lt;li&gt;开始尝试代码以实现您需要的样式和功能。我们的&lt;a href=&#34;https://volkovlabs.io/plugins/volkovlabs-echarts-panel/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;文档&lt;/a&gt;应该有助于进一步取得进展。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：720px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-charts-2.gif&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-charts-2.gif&#34;alt=&#34;商业图表面板 UI&#34;&#xA;宽度=“720”&#xA;高度=“480”&#xA;title=&#34;*开始使用业务图表的最佳方法是将任何图表代码复制到 Grafana 仪表板。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-charts-2.gif”&#xA;alt=&#34;业务图表面板 UI&#34;&#xA;宽度=“720”&#xA;高度=“480”&#xA;title=&#34;*开始使用业务图表的最佳方法是将任何图表代码复制到 Grafana 仪表板。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;开始使用业务图表的最佳方法是将任何图表代码复制到 Grafana 仪表板。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;h2 id=&#34;business-forms-panel&#34;&gt;业务表单面板&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/grafana/plugins/volkovlabs-form-panel/?pg=blog&amp;plcmt=body-txt&#34;&gt;业务表单面板&lt;/a&gt;是 Grafana 的一个概念性新插件。它是第一个允许您插入和更新应用程序数据以及直接从 Grafana 仪表板修改配置的插件。&lt;/p&gt;&#xA;&lt;p&gt;使用此插件，您可以将任何 Grafana 仪表板转换为功能齐全的 Web 应用程序。例如，如果您的仪表板监控设备性能，并且能够在某个指标超出范围（例如温度过高）时发出信号，则仪表板用户可以留在 Grafana 中发送信号并打开风扇（降低温度）。&lt;/p&gt;&#xA;&lt;p&gt;另一个示例是使用仪表板收集数据点，例如用户对最新更改或数据库中任何更改的反馈（新/更新的指标值）。&lt;/p&gt;&#xA;&lt;p&gt;此插件适用于已经有特定要求的高级用户。提出要求是开始使用此插件的好方法。在过去的两年里，我们仔细倾听了社区的需求，并能够提出解决我们已知的用例的数据流。&lt;/p&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1366px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-forms-data-flow.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-forms-data-flow.png&#34;data-srcset=&#34;/media/blog/business-suite/business-forms-data-flow.png?w=320 320w, /media/blog/business-suite/business-forms-data-flow.png?w=550 550w, /media/blog/business-suite/business -forms-data-flow.png?w=750 750w，/media/blog/business-suite/business-forms-data-flow.png?w=900 900w，/media/blog/business-suite/business-forms -data-flow.png?w=1040 1040w，/media/blog/business-suite/business-forms-data-flow.png?w=1240 1240w，/media/blog/business-suite/business-forms-data -flow.png?w=1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;业务表单数据流&#34;&#xA;宽度=“1366”&#xA;高度=“1314”&#xA;title=&#34;*业务表单数据流*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-forms-data-flow.png”&#xA;alt=&#34;业务表单数据流&#34;&#xA;宽度=“1366”&#xA;高度=“1314”&#xA;title=&#34;*业务表单数据流*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;业务表单数据流&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;另外，值得一提的是，在&lt;a href=&#34;https://volkovlabs.io/plugins/business-forms/servers/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;插件文档&lt; /a&gt; 我们共享五个基本 API 服务器的现成代码，您可以将其复制/粘贴到您的项目中：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;InfluxDB API&lt;/li&gt;&#xA;&lt;li&gt;JSON&lt;/li&gt;&#xA;&lt;li&gt;MySQL&lt;/li&gt;&#xA;&lt;li&gt;节点-RED&lt;/li&gt;&#xA;&lt;li&gt;PostgreSQL&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这将为您的编程工作提供一个良好的开端。&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-calendar-panel&#34;&gt;商务日历面板&lt;/h2&gt;&#xA;&lt;p&gt;想象一下，您每天分析的所有信息花絮都整齐地组织在一个地方。为什么不通过 Business Calendar 面板添加时间表、重要事件和发布日期，并将其与过滤器等其他 Grafana 功能无缝集成？&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;/grafana/plugins/marcusolsson-calendar-panel/?pg=blog&amp;plcmt=body-txt&#34;&gt;商务日历窗格&lt;/a&gt;带来了&lt;a href=&#34;https://github.com/marcusolsson-calendar-panel/?pg=blog&amp;plcmt=body-txt&#34;&gt;商务日历窗格&lt;/a&gt;。 com/jquense/react-big-calendar&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;大日历&lt;/a&gt; 库到 Grafana 以其现代的设计和令人难以置信的性能。在许多其他功能中，您可以享受以下功能：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;直观的多语言工具栏&lt;/li&gt;&#xA;&lt;li&gt;能够合并来自任何数据源的数据&lt;/li&gt;&#xA;&lt;li&gt;基于 Grafana 阈值的事件着色&lt;/li&gt;&#xA;&lt;li&gt;在指定时间段内的所有仪表板上显示注释&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1999px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/configure-events.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/configure-events.png&#34;data-srcset=&#34;/media/blog/business-suite/configure-events.png?w=320 320w，/media/blog/商务套件/configure-events.png？w=550 550w，/media/blog/business-suite/configure-events.png？w=750 750w，/media/blog/business-suite/configure-events.png？ w=900 900w，/媒体/博客/业务-suite/configure-events.png?w=1040 1040w，/media/blog/business-suite/configure-events.png?w=1240 1240w，/media/blog/business-suite/configure-events.png?w =1920 1920w&#34;&#xA;data-sizes=&#34;auto&#34;alt=&#34;月份布局中的业务日历面板&#34;&#xA;宽度=“1999”&#xA;高度=“1163”&#xA;title=&#34;*月份布局中的业务日历面板*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/configure-events.png”&#xA;alt=&#34;月份布局中的业务日历面板&#34;&#xA;宽度=“1999”&#xA;高度=“1163”&#xA;title=&#34;*月份布局中的业务日历面板*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;月份布局中的商务日历面板&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：1280px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-calendar.gif&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-calendar.gif&#34;alt=&#34;商务日历面板&#34;&#xA;宽度=“1280”&#xA;高度=“720”&#xA;title=&#34;*议程布局中的业务日历面板，具有 Grafana 阈值背景颜色。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src =“/media/blog/business-suite/business-calendar.gif”&#xA;alt=&#34;业务日历面板&#34;&#xA;宽度=“1280”&#xA;高度=“720”&#xA;title=&#34;*议程布局中的业务日历面板，具有 Grafana 阈值背景颜色。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;议程布局中的商务日历面板，具有 Grafana 阈值背景色。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;您可以按照 &lt;a href=&#34;https://echarts.volkovlabs.io/d/cdtmkqipv7mdcc/business-calendar?orgId=1&#34; target=&#34;_blank&#34; rel 开始使用我们演示服务器上的商务日历面板=&#34;noopener noreferrer&#34;&gt;此链接&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;h2 id=&#34;business-table-panel&#34;&gt;业务表格面板&lt;/h2&gt;&#xA;&lt;p&gt;我们创建了&lt;a href=&#34;/grafana/plugins/volkovlabs-table-panel/?pg=blog&amp;plcmt=body-txt&#34;&gt;业务表格面板&lt;/a&gt;来简化用户与表格组织数据的交互。目前主要功能包括：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;汇总大量数据&lt;/li&gt;&#xA;&lt;li&gt;具有可展开和可折叠元素的树视图&lt;/li&gt;&#xA;&lt;li&gt;支持多个数据框视图的选项卡&lt;/li&gt;&#xA;&lt;li&gt;纳入 Grafana 的阈值&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;图&#xA;类=“图包装图包装__lightbox w-100p”&#xA;样式=“最大宽度：917px；”&#xA;itemprop =“关联媒体”&#xA;项目范围=“”&#xA;itemtype =“http://schema.org/ImageObject”&#xA;&gt;&#xA;&lt;一&#xA;类=“灯箱链接标题”&#xA;href=&#34;/media/blog/business-suite/business-table.png&#34;&#xA;itemprop=“内容网址”&#xA;&gt;&#xA;&lt;div class=&#34;img-wrapper w-100p h-auto&#34;&gt;&lt;img&#xA;类=“lazyload mb-0”&#xA;data-src=&#34;/media/blog/business-suite/business-table.png&#34;data-srcset=&#34;/media/blog/business-suite/business-table.png?w=320 320w，/media/blog/商务套件/business-table.png?w=550 550w，/media/blog/business-suite/business-table.png?w=750 750w，/media/blog/business-suite/business-table.png?w=900 900w，/media/blog/business-suite/business-table.png?w=1040 1040w，/media/博客/business-suite/business-table.png?w=1240 1240w，/media/blog/business-suite/business-table.png?w=1920 1920w&#34;&#xA;data-size=&#34;auto&#34;alt=&#34;业务表格面板&#34;&#xA;宽度=“917”&#xA;高度=“499”&#xA;title=&#34;*业务表格面板中的选项卡和分组列。*&#34;&#xA;/&gt;&#xA;&lt;无脚本&gt;&#xA;&lt;图片&#xA;src=&#34;/media/blog/business-suite/business-table.png&#34;&#xA;alt=&#34;业务表面板&#34;&#xA;宽度=“917”&#xA;高度=“499”&#xA;title=&#34;*业务表格面板中的选项卡和分组列。*&#34;&#xA;/&gt;&#xA;&lt;/noscript&gt;&lt;/div&gt;&#xA;&lt;figcaption class=&#34;w-100p title text-gray-13 &#34;&gt;&lt;em&gt;业务表格面板中的选项卡和分组列。&lt;/em&gt;&lt;/figcaption&gt;&#xA;&lt;/a&gt;&#xA;&lt;/图&gt;&#xA;&lt;p&gt;开始使用插件的最佳方法是在 &lt;a href=&#34;https://volkovlabs.io/blog/business-table-1.2.0/&#34; target=&#34;_blank&#34; 中查看有关其第一个版本的详细信息rel=&#34;noopener noreferrer&#34;&gt;我们的博客文章。&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;what-does-the-future-hold&#34;&gt;&lt;strong&gt;未来会怎样？&lt;/strong&gt;&lt;/h2&gt;&#xA;&lt;p&gt;我们始终关注最新的 Grafana 新闻和即将推出的功能，以确保我们的插件与最新的 Grafana 更新兼容。我们的&lt;a href=&#34;https://volkovlabs.io/blog/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;公司博客&lt;/a&gt;是了解我们最新插件版本以及新功能和演示的最佳方式.&lt;/p&gt;&#xA;&lt;p&gt;我们计划继续扩展和改进我们现有的插件，Grafana 社区是帮助确定每个插件接下来应该发生的情况的绝佳资源。&lt;/p&gt;&#xA;&lt;p&gt;我们仔细研究了在 YouTube 频道和 GitHub 存储库中收到的所有问题，并将其中许多问题作为灵感。基于我们三年来与社区的积极互动，我们可以证明这些想法将永远不会停止涌入。&lt;/p&gt;&#xA;&lt;p&gt;Grafana 是一种独一无二的、令人难以置信的工具，可以成为 Web 应用程序开发的焦点。我们对此有着丰富的经验，并将继续共同探索和创造！格拉法纳太棒了！&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;想要与社区分享您的 Grafana 故事和仪表板吗？请发送邮件至 &lt;a href=&#34;mailto:stories@grafana.com&#34;&gt;stories@grafana.com&lt;/a&gt;。&lt;/em&gt;&lt;/p&gt;</description>
      <pubDate>Fri, 27 Sep 2024 00:00:00 +0000</pubDate>
    </item>
  </channel>
</rss>